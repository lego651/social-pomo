(window["webpackJsonpsocial-pomo"]=window["webpackJsonpsocial-pomo"]||[]).push([[0],{133:function(e,t,a){e.exports=a.p+"static/media/co-working.0743e540.svg"},134:function(e,t,a){e.exports=a.p+"static/media/join-room.0bf66e13.svg"},135:function(e,t,a){e.exports=a.p+"static/media/create-room.e87cff51.svg"},140:function(e,t,a){e.exports=a(226)},168:function(e,t,a){},171:function(e,t,a){},173:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){},224:function(e,t,a){},225:function(e,t,a){},226:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(19),c=a.n(r),l=a(16),s=a(53),i=a(20),u=a.n(i),m=(a(165),a(123)),d=a.n(m);a(168),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var p=a(51),h=a(124),E=a(94),f=a(18),g=function(e){var t="Bearer ".concat(e);localStorage.setItem("FBIdToken",t),u.a.defaults.headers.common.Authorization=t},b=function(){return function(e){u.a.get("/user").then((function(t){e({type:"SET_USER",payload:t.data}),e({type:"CLEAR_ERRORS"})})).catch((function(e){return console.log(e)}))}},v=function(e){return function(t){u.a.get("/user").then((function(a){t({type:"SET_USER",payload:a.data}),e.push("/dashboard")})).catch((function(e){return console.log(e)}))}},O=function(){return function(e){localStorage.removeItem("FBIdToken"),delete u.a.defaults.headers.common.Authorization,e({type:"SET_UNAUTHENTICATED"}),window.location.href="/login"}},j=function(e){return function(t){t({type:"CLEAR_ERRORS"});var a={project:e};u.a.post("/project",a).then((function(e){t({type:"ADD_PROJECT",payload:a}),t({type:"SET_SUCCESS",payload:{project:"New project created."}})})).catch((function(e){console.log(e),t({type:"SET_ERRORS",payload:e.response.data})}))}},y=function(e){return function(t){t({type:"CLEAR_ERRORS"});var a={tag:e};u.a.post("/tag",a).then((function(e){t({type:"ADD_TAG",payload:a}),t({type:"SET_SUCCESS",payload:{tag:"New tag created."}})})).catch((function(e){t({type:"SET_ERRORS",payload:e.response.data})}))}},S=function(e,t,a){return function(n){var o={content:"".concat(a," commit to work on: ").concat(e,"."),roomName:t,userHandle:a};u.a.post("/message",o).then((function(t){n({type:"SET_TODO",payload:e})})).catch((function(e){return console.log(e)}))}},w=function(){return function(e){return e({type:"REMOVE_TODO"})}},C=function(e){return function(t){t({type:"LOADING_MESSAGE"}),u.a.post("/message",e).then((function(e){t({type:"STOP_LOADING_MESSAGE"})})).catch((function(e){}))}},N=function(e,t){return function(a){u.a.post("/joinroom",e).then((function(n){console.log(n),null!==n.data.success&&(a({type:"ADD_INROOM",payload:e.roomName}),t.push("/room/".concat(e.roomName)))})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}},k=function(e,t){return function(a){a({type:"LOADING_UI"}),u.a.post("/leaveroom",{roomName:t}).then((function(t){null!==t.data.success&&(a({type:"REMOVE_INROOM"}),a({type:"CLEAR_ERRORS"}),e.push("/room"))})).catch((function(e){console.log(e)}))}},I=function(e,t){return function(a){a({type:"LOADING_UI"}),u.a.post("/room/delete",{roomName:t}).then((function(t){null!==t.data.success&&(a({type:"REMOVE_INROOM_OWNSROOM"}),a({type:"CLEAR_ERRORS"}),e.push("/room"))})).catch((function(e){console.log(e)}))}},R=function(e){return function(t){u.a.post("/pomo",e).then((function(e){console.log(e)})).catch((function(e){console.error(e)}))}},T=function(){return function(e){e({type:"CLEAR_SUCCESS"})}},P=function(){return function(e){e({type:"CLEAR_ERRORS"})}},U={LOG_IN:"LOG_IN",GET_MESSAGES:"GET_MESSAGES"};function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _={authenticated:!1,loading:!1,todo:null,profile:{}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTHENTICATED":return A({},e,{authenticated:!0});case"SET_UNAUTHENTICATED":return _;case U.LOG_IN:return A({},e,{username:t.username});case"SET_USER":return{authenticated:!0,loading:!1,profile:t.payload.profile};case"SET_NICKNAME":return A({},e,{loading:!1,profile:A({},e.profile,{nickName:t.payload})});case"ADD_PROJECT":return A({},e,{profile:A({},e.profile,{projects:[].concat(Object(E.a)(e.profile.projects),[t.payload.project])})});case"REMOVE_PROJECT":return A({},e,{profile:A({},e.profile,{projects:e.profile.projects.filter((function(e){return e!==t.payload.project}))})});case"ADD_TAG":return A({},e,{profile:A({},e.profile,{tags:[].concat(Object(E.a)(e.profile.tags),[t.payload.tag])})});case"REMOVE_TAG":return A({},e,{profile:A({},e.profile,{projects:e.profile.tags.filter((function(e){return e!==t.payload.tag}))})});case"ADD_INROOM":return A({},e,{profile:A({},e.profile,{inRoom:t.payload})});case"REMOVE_INROOM":return A({},e,{profile:A({},e.profile,{inRoom:null})});case"ADD_INROOM_OWNSROOM":return A({},e,{profile:A({},e.profile,{inRoom:t.payload,ownsRoom:t.payload})});case"REMOVE_INROOM_OWNSROOM":return A({},e,{profile:A({},e.profile,{inRoom:null,ownsRoom:null})});case"SET_TODO":return A({},e,{todo:t.payload});case"REMOVE_TODO":return A({},e,{todo:null});case"START_MATCHING":return A({},e,{profile:A({},e.profile,{matching:!0})});default:return e}};function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var G={messages:[]},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U.GET_MESSAGES:return L({},e,{messages:t.payload});default:return e}};function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var W={loading:!1,errors:null,success:null,loadingMessage:!1};function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var J={pomos:[]},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U.GET_POMOS:return V({},e,{pomos:t.payload});default:return e}},Y=Object(p.c)({user:D,room:H,pomo:q,UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERRORS":return F({},e,{loading:!1,errors:t.payload});case"CLEAR_ERRORS":return F({},e,{loading:!1,errors:null});case"SET_SUCCESS":return F({},e,{loading:!1,success:t.payload});case"CLEAR_SUCCESS":return F({},e,{loading:!1,success:null});case"LOADING_UI":return F({},e,{loading:!0});case"STOP_LOADING_UI":return F({},e,{loading:!1});case"LOADING_MESSAGE":return F({},e,{loadingMessage:!0});case"STOP_LOADING_MESSAGE":return F({},e,{loadingMessage:!1});default:return e}}}),X=Object(p.e)(Y,Object(p.d)(Object(p.a)(h.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),K=a(7),$=a(8),Q=a(10),Z=a(9),ee=a(11),te=a(24),ae=a(13),ne=a(14),oe=a(253),re=a(126),ce=a(264),le=a(254),se=(a(171),a(69)),ie=a.n(se),ue=function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t={email:a.state.email,password:a.state.password,confirmPassword:a.state.confirmPassword,handle:a.state.handle};a.props.signupUser(t,a.props.history)},a.state={email:"",password:"",confirmPassword:"",handle:"",errors:{}},a}return Object(ee.a)(t,e),Object($.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this,t=this.state.errors,a=this.props.UI.loading;return o.a.createElement("div",{className:"signup-container"},o.a.createElement(oe.a,null,o.a.createElement(re.a,{md:5,xs:12,className:"left-col"},o.a.createElement("div",{className:"login-left"},o.a.createElement("h3",null,"Free Sign Up"),o.a.createElement("h5",null,"Don't have an account? Create your account, it takes less than a minute."),o.a.createElement("div",{className:"signup-form"},o.a.createElement(ce.a,{onSubmit:function(t){e.handleSubmit(t)}},o.a.createElement(ce.a.Group,null,o.a.createElement(ce.a.Label,null,o.a.createElement("h5",null,o.a.createElement("b",null,"Email address"))),o.a.createElement(ce.a.Control,{type:"email",placeholder:"Enter email",name:"email",onChange:function(t){e.handleChange(t)},isInvalid:!!t.email}),o.a.createElement(ce.a.Control.Feedback,{type:"invalid"},t.email)),o.a.createElement(ce.a.Group,null,o.a.createElement(ce.a.Label,null,o.a.createElement("h5",null,o.a.createElement("b",null,"Password"))),o.a.createElement(ce.a.Control,{type:"password",placeholder:"Password",name:"password",onChange:function(t){e.handleChange(t)},isInvalid:!!t.password}),o.a.createElement(ce.a.Control.Feedback,{type:"invalid"},t.password)),o.a.createElement(ce.a.Group,{controlId:"formBasicPassword"},o.a.createElement(ce.a.Label,null,o.a.createElement("h5",null,o.a.createElement("b",null,"Confirm Password"))),o.a.createElement(ce.a.Control,{type:"password",placeholder:"Confirm Password",name:"confirmPassword",onChange:function(t){e.handleChange(t)},isInvalid:!!t.confirmPassword}),o.a.createElement(ce.a.Control.Feedback,{type:"invalid"},t.confirmPassword)),o.a.createElement(ce.a.Group,{controlId:"formBasicEmail"},o.a.createElement(ce.a.Label,null,o.a.createElement("h5",null,o.a.createElement("b",null,"Username"))),o.a.createElement(ce.a.Control,{type:"text",placeholder:"Username",name:"handle",onChange:function(t){e.handleChange(t)},isInvalid:!!t.handle}),o.a.createElement(ce.a.Control.Feedback,{type:"invalid"},t.handle)),o.a.createElement(le.a,{variant:"info",type:"submit"},a?o.a.createElement(ae.a,{className:"icon",icon:ne.q,spin:!0}):o.a.createElement(ae.a,{className:"icon",icon:ne.v}),"Sign Up"),o.a.createElement("div",{className:"link-to-login"},o.a.createElement("h5",null,"Already have account? ",o.a.createElement("b",null,o.a.createElement(te.a,{to:"/login"}," Log In ")))))))),o.a.createElement(re.a,{md:7,xs:12,className:"right-col"},o.a.createElement("div",{className:"login-right"},o.a.createElement("img",{src:ie.a,alt:"loginPic"}),o.a.createElement("h2",null,"I love it!")))))}}]),t}(n.Component),me=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{signupUser:function(e,t){return function(a){a({type:"LOADING_UI"}),u.a.post("/signup",e).then((function(e){g(e.data.token),a(v(t)),a({type:"CLEAR_ERRORS"})})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}}})(ue),de=a(268),pe=a(265),he=a(255),Ee=(a(173),a(66)),fe=a.n(Ee),ge=function(e){function t(){return Object(K.a)(this,t),Object(Q.a)(this,Object(Z.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object($.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"home-container"},o.a.createElement(de.a,{className:"nav-container"},o.a.createElement(de.a.Brand,{href:"/"}," ",o.a.createElement("h2",null,"Social Pomo")," "),o.a.createElement(de.a.Toggle,null),o.a.createElement(de.a.Collapse,{className:"justify-content-end"},o.a.createElement(pe.a.Link,{href:"/login"},o.a.createElement("span",null,o.a.createElement("h3",null,"Sign in"))),o.a.createElement(pe.a.Link,{href:"/signup"},o.a.createElement("span",{id:"signup"},o.a.createElement("h3",null,"Sign up"))))),o.a.createElement("div",{className:"intro-container"},o.a.createElement("h1",null,"Social Pomo"),o.a.createElement("h3",null,"A new way to beat procrastination, stay focused, and get things done."),o.a.createElement("h3",{className:"next-line"},"Stay in the zone with your friend or a stranger. "),o.a.createElement(he.a,null,o.a.createElement(le.a,null,"Get Started"))),o.a.createElement("div",{className:"highlights"},o.a.createElement(oe.a,{className:"highlights-1"},o.a.createElement(re.a,{className:"content-left",xs:"3"},o.a.createElement("h2",null,"Old & New friends"),o.a.createElement("h5",null,"Creat a room and invite your friend to start working with you or join an open room"),o.a.createElement(le.a,null,o.a.createElement(te.a,{to:"/signup"},"Sign Up"))),o.a.createElement(re.a,{className:"pic-right",xs:"7"},o.a.createElement("img",{src:fe.a,alt:"tomato"}))),o.a.createElement(oe.a,{className:"highlights-2"},o.a.createElement(re.a,{className:"pic-left",xs:"7"},o.a.createElement("img",{src:fe.a,alt:"tomato"})),o.a.createElement(re.a,{className:"content-right",xs:"3"},o.a.createElement("h2",null,"Enforced pomodoro tech"),o.a.createElement("h5",null,"Share your goals and start focusing for 25mins"),o.a.createElement(le.a,null,o.a.createElement(te.a,{to:"/signup"},"Sign Up")))),o.a.createElement(oe.a,{className:"highlights-3"},o.a.createElement(re.a,{className:"content-left",xs:"3"},o.a.createElement("h2",null,"To know everything"),o.a.createElement("h5",null,"A complete history to track your accomplishments"),o.a.createElement(le.a,null,o.a.createElement(te.a,{to:"/signup"},"Sign Up"))),o.a.createElement(re.a,{className:"pic-right",xs:"7"},o.a.createElement("img",{src:fe.a,alt:"tomato"}))),o.a.createElement(oe.a,{className:"highlights-4"},o.a.createElement(re.a,{className:"pic-left",xs:"7"},o.a.createElement("img",{src:fe.a,alt:"tomato"})),o.a.createElement(re.a,{className:"content-right",xs:"3"},o.a.createElement("h2",null,"It works where you go"),o.a.createElement("h5",null,"Anytime, anywhere, available for mobile web, App coming soon"),o.a.createElement(le.a,null,o.a.createElement(te.a,{to:"/signup"},"Sign Up"))))),o.a.createElement(oe.a,{className:"features"},o.a.createElement(re.a,{xs:"4"},o.a.createElement("h3",null,"Stay focused"),o.a.createElement("h3",null,"Get things done")),o.a.createElement(re.a,{xs:"4"},o.a.createElement("h3",null,"Meet new friends"),o.a.createElement("h3",null,"Beat procrastination")),o.a.createElement(re.a,{xs:"4"},o.a.createElement("h3",null,"Web and App"),o.a.createElement("h3",null,"Get motivated"))),o.a.createElement("div",{className:"footer"},"Made with ",o.a.createElement("span",null,o.a.createElement(ae.a,{icon:ne.h}))," By J&C"),o.a.createElement("br",null))}}]),t}(n.Component),be=a(256),ve=a(38),Oe=(a(179),a(182),a(48)),je=a.n(Oe),ye=function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).handleLogout=function(){a.props.logoutUser()},a.state={content:"",showMenu:!1},a.showMenu=a.showMenu.bind(Object(ve.a)(a)),a.closeMenu=a.closeMenu.bind(Object(ve.a)(a)),a}return Object(ee.a)(t,e),Object($.a)(t,[{key:"showMenu",value:function(e){var t=this;e.preventDefault(),this.setState({showMenu:!0},(function(){document.addEventListener("click",t.closeMenu)}))}},{key:"closeMenu",value:function(e){var t=this;this.dropdownMenu.contains(e.target)||this.setState({showMenu:!1},(function(){document.removeEventListener("click",t.closeMenu)}))}},{key:"render",value:function(){var e=this,t=this.props.user.profile.avatar;return o.a.createElement("div",{className:"navbar-container"},o.a.createElement(be.a,null,o.a.createElement(de.a,null,o.a.createElement(de.a.Brand,{href:"/dashboard"}," Social Pomo "),o.a.createElement(de.a.Toggle,null),o.a.createElement(de.a.Collapse,{className:"justify-content-end"},o.a.createElement(de.a.Text,{className:"dropdown"},o.a.createElement("div",{className:"dropdown-wrapper",onClick:this.showMenu},o.a.createElement("img",{src:t||je.a,alt:"avatar"}),o.a.createElement("span",null," ",o.a.createElement(ae.a,{icon:ne.c}))),this.state.showMenu?o.a.createElement("div",{ref:function(t){e.dropdownMenu=t}},o.a.createElement("div",{className:"dropdown-content"},o.a.createElement("a",{href:"/dashboard"}," Dashboard "),o.a.createElement("a",{onClick:this.handleLogout},"Sign out"))):null)))))}}]),t}(n.Component),Se=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{addTodo:S,logoutUser:O})(ye),we=(a(183),function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).state={content:""},a}return Object(ee.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this.props.user.profile,t=e.avatar,a=e.nickName,n=e.handle,r=null===a?n:a;return o.a.createElement("div",{className:"navleft-container"},o.a.createElement("div",{className:"navleft-user"},t?o.a.createElement("img",{src:t,alt:"avatar"}):o.a.createElement("img",{src:je.a,alt:"avatar"}),r?o.a.createElement("p",null," ",r," "):o.a.createElement("p",null," \xa0 ")),o.a.createElement("ul",{className:"navs"},o.a.createElement("li",null,o.a.createElement(te.b,{to:"/dashboard",activeClassName:"active"},o.a.createElement("span",null,o.a.createElement(ae.a,{icon:ne.r})),"Dashboard")),o.a.createElement("li",null,o.a.createElement(te.b,{to:"/match",activeClassName:"active"},o.a.createElement("span",null,o.a.createElement(ae.a,{icon:ne.e})),"Match")),o.a.createElement("li",null,o.a.createElement(te.b,{to:"/room",activeClassName:"active"},o.a.createElement("span",null,o.a.createElement(ae.a,{icon:ne.e})),"Room")),o.a.createElement("li",null,o.a.createElement(te.b,{to:"/project"},o.a.createElement("span",null,o.a.createElement(ae.a,{icon:ne.g})),"Projects")),o.a.createElement("li",null,o.a.createElement(te.b,{to:"/tag"},o.a.createElement("span",null,o.a.createElement(ae.a,{icon:ne.s})),"Tags")),o.a.createElement("hr",null),o.a.createElement("li",null,o.a.createElement(te.b,{to:"/account"},o.a.createElement("span",null,o.a.createElement(ae.a,{icon:ne.d})),"My Account")),o.a.createElement("li",null,o.a.createElement(te.b,{to:"/password"},o.a.createElement("span",null,o.a.createElement(ae.a,{icon:ne.i})),"Password"))))}}]),t}(n.Component)),Ce=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{addTodo:S})(we),Ne=(a(184),function(e){function t(){var e,a;Object(K.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(Q.a)(this,(e=Object(Z.a)(t)).call.apply(e,[this].concat(o)))).handleClick=function(e){a.props.logoutUser()},a.handleMatch=function(e){console.log("clicked..")},a}return Object(ee.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"overview-container"},o.a.createElement(Se,null),o.a.createElement(be.a,null,o.a.createElement(oe.a,null,o.a.createElement(re.a,{xs:"3"},o.a.createElement(Ce,null)),o.a.createElement(re.a,{xs:"9"},o.a.createElement("div",{className:"overview-header"},o.a.createElement("h3",null," Overview "),o.a.createElement(le.a,{onClick:function(){e.handleMatch()}},o.a.createElement(ae.a,{icon:ne.m})," Match")),o.a.createElement(oe.a,null,o.a.createElement(re.a,{xs:"4"},o.a.createElement("div",{className:"panel total-pomo"},o.a.createElement("div",{className:"panel-header"},o.a.createElement("h5",null," Total Pomos "),o.a.createElement("span",null,o.a.createElement(ae.a,{icon:ne.w}))),o.a.createElement("h2",null," 125 ")),o.a.createElement("div",{className:"panel last-week"},o.a.createElement("div",{className:"panel-header"},o.a.createElement("h5",null," Last 7 days "),o.a.createElement("span",{className:"blue"},o.a.createElement(ae.a,{icon:ne.b}))),o.a.createElement("h2",null," 35 "))),o.a.createElement(re.a,{xs:"8"},"Chart"))))))}}]),t}(n.Component)),ke=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{logoutUser:O})(Ne),Ie=(a(185),function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t={email:a.state.email,password:a.state.password};a.props.loginUser(t,a.props.history)},a.state={email:"",password:"",errors:{}},a}return Object(ee.a)(t,e),Object($.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this,t=this.state.errors,a=this.props.UI.loading;return o.a.createElement("div",{className:"login-container"},o.a.createElement(oe.a,null,o.a.createElement(re.a,{md:5,xs:12,className:"left-col"},o.a.createElement("div",{className:"login-left"},o.a.createElement("h3",null,"Sign In App"),o.a.createElement("h5",null,"Enter your email address and password to access account."),o.a.createElement("div",{className:"login-form"},o.a.createElement(ce.a,{onSubmit:function(t){e.handleSubmit(t)}},o.a.createElement(ce.a.Group,{controlId:"formBasicEmail"},o.a.createElement(ce.a.Label,null,o.a.createElement("h5",null,o.a.createElement("b",null,"Email address"))),o.a.createElement(ce.a.Control,{type:"email",placeholder:"Enter email",name:"email",onChange:function(t){e.handleChange(t)},value:this.state.email,isInvalid:!!t.email}),o.a.createElement(ce.a.Control.Feedback,{type:"invalid"},t.email)),o.a.createElement(ce.a.Group,{controlId:"formBasicPassword"},o.a.createElement(ce.a.Label,null,o.a.createElement("h5",null,o.a.createElement("b",null,"Password"))),o.a.createElement(ce.a.Control,{type:"password",placeholder:"Password",name:"password",onChange:function(t){e.handleChange(t)},value:this.state.password,isInvalid:!!t.password}),o.a.createElement(ce.a.Control.Feedback,{type:"invalid"},t.password)),o.a.createElement(le.a,{variant:"info",type:"submit"},a?o.a.createElement(ae.a,{className:"icon",icon:ne.q,spin:!0}):o.a.createElement(ae.a,{className:"icon",icon:ne.n}),o.a.createElement("span",null," Log In ")),o.a.createElement("div",{className:"link-to-signup"},o.a.createElement("h5",null,"Don't have an account? ",o.a.createElement("b",null,o.a.createElement(te.a,{to:"/signup"}," Sign Up ")))))))),o.a.createElement(re.a,{md:7,xs:12,className:"right-col"},o.a.createElement("div",{className:"login-right"},o.a.createElement("img",{src:ie.a,alt:"loginPic"}),o.a.createElement("h2",null,"I love it!")))))}}]),t}(n.Component)),Re=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{loginUser:function(e,t){return function(a){console.log("action data is",e),a({type:"LOADING_UI"}),u.a.post("/login",e).then((function(e){g(e.data.token),a(v(t)),a({type:"CLEAR_ERRORS"})})).catch((function(e){console.log(e),a({type:"SET_ERRORS",payload:e.response.data})}))}}})(Ie),Te=(a(186),a(269)),Pe=a(257),Ue=(a(187),function(e){function t(){var e,a;Object(K.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(Q.a)(this,(e=Object(Z.a)(t)).call.apply(e,[this].concat(o)))).deleteMessages=function(e){a.props.deleteMessages(e)},a.deleteRoom=function(e,t){a.props.deleteRoom(e,t)},a}return Object(ee.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.roomName,n=t.isOwner,r=t.history;this.props.UI.loading;return o.a.createElement("div",{className:"commit-container"},o.a.createElement(he.a,null,n?o.a.createElement(Te.a,{key:"delete",placement:"top",overlay:o.a.createElement(Pe.a,{id:"delete"},"Delete Room")},o.a.createElement(le.a,{id:"clear",variant:"secondary",onClick:function(){return e.deleteRoom(r,a)}},o.a.createElement(ae.a,{className:"icon",icon:ne.t}))):null,n?o.a.createElement(Te.a,{key:"clear",placement:"top",overlay:o.a.createElement(Pe.a,{id:"clear"},"Clear Messages")},o.a.createElement(le.a,{id:"clear",variant:"secondary",onClick:function(){return e.deleteMessages(a)}},o.a.createElement(ae.a,{className:"icon",icon:ne.u}))):null,o.a.createElement(Te.a,{key:"leave",placement:"top",overlay:o.a.createElement(Pe.a,{id:"leave"},"Leave Room")},o.a.createElement(le.a,{id:"leave",variant:"secondary",onClick:function(){return e.props.onLeave()}},o.a.createElement(ae.a,{className:"icon",icon:ne.o}))),o.a.createElement(Te.a,{key:"commit",placement:"top",overlay:o.a.createElement(Pe.a,{id:"commit"},"New Commit")},o.a.createElement(le.a,{id:"commit",variant:"secondary",onClick:function(){return e.props.onOpenModal()}},o.a.createElement(ae.a,{className:"icon",icon:ne.k})))))}}]),t}(n.Component)),Me=Object(l.b)((function(e){return{username:e.user.profile.handle,UI:e.UI}}),(function(e){return{deleteMessages:function(t){return e((a=t,function(e){e({type:"LOADING_UI"}),u.a.post("/messages",{roomName:a}).then((function(t){e({type:"CLEAR_ERRORS"})})).catch((function(e){}))}));var a},deleteRoom:function(t,a){return e(I(t,a))}}}))(Ue),Ae=a(79),_e=a.n(Ae);a(194);_e.a.initializeApp({apiKey:"AIzaSyBuRc03LvtY55WHAkzyUfaNInvRPsp5Enc",authDomain:"social-pomo-94112.firebaseapp.com",databaseURL:"https://social-pomo-94112.firebaseio.com",projectId:"social-pomo-94112",storageBucket:"social-pomo-94112.appspot.com",messagingSenderId:"105418250972"}),_e.a.firestore().settings({});var De=_e.a,xe=(a(197),a(198),function(e){var t=e.item,a=e.curHandle,n=t.userHandle===a;return console.log(t),o.a.createElement("div",{className:"message-container"+(n?" isOwner":"")},o.a.createElement("img",{className:"userImg"+(n?" isOwner":""),src:t.avatar?t.avatar:je.a,alt:"avatar"}),o.a.createElement("div",{className:"message-sender"+(n?" isOwner":"")},o.a.createElement("b",null," ",o.a.createElement("i",null,t.userHandle," "))),o.a.createElement("div",{className:"message-content"},o.a.createElement("p",null," ",t.content," ")))}),Le=function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).onUpdateMessages=function(e){var t=[];e.forEach((function(e){t.push({userHandle:e.data().userHandle,content:e.data().content,createdAt:e.data().createdAt,avatar:e.data().avatar})})),a.setState({messages:t},(function(){a.showNotification(t[t.length-1])}))},a.scrollToBottom=function(){a.messagesEnd.scrollIntoView({behavior:"smooth"})},a.grantNotificationPermission=function(){"Notification"in window?"granted"!==Notification.permission?"denied"===Notification.permission&&"default"!==Notification.permission||Notification.requestPermission().then((function(e){"granted"===e&&new Notification("Awesome! You will start receiving notifications shortly")})):new Notification("You are already subscribed to message notifications"):alert("This browser does not support system notifications")},a.showNotification=function(e){if(console.log("showNotification is called,",e),console.log("curUsername is",a.curHandle),e.userHandle!==a.curHandle){var t=e.userHandle,n=e.content;new Notification(t,{body:n})}},a.ref=De.firestore().collection("rooms").doc(a.props.roomname).collection("messages"),a.unsubscribe=null,a.state={messages:[],content:""},a.curHandle=e.username,a.showNotification=a.showNotification.bind(Object(ve.a)(a)),a}return Object(ee.a)(t,e),Object($.a)(t,[{key:"componentDidMount",value:function(){this.curHandle=this.props.username,this.unsubscribe=this.ref.orderBy("createdAt").onSnapshot(this.onUpdateMessages),this.scrollToBottom(),this.grantNotificationPermission()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"handleChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),this.state.content.length>0){var t={userHandle:this.props.username,content:this.state.content,roomName:this.props.roomname};this.props.addMessage(t),this.setState({content:""})}}},{key:"render",value:function(){var e=this,t=this.props,a=t.username,n=(t.roomname,this.props.UI.loadingMessage);return o.a.createElement("div",{className:"chatroom-container"},o.a.createElement("div",{className:"message-list"},this.state.messages&&this.state.messages.map((function(e){return o.a.createElement(xe,{key:"".concat(e.createdAt,"-").concat(e.content),item:e,curHandle:a})})),o.a.createElement("div",{style:{float:"left",clear:"both"},ref:function(t){e.messagesEnd=t}})),o.a.createElement("div",{className:"chatroom-input"},o.a.createElement(ce.a,{onSubmit:function(t){e.handleSubmit(t)}},o.a.createElement(ce.a.Group,{controlId:"formTextContent"},o.a.createElement(ce.a.Control,{type:"text",placeholder:"Type a message",name:"content",onChange:function(t){e.handleChange(t)},value:this.state.content})),o.a.createElement(le.a,{variant:"primary",type:"submit"},n?o.a.createElement(ae.a,{className:"icon",icon:ne.q,spin:!0}):o.a.createElement(ae.a,{className:"icon",icon:ne.j})))))}}]),t}(n.Component),Ge=Object(l.b)((function(e){return{username:e.user.profile.handle,UI:e.UI}}),(function(e){return{addMessage:function(t){return e(C(t))}}}))(Le),He=a(93),Be=(a(199),a(200),function(e){return Math.floor(e/60)+" : "+Math.round(e%60)}),Fe=a(267),We=(a(201),function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).openAddProject=function(){a.setState({addProject:!0})},a.closeAddProject=function(){a.setState({addProject:!1})},a.openAddTag=function(){a.setState({addTag:!0})},a.closeAddTag=function(){a.setState({addTag:!1})},a.addNewProject=function(){a.state.newProject.length>0&&a.props.addProject(a.state.newProject)},a.addNewTag=function(){a.state.newTag.length>0&&a.props.addTag(a.state.newTag)},a.handleChange=function(e){a.props.clearSuccess(),a.props.clearErrors(),a.setState(Object(f.a)({},e.target.name,e.target.value))},a.handleMultiChange=function(e){a.props.clearSuccess(),a.props.clearErrors(),a.setState({tag:Array.from(e.target.selectedOptions,(function(e){return e.value}))})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.content.length>0?a.state.content:a.props.user.todo,n=new Date,o={content:t,project:a.state.project,tag:a.state.tag,month:n.getMonth(),date:n.getDate(),day:n.getDay(),hour:n.getHours(),minute:n.getMinutes()};a.props.createPomo(o),a.props.removeTodo(),a.props.onHide()},a.state={content:"",project:"Other",tag:[],addProject:!1,addTag:!1,newProject:"",newTag:""},a}return Object(ee.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this,t=this.props.user.profile,a=t.projects,n=t.tags,r=this.props.user.todo,c=this.props.UI,l=c.errors,s=c.success;return o.a.createElement(Fe.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"pomo-modal"}),o.a.createElement(Fe.a.Header,{closeButton:!0},o.a.createElement(Fe.a.Title,{id:"contained-modal-title-vcenter"},"Add to history pomo")),o.a.createElement(Fe.a.Body,null,o.a.createElement(ce.a,{onSubmit:function(t){e.handleSubmit(t)}},o.a.createElement(ce.a.Group,{controlId:"formBasicEmail"},o.a.createElement(ce.a.Label,null," What did you accomplish? "),o.a.createElement(ce.a.Control,{type:"text",placeholder:"Enter your task",defaultValue:r,name:"content",onChange:function(t){e.handleChange(t)}})),o.a.createElement(ce.a.Group,{controlId:"exampleForm.ControlSelect1"},o.a.createElement(ce.a.Label,null,"Select project"),o.a.createElement(ce.a.Control.Feedback,{type:"invalid"},l&&l.project),o.a.createElement(ce.a.Control.Feedback,{type:"valid"},s&&s.project),o.a.createElement(ce.a.Control,{as:"select",name:"project",onChange:function(t){e.handleChange(t)}},a&&a.map((function(e,t){return o.a.createElement("option",{key:t}," ",e," ")}))),this.state.addProject?o.a.createElement("div",{className:"add-project-wrapper"},o.a.createElement("span",{className:"hidden-btn",onClick:function(){e.addNewProject()}},"+ Create project"),o.a.createElement("input",{type:"text",placeholder:"Enter project name",name:"newProject",onChange:function(t){e.handleChange(t)}}),o.a.createElement("span",{className:"hidden-btn cancel",onClick:function(){return e.closeAddProject()}},"Cancel")):o.a.createElement("div",{className:"add-project-wrapper create"},o.a.createElement("span",{className:"hidden-btn",onClick:function(){return e.openAddProject()}},"Create new project"))),o.a.createElement(ce.a.Group,{controlId:"exampleForm.ControlSelect2"},o.a.createElement(ce.a.Control.Feedback,{type:"invalid"},l&&l.tag),o.a.createElement(ce.a.Control.Feedback,{type:"valid"},s&&s.tag),o.a.createElement(ce.a.Label,null," Select tag "),o.a.createElement(ce.a.Control,{as:"select",multiple:!0,name:"tag",onChange:function(t){e.handleMultiChange(t)}},n&&n.map((function(e,t){return o.a.createElement("option",{key:t}," ",e," ")}))),this.state.addTag?o.a.createElement("div",{className:"add-tag-wrapper"},o.a.createElement("span",{className:"hidden-btn",onClick:function(){e.addNewTag()}},"+ Create tag"),o.a.createElement("input",{type:"text",placeholder:"Enter tag name",name:"newTag",onChange:function(t){e.handleChange(t)}}),o.a.createElement("span",{className:"hidden-btn cancel",onClick:function(){return e.closeAddTag()}},"Cancel")):o.a.createElement("div",{className:"add-tag-wrapper create"},o.a.createElement("span",{className:"hidden-btn",onClick:function(){return e.openAddTag()}},"Create new tag"))),o.a.createElement(le.a,{variant:"primary",type:"submit"},"Submit"))),o.a.createElement(Fe.a.Footer,null,o.a.createElement(le.a,{onClick:this.props.onHide}," Cancel "),o.a.createElement(le.a,{onClick:this.handleSubmit}," Submit ")))}}]),t}(n.Component)),ze=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{createPomo:R,removeTodo:w,addProject:j,clearErrors:P,clearSuccess:T,addTag:y})(We),Ve=a(76),Je=a.n(Ve),qe=function(e){function t(e){var a;Object(K.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).count=function(e){a.state.on&&a.state.startTime&&(a.state.sec>0?a.setState({sec:1500-Math.floor(((new Date).getTime()-e)/1e3)}):(a.audio.play(),a.setState({on:!1,modalShow:!0,sec:1500})))},a.start=function(e){a.interval=setInterval((function(e){a.count(e)}),1e3,e)},a.reset=function(){a.setState({sec:1500,on:!1}),clearInterval(a.interval)},a.handleStart=function(e){e.preventDefault();var t={roomName:a.props.roomName};u.a.post("/startcount",t).then((function(e){console.log(e)})).catch((function(e){console.error(e)}))},a.handleReset=function(e){e.preventDefault();var t={roomName:a.props.roomName};u.a.post("/resetcount",t).then((function(e){a.setState({on:!1,startTime:null,sec:1500}),clearInterval(a.interval)})).catch((function(e){console.error(e)}))},a.subscribeStart=function(e){e.data()&&a.setState({on:e.data().on,startTime:e.data().startTime}),e.data()&&e.data().startTime&&a.start(e.data().startTime)},a.setModalShow=function(e){a.setState({modalShow:e})},a.handleChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))};var n=a.props.roomName;return a.ref=De.firestore().collection("rooms").doc(n),a.unsubsrcibe=null,a.audio=new Audio(Je.a),a.state={sec:1500,on:!1,startTime:null,modalShow:!0},a}return Object(ee.a)(t,e),Object($.a)(t,[{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.onSnapshot(this.subscribeStart)}},{key:"componentWillUnmount",value:function(){this.unsubscribe=null,this.setState({sec:1500,on:!1,startTime:null,modalShow:!1})}},{key:"render",value:function(){var e=this,t=100*(this.state.sec/1500);console.log(t);var a=o.a.createElement("div",null,this.state.on?o.a.createElement("div",{className:"control stop",onClick:function(t){e.handleReset(t)}},o.a.createElement(ae.a,{icon:ne.p})):o.a.createElement("div",{className:"control play",onClick:function(t){e.handleStart(t)}},o.a.createElement(ae.a,{icon:ne.l})));return o.a.createElement("div",{className:"pomodoro-container"},o.a.createElement(be.a,null,o.a.createElement(He.a,{value:t,text:Be(this.state.sec),strokeWidth:5,styles:Object(He.b)({textColor:"#F07A7E",pathColor:"#F07A7E",trailColor:"transparent"})}),this.props.isOwner&&a),o.a.createElement(ze,{show:this.state.modalShow,onHide:function(){return e.setModalShow(!1)}}))}}]),t}(n.Component),Ye=(a(210),function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.onSend(a.state.content,a.props.roomName,a.props.handle),a.props.onHide()},a.handleClose=function(){return a.props.onHide()},a.state={content:"",errors:{}},a}return Object(ee.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this,t=this.state.errors;return o.a.createElement(Fe.a,Object.assign({backdrop:"static"},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),o.a.createElement(Fe.a.Header,null,o.a.createElement(Fe.a.Title,{id:"contained-modal-title-vcenter"},"What to focus now?")),o.a.createElement(Fe.a.Body,null,o.a.createElement(ce.a,null,o.a.createElement(ce.a.Group,{controlId:"formBasicEmail"},o.a.createElement(ce.a.Control,{type:"text",placeholder:"Enter what to focus on",className:"content",name:"content",onChange:function(t){e.handleChange(t)},isInvalid:!!t.content}),o.a.createElement(ce.a.Control.Feedback,{type:"invalid"},t.content)))),o.a.createElement(Fe.a.Footer,null,o.a.createElement(le.a,{id:"close",variant:"secondary",onClick:this.handleClose},"Close"),o.a.createElement(le.a,{id:"modalButton",onClick:this.handleSubmit}," Send ")))}}]),t}(n.Component)),Xe=(a(211),function(e){function t(e){var a;Object(K.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).onUpdateUsers=function(e){e.data()&&a.setState({users:e.data().people})};var n=a.props.roomName;return a.ref=De.firestore().collection("rooms").doc(n),a.unsubscribe=null,a.state={users:[]},a}return Object(ee.a)(t,e),Object($.a)(t,[{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.onSnapshot(this.onUpdateUsers)}},{key:"componentWillUnmount",value:function(){this.setState({usres:[]})}},{key:"render",value:function(){var e=this.state.users;return o.a.createElement("div",{className:"usersinroom-container"},e&&e.map((function(e){return o.a.createElement("div",{className:"single-user",key:e},o.a.createElement("img",{src:e.avatar?e.avatar:je.a,alt:"avatar"}))})))}}]),t}(n.Component)),Ke=Object(l.b)((function(e){return{username:e.user.profile.handle}}),(function(e){return{addMessage:function(t){return e(C(t))}}}))(Xe),$e=a(258),Qe=(a(212),function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).handleClose=function(){return a.props.onHide()},a.state={content:"",errors:{}},a}return Object(ee.a)(t,e),Object($.a)(t,[{key:"render",value:function(){return o.a.createElement(Fe.a,Object.assign({},this.props,{size:"lg",className:"loading-modal"}),o.a.createElement(Fe.a.Body,null,o.a.createElement($e.a,{as:"span",animation:"border",size:"lg",role:"status","aria-hidden":"true"})))}}]),t}(n.Component)),Ze=function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).setModalShow=function(e){a.setState({modalShow:e})},a.addTodo=function(e,t,n){a.props.addTodo(e,t,n)},a.onLeave=function(){a.props.leaveRoom(a.props.history,a.props.match.params.roomname)},a.state={modalShow:!1,isOwner:!1},a}return Object(ee.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this,t=this.props.match.params.roomname,a=this.props.user.profile,n=a.inRoom,r=a.ownsRoom,c=a.handle,l=null!==r&&n===r,s=this.props.history;return o.a.createElement("div",{className:"room-container"},o.a.createElement(Se,null),o.a.createElement(be.a,null,o.a.createElement(oe.a,null,o.a.createElement(re.a,{md:4},o.a.createElement(qe,{roomName:t,isOwner:l})),o.a.createElement(re.a,{md:8,className:"roomRight"},o.a.createElement("div",{className:"roomInfo"},o.a.createElement("div",null,o.a.createElement("h2",null," ",t," "),o.a.createElement(Ke,{roomName:t})),o.a.createElement("div",null,o.a.createElement(Me,{isOwner:l,roomName:t,onLeave:function(){return e.onLeave()},onOpenModal:function(){return e.setModalShow(!0)},history:s}))),o.a.createElement(Ge,{roomname:t,isOwner:l,curHandle:c})))),o.a.createElement(Ye,{show:this.state.modalShow,onSend:function(t,a,n){return e.addTodo(t,a,n)},onHide:function(){return e.setModalShow(!1)},roomName:t,handle:this.props.user.profile.handle}),o.a.createElement(Qe,{show:this.props.UI.loading}))}}]),t}(n.Component),et=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{leaveRoom:k,addTodo:S})(Ze),tt=(a(213),a(214),a(263)),at=a(266),nt=function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).onUpdateMessages=function(e){var t=[];e.forEach((function(e){console.log(e.data()),t.push({userHandle:e.data().userHandle,content:e.data().content,createdAt:e.data().createdAt})})),a.setState({messages:t})},a.ref=De.firestore().collection("rooms").doc(a.props.roomname).collection("messages"),a.unsubscribe=null,a.state={messages:[],content:""},a}return Object(ee.a)(t,e),Object($.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={userHandle:this.props.username,content:this.state.content,roomName:this.props.roomname};this.props.addMessage(t),this.setState({content:""})}},{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.orderBy("createdAt").onSnapshot(this.onUpdateMessages)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"chatroom-container"},this.state.messages.map((function(e){return o.a.createElement("div",{key:e.messageId}," ",e.content," ")})),o.a.createElement("div",{className:"chatroom-input"},o.a.createElement("form",{onSubmit:function(t){e.handleSubmit(t)}},o.a.createElement(tt.a,{type:"text",name:"content",label:"content",onChange:function(t){e.handleChange(t)},value:this.state.content,fullWidth:!0}),o.a.createElement(at.a,{type:"submit",variant:"contained",color:"primary"},"Submit"))))}}]),t}(n.Component),ot=Object(l.b)((function(e){return{username:e.user.profile.handle}}),(function(e){return{addMessage:function(t){return e(C(t))}}}))(nt),rt=(a(215),a(216),function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).openAddProject=function(){a.setState({addProject:!0})},a.closeAddProject=function(){a.setState({addProject:!1})},a.openAddTag=function(){a.setState({addTag:!0})},a.closeAddTag=function(){a.setState({addTag:!1})},a.addNewProject=function(){a.state.newProject.length>0&&a.props.addProject(a.state.newProject)},a.addNewTag=function(){a.state.newTag.length>0&&a.props.addTag(a.state.newTag)},a.handleChange=function(e){a.props.clearSuccess(),a.props.clearErrors(),a.setState(Object(f.a)({},e.target.name,e.target.value))},a.handleMultiChange=function(e){a.props.clearSuccess(),a.props.clearErrors(),a.setState({tag:Array.from(e.target.selectedOptions,(function(e){return e.value}))})},a.handleSubmit=function(e){e.preventDefault();var t={content:a.state.content.length>0?a.state.content:a.props.user.todo,project:a.state.project,tag:a.state.tag};console.log(t),a.props.createPomo(t),a.props.removeTodo(),a.props.onHide()},a.state={content:"",project:"Other",tag:[],addProject:!1,addTag:!1,newProject:"",newTag:""},a}return Object(ee.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this,t=this.props.user.profile,a=t.projects,n=t.tags,r=this.props.user.todo,c=this.props.UI,l=c.errors,s=c.success;return o.a.createElement(Fe.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"pomo-modal"}),o.a.createElement(Fe.a.Header,{closeButton:!0},o.a.createElement(Fe.a.Title,{id:"contained-modal-title-vcenter"},"Add to history pomo")),o.a.createElement(Fe.a.Body,null,o.a.createElement(ce.a,{onSubmit:function(t){e.handleSubmit(t)}},o.a.createElement(ce.a.Group,{controlId:"formBasicEmail"},o.a.createElement(ce.a.Label,null," What did you accomplish? "),o.a.createElement(ce.a.Control,{type:"text",placeholder:"Enter your task",defaultValue:r,name:"content",onChange:function(t){e.handleChange(t)}})),o.a.createElement(ce.a.Group,{controlId:"exampleForm.ControlSelect1"},o.a.createElement(ce.a.Label,null,"Select project"),o.a.createElement(ce.a.Control.Feedback,{type:"invalid"},l&&l.project),o.a.createElement(ce.a.Control.Feedback,{type:"valid"},s&&s.project),o.a.createElement(ce.a.Control,{as:"select",name:"project",onChange:function(t){e.handleChange(t)}},a&&a.map((function(e,t){return o.a.createElement("option",{key:t}," ",e," ")}))),this.state.addProject?o.a.createElement("div",{className:"add-project-wrapper"},o.a.createElement("span",{className:"hidden-btn",onClick:function(){e.addNewProject()}},"+ Create project"),o.a.createElement("input",{type:"text",placeholder:"Enter project name",name:"newProject",onChange:function(t){e.handleChange(t)}}),o.a.createElement("span",{className:"hidden-btn cancel",onClick:function(){return e.closeAddProject()}},"Cancel")):o.a.createElement("div",{className:"add-project-wrapper create"},o.a.createElement("span",{className:"hidden-btn",onClick:function(){return e.openAddProject()}},"Create new project"))),o.a.createElement(ce.a.Group,{controlId:"exampleForm.ControlSelect2"},o.a.createElement(ce.a.Control.Feedback,{type:"invalid"},l&&l.tag),o.a.createElement(ce.a.Control.Feedback,{type:"valid"},s&&s.tag),o.a.createElement(ce.a.Label,null," Select tag "),o.a.createElement(ce.a.Control,{as:"select",multiple:!0,name:"tag",onChange:function(t){e.handleMultiChange(t)}},n&&n.map((function(e,t){return o.a.createElement("option",{key:t}," ",e," ")}))),this.state.addTag?o.a.createElement("div",{className:"add-tag-wrapper"},o.a.createElement("span",{className:"hidden-btn",onClick:function(){e.addNewTag()}},"+ Create tag"),o.a.createElement("input",{type:"text",placeholder:"Enter tag name",name:"newTag",onChange:function(t){e.handleChange(t)}}),o.a.createElement("span",{className:"hidden-btn cancel",onClick:function(){return e.closeAddTag()}},"Cancel")):o.a.createElement("div",{className:"add-tag-wrapper create"},o.a.createElement("span",{className:"hidden-btn",onClick:function(){return e.openAddTag()}},"Create new tag"))),o.a.createElement(le.a,{variant:"primary",type:"submit"},"Submit"))),o.a.createElement(Fe.a.Footer,null,o.a.createElement(le.a,{onClick:this.props.onHide}," Cancel "),o.a.createElement(le.a,{onClick:this.handleSubmit}," Submit ")))}}]),t}(n.Component)),ct=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{createPomo:R,removeTodo:w,addProject:j,clearErrors:P,clearSuccess:T,addTag:y})(rt),lt=function(e){function t(e){var a;Object(K.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).count=function(){a.state.on&&(a.state.sec>0?a.setState((function(e){return{sec:e.sec-1}})):(a.audio.play(),a.setState({on:!1,modalShow:!0,sec:5})))},a.start=function(){a.setState({on:!0}),a.interval=setInterval((function(){a.count()}),1e3)},a.reset=function(){a.setState({sec:5,on:!1}),clearInterval(a.interval)},a.handleStart=function(e){e.preventDefault();var t={roomName:a.props.roomName};u.a.post("/countaddone",t).then((function(e){console.log(e)})).catch((function(e){console.error(e)}))},a.handleReset=function(e){e.preventDefault();var t={roomName:a.props.roomName};u.a.post("/countaddone",t).then((function(e){console.log(e)})).catch((function(e){console.error(e)}))},a.subscribeStart=function(e){e.data().count%2===1?a.start():a.reset()},a.setModalShow=function(e){a.setState({modalShow:e})},a.handleChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))};var n=a.props.roomName;return a.ref=De.firestore().collection("rooms").doc(n),a.unsubsrcibe=null,a.audio=new Audio(Je.a),a.state={sec:5,on:!1,modalShow:!1},a}return Object(ee.a)(t,e),Object($.a)(t,[{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.onSnapshot(this.subscribeStart)}},{key:"render",value:function(){var e=this,t=o.a.createElement("div",null,this.state.on?o.a.createElement(le.a,{variant:"success",onClick:function(t){e.handleReset(t)}},"Reset"):o.a.createElement(le.a,{variant:"primary",onClick:function(t){e.handleStart(t)}},"Start"),o.a.createElement(ce.a,{onSubmit:function(){console.log(e.state.time)}},o.a.createElement(ce.a.Group,{controlId:"exampleForm.ControlSelect1"},o.a.createElement(ce.a.Label,null,"Set Time"),o.a.createElement(ce.a.Control,{as:"select",name:"time",value:this.state.time,onChange:function(t){e.handleChange(t)}},o.a.createElement("option",null," 25 "),o.a.createElement("option",null," 45 "),o.a.createElement("option",null," 60 ")))));return o.a.createElement("div",{className:"pomodoro-container"},o.a.createElement(be.a,null,o.a.createElement(he.a,null,o.a.createElement(le.a,{id:"leave",onClick:function(){return e.props.onLeave()}},o.a.createElement("span",null,o.a.createElement(ae.a,{icon:ne.o})),"Leave Room"),o.a.createElement(le.a,{id:"commit",onClick:function(){return e.props.onOpenModal()}},o.a.createElement("span",null,o.a.createElement(ae.a,{icon:ne.k})),"Commit Task")),o.a.createElement("div",{id:"count"}," ",Be(this.state.sec)," "),this.props.isOwner&&t),o.a.createElement(ct,{show:!0,onHide:function(){return e.setModalShow(!1)}}))}}]),t}(n.Component),st=function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.onSend(a.state.content,a.props.roomName,a.props.handle),a.props.onHide()},a.state={content:"",errors:{}},a}return Object(ee.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this,t=this.state.errors;return o.a.createElement(Fe.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),o.a.createElement(Fe.a.Header,null,o.a.createElement(Fe.a.Title,{id:"contained-modal-title-vcenter"},"What to focus now?")),o.a.createElement(Fe.a.Body,null,o.a.createElement(ce.a,null,o.a.createElement(ce.a.Group,{controlId:"formBasicEmail"},o.a.createElement(ce.a.Control,{type:"text",placeholder:"Enter what to focus on",name:"content",onChange:function(t){e.handleChange(t)},isInvalid:!!t.content}),o.a.createElement(ce.a.Control.Feedback,{type:"invalid"},t.content)))),o.a.createElement(Fe.a.Footer,null,o.a.createElement(le.a,{onClick:this.handleSubmit}," Send ")))}}]),t}(n.Component),it=function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).setModalShow=function(e){a.setState({modalShow:e})},a.addTodo=function(e,t,n){a.props.addTodo(e,t,n)},a.onLeave=function(){a.props.leaveRoom(a.props.history)},a.state={modalShow:!0,isOwner:!1},a}return Object(ee.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this,t=this.props.match.params.roomname,a=this.props.user.profile,n=a.inRoom,r=a.ownsRoom,c=null!==r&&n===r;return o.a.createElement("div",{className:"room-container"},o.a.createElement(Se,null),o.a.createElement(be.a,null,o.a.createElement(oe.a,null,o.a.createElement(re.a,{md:4},o.a.createElement(lt,{roomName:t,isOwner:c,onLeave:function(){return e.onLeave()},onOpenModal:function(){return e.setModalShow(!0)}})),o.a.createElement(re.a,{md:8},o.a.createElement(ot,{roomname:t})))),o.a.createElement(st,{show:!1,onSend:function(t,a,n){return e.addTodo(t,a,n)},onHide:function(){return e.setModalShow(!1)},roomName:t,handle:this.props.user.profile.handle}))}}]),t}(n.Component),ut=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{leaveRoom:k,addTodo:S})(it),mt=a(261),dt=function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.onCreate(a.state.project),a.props.onHide()},a.state={project:"",errors:{}},a}return Object(ee.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this,t=this.state.errors;return o.a.createElement(Fe.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),o.a.createElement(Fe.a.Header,{closeButton:!0},o.a.createElement(Fe.a.Title,{id:"contained-modal-title-vcenter"},"Create new project")),o.a.createElement(Fe.a.Body,null,o.a.createElement(ce.a,null,o.a.createElement(ce.a.Group,{controlId:"formBasicEmail"},o.a.createElement(ce.a.Control,{type:"text",placeholder:"Enter project name",name:"project",onChange:function(t){e.handleChange(t)},isInvalid:!!t.project}),o.a.createElement(ce.a.Control.Feedback,{type:"invalid"},t.project)))),o.a.createElement(Fe.a.Footer,null,o.a.createElement(le.a,{onClick:this.props.onHide},"Close"),o.a.createElement(le.a,{onClick:this.handleSubmit}," Create ")))}}]),t}(n.Component),pt=(a(217),function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).setModalShow=function(e){a.setState({modalShow:e})},a.addProject=function(e){a.props.addProject(e)},a.removeProject=function(e){console.log("data is ",e),a.props.removeProject(e.trim())},a.state={modalShow:!1},a}return Object(ee.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this,t=this.props.user.profile.projects;return o.a.createElement("div",{className:"project-container"},o.a.createElement(Se,null),o.a.createElement(be.a,null,o.a.createElement(oe.a,null,o.a.createElement(re.a,{xs:"3"},o.a.createElement(Ce,null)),o.a.createElement(re.a,{xs:"9"},o.a.createElement("div",{className:"project-header"},o.a.createElement("h3",null," Projects ")),o.a.createElement("div",null,o.a.createElement(le.a,{variant:"primary",className:"create-button",onClick:function(){return e.setModalShow(!0)}},"+ Create New Project")),o.a.createElement("div",{className:"project-table"},o.a.createElement(mt.a,null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{xs:"3"}," Project Name "),o.a.createElement("th",{xs:"4"}," Delete "))),o.a.createElement("tbody",null,t&&t.map((function(t,a){return o.a.createElement("tr",{key:a},o.a.createElement("td",null," ",t," "),o.a.createElement("td",null,0===a?null:o.a.createElement(le.a,{className:"delete-button",onClick:function(){e.removeProject(t)}},o.a.createElement("span",null,o.a.createElement(ae.a,{icon:ne.u})))))}))))),o.a.createElement(dt,{show:this.state.modalShow,onHide:function(){return e.setModalShow(!1)},onCreate:function(t){return e.addProject(t)}})))))}}]),t}(n.Component)),ht=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{addProject:j,removeProject:function(e){return function(t){var a={project:e};u.a.post("/project/remove",a).then((function(e){t({type:"REMOVE_PROJECT",payload:a})})).catch((function(e){return console.log(e)}))}}})(pt),Et=(a(218),function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).setModalShow=function(e){a.setState({modalShow:e})},a.addTag=function(e){a.props.addTag(e)},a.removeTag=function(e){a.props.removeTag(e.trim())},a.state={modalShow:!1},a}return Object(ee.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this,t=this.props.user.profile.tags;return o.a.createElement("div",{className:"tag-container"},o.a.createElement(Se,null),o.a.createElement(be.a,null,o.a.createElement(oe.a,null,o.a.createElement(re.a,{xs:"3"},o.a.createElement(Ce,null)),o.a.createElement(re.a,{xs:"9"},o.a.createElement("div",{className:"project-header"},o.a.createElement("h3",null," Tags ")),o.a.createElement("div",null,o.a.createElement(le.a,{variant:"primary",className:"create-button",onClick:function(){return e.setModalShow(!0)}},"+ Add New Tag")),o.a.createElement("div",{className:"project-table"},o.a.createElement(mt.a,null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{xs:"3"}," Tag Name "),o.a.createElement("th",{xs:"4"}," Delete "))),o.a.createElement("tbody",null,t&&t.map((function(t,a){return o.a.createElement("tr",{key:a},o.a.createElement("td",null," ",t," "),o.a.createElement("td",null,o.a.createElement(le.a,{className:"delete-button",onClick:function(){e.removeTag(t)}},o.a.createElement("span",null,o.a.createElement(ae.a,{icon:ne.u})))))}))))),o.a.createElement(dt,{show:this.state.modalShow,onHide:function(){return e.setModalShow(!1)},onCreate:function(t){return e.addTag(t)}})))))}}]),t}(n.Component)),ft=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{addTag:y,removeTag:function(e){return function(t){var a={tag:e};u.a.post("/tag/remove",a).then((function(e){t({type:"REMOVE_TAG",payload:a})})).catch((function(e){return console.log(e)}))}}})(Et),gt=a(262),bt=(a(219),a(133)),vt=a.n(bt),Ot=function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).state={content:""},a}return Object(ee.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this.props.roomName;return o.a.createElement("div",{className:"inroom-container"},o.a.createElement("h3",null," Room: ",e," "),o.a.createElement("img",{src:vt.a,alt:"co-working"}),o.a.createElement(te.a,{to:"/room/".concat(e)},"Enter"))}}]),t}(n.Component),jt=(a(220),a(134)),yt=a.n(jt),St=function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t={roomName:a.state.roomName};a.props.joinRoom(t,a.props.history)},a.state={roomName:""},a}return Object(ee.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"joinroom-container"},o.a.createElement("h3",null," Join Room "),o.a.createElement("img",{src:yt.a,alt:"join-room"}),o.a.createElement("div",{className:"joinroom-form"},o.a.createElement("input",{type:"text",placeholder:"Enter room name",name:"roomName",onChange:function(t){e.handleChange(t)}}),o.a.createElement("span",{onClick:function(t){e.handleSubmit(t)}},o.a.createElement(ae.a,{icon:ne.a}))))}}]),t}(n.Component),wt=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{joinRoom:N})(St),Ct=(a(221),a(135)),Nt=a.n(Ct),kt=function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t={roomName:a.state.roomName};a.props.createRoom(t,a.props.history)},a.state={roomName:"",errors:{}},a}return Object(ee.a)(t,e),Object($.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"createroom-container"},o.a.createElement("h3",null," Create Room "),o.a.createElement("img",{src:Nt.a,alt:"create-room"}),o.a.createElement("div",{className:"createroom-form"},o.a.createElement("input",{type:"text",placeholder:"Enter room name",name:"roomName",onChange:function(t){e.handleChange(t)}}),o.a.createElement("span",{onClick:function(t){e.handleSubmit(t)}},o.a.createElement(ae.a,{icon:ne.m}))))}}]),t}(n.Component),It=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{createRoom:function(e,t){return function(a){a({type:"LOADING_UI"}),u.a.post("/room",e).then((function(n){a({type:"ADD_INROOM_OWNSROOM",payload:e.roomName}),a({type:"CLEAR_ERRORS"}),t.push("/room/".concat(e.roomName))})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}}})(kt),Rt=(a(222),function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).closeErrors=function(){a.setState({show:!1,errors:{}}),a.props.clearErrors()},a._onJoinRoom=function(e,t){null!==e&&a.props.joinRoom(e,t)},a._removeOwnsRoom=function(e,t){a.props.deleteRoom(e,t)},a.state={show:!1,errors:{}},a}return Object(ee.a)(t,e),Object($.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors,show:!0})}},{key:"render",value:function(){var e=this,t=this.props.history,a=this.props.user.profile,n=a.inRoom,r=a.ownsRoom,c=this.state.errors;return o.a.createElement("div",{className:"door-container"},o.a.createElement(Se,null),o.a.createElement(be.a,null,this.state.show&&o.a.createElement(gt.a,{variant:"danger",onClose:function(){return e.closeErrors()},dismissible:!0},o.a.createElement("p",null,c.fail)),o.a.createElement(oe.a,null,o.a.createElement(re.a,{xs:"3"},o.a.createElement(Ce,null)),o.a.createElement(re.a,{xs:"9"},o.a.createElement("div",{className:"door-header"},o.a.createElement("h3",null," Room ")),o.a.createElement(oe.a,null,null!==n?o.a.createElement(re.a,null,o.a.createElement(Ot,{roomName:n})):o.a.createElement(re.a,null,o.a.createElement(wt,{history:t})),o.a.createElement(re.a,null,o.a.createElement(It,{history:t}))),r&&o.a.createElement("div",{className:"owns-room-table"},o.a.createElement(mt.a,null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{xs:"3"}," Your Room "))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null," ",r," "),o.a.createElement("td",null,o.a.createElement(le.a,{className:"delete-button",onClick:function(t,a){e._removeOwnsRoom(t,a)}},o.a.createElement("span",null,o.a.createElement(ae.a,{icon:ne.u}))))))))))),o.a.createElement(Qe,{show:this.props.UI.loading}))}}]),t}(n.Component)),Tt=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{joinRoom:N,clearErrors:P,deleteRoom:I})(Rt),Pt=(a(223),function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).closeSuccess=function(){a.setState({show:!1,success:null}),a.props.clearSuccess()},a.handleChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){if(e.preventDefault(),0===a.state.nickName.length){a.setState({errors:{nickName:"It must not be empty."}})}else a.props.updateNickName(a.state.nickName),a.setState({errors:{}})},a.handleImageChange=function(e){var t=e.target.files[0],n=new FormData;n.append("image",t,t.name),a.props.uploadImage(n)},a.handleEditPicture=function(){document.getElementById("imageInput").click()},console.log(e),a.state={nickName:e.user.profile.nickName||"",show:!1,errors:{}},a}return Object(ee.a)(t,e),Object($.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.success&&this.setState({success:e.UI.success,show:!0})}},{key:"render",value:function(){var e=this,t=this.props.user.profile,a=t.email,n=t.handle,r=t.avatar,c=t.nickName,l=this.props.UI,s=l.loading,i=l.success,u=this.state.errors;return o.a.createElement("div",{className:"account-container"},o.a.createElement(Se,null),o.a.createElement(be.a,null,this.state.show&&o.a.createElement(gt.a,{variant:"success",onClose:function(){return e.closeSuccess()},dismissible:!0},o.a.createElement("p",null,i)),o.a.createElement(oe.a,null,o.a.createElement(re.a,{xs:"3"},o.a.createElement(Ce,null)),o.a.createElement(re.a,{xs:"9"},o.a.createElement("h3",null," My Account "),o.a.createElement("div",{className:"account-body"},o.a.createElement("div",{className:"account-avatar"},o.a.createElement("img",{src:r,alt:"avatar"}),o.a.createElement("input",{type:"file",id:"imageInput",hidden:"hidden",onChange:this.handleImageChange}),o.a.createElement("span",{onClick:function(){return e.handleEditPicture()}},"Edit")),o.a.createElement(ce.a,{onSubmit:function(t){e.handleSubmit(t)}},o.a.createElement(ce.a.Group,{as:oe.a,controlId:"formHorizontalEmail"},o.a.createElement(ce.a.Label,{column:!0,sm:2},"Email"),o.a.createElement(re.a,{sm:10},o.a.createElement(ce.a.Control,{type:"email",placeholder:a,disabled:!0}))),o.a.createElement(ce.a.Group,{as:oe.a,controlId:"formHorizontalPassword"},o.a.createElement(ce.a.Label,{column:!0,sm:2},"Username"),o.a.createElement(re.a,{sm:10},o.a.createElement(ce.a.Control,{type:"text",placeholder:n,disabled:!0}))),o.a.createElement(ce.a.Group,{as:oe.a,controlId:"formHorizontalPassword"},o.a.createElement(ce.a.Label,{column:!0,sm:2},"Nickname"),o.a.createElement(re.a,{sm:10},o.a.createElement(ce.a.Control,{type:"text",name:"nickName",onChange:function(t){e.handleChange(t)},placeholder:c,isInvalid:!!u.nickName,value:this.state.nickName||""}),o.a.createElement(ce.a.Control.Feedback,{type:"invalid"},u.nickName))),o.a.createElement(ce.a.Group,{as:oe.a},o.a.createElement(re.a,{sm:{span:10,offset:2}},o.a.createElement(le.a,{variant:"success",type:"submit"},s?o.a.createElement(ae.a,{className:"icon",icon:ne.q,spin:!0}):o.a.createElement(ae.a,{className:"icon",icon:ne.f}),o.a.createElement("span",null," Save "))))))))))}}]),t}(n.Component)),Ut=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{updateNickName:function(e){return function(t){t({type:"LOADING_UI"}),u.a.post("/user/nickname",{nickName:e}).then((function(a){t({type:"SET_NICKNAME",payload:e}),t({type:"SET_SUCCESS",payload:a.data.success})})).catch((function(e){return console.log(e)}))}},clearSuccess:T,uploadImage:function(e){return function(t){u.a.post("/user/avatar",e).then((function(){t(b())})).catch((function(e){return console.log(e)}))}}})(Pt),Mt=(a(224),function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).closeSuccess=function(){a.setState({show:!1,success:null}),a.props.clearSuccess()},a.handleChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.resetState=function(){a.setState({password:"",newPassword:""})},a.handleSubmit=function(e){if(e.preventDefault(),0===a.state.password.length){a.setState({errors:{password:"It must not be empty."}})}else if(0===a.state.newPassword.length){a.setState({errors:{newPassword:"It must not be empty."}})}else if(a.state.newPassword.length<6){a.setState({errors:{newPassword:"Must be with at least 6 characters."}})}else{var t={password:a.state.password,newPassword:a.state.newPassword};a.props.updatePassword(t,a.resetState)}},a.state={password:"",newPassword:"",errors:{},show:!1},a}return Object(ee.a)(t,e),Object($.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors}),e.UI.success&&this.setState({success:e.UI.success,show:!0})}},{key:"render",value:function(){var e=this,t=this.state.errors,a=this.props.UI,n=a.loading,r=a.success;return o.a.createElement("div",{className:"password-container"},o.a.createElement(Se,null),o.a.createElement(be.a,null,this.state.show&&o.a.createElement(gt.a,{variant:"success",onClose:function(){return e.closeSuccess()},dismissible:!0},o.a.createElement("p",null,r)),o.a.createElement(oe.a,null,o.a.createElement(re.a,{xs:"3"},o.a.createElement(Ce,null)),o.a.createElement(re.a,{xs:"9"},o.a.createElement("h3",null," Password "),o.a.createElement("div",{className:"password-body"},o.a.createElement(ce.a,{onSubmit:function(t){e.handleSubmit(t)}},o.a.createElement(ce.a.Group,{as:oe.a,controlId:"formHorizontalEmail"},o.a.createElement(ce.a.Label,{column:!0,sm:3},"Old Password"),o.a.createElement(re.a,{sm:9},o.a.createElement(ce.a.Control,{type:"password",placeholder:"Your Old Password",name:"password",onChange:this.handleChange,isInvalid:!!t.password,value:this.state.password}),o.a.createElement(ce.a.Control.Feedback,{type:"invalid"},t.password))),o.a.createElement(ce.a.Group,{as:oe.a,controlId:"formHorizontalPassword"},o.a.createElement(ce.a.Label,{column:!0,sm:3},"New Password"),o.a.createElement(re.a,{sm:9},o.a.createElement(ce.a.Control,{type:"password",placeholder:"Your New Password",name:"newPassword",onChange:this.handleChange,isInvalid:!!t.newPassword,value:this.state.newPassword}),o.a.createElement(ce.a.Control.Feedback,{type:"invalid"},t.newPassword))),o.a.createElement(ce.a.Group,{as:oe.a},o.a.createElement(re.a,{sm:{span:10,offset:2}},o.a.createElement(le.a,{variant:"success",type:"submit"},n?o.a.createElement(ae.a,{className:"icon",icon:ne.q,spin:!0}):o.a.createElement(ae.a,{className:"icon",icon:ne.f}),o.a.createElement("span",null," Save "))))))))))}}]),t}(n.Component)),At=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{updatePassword:function(e,t){return function(a){a({type:"LOADING_UI"}),u.a.post("/user/password",e).then((function(e){a({type:"SET_SUCCESS",payload:e.data.success}),t()})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data}),t()}))}},clearSuccess:T})(Mt),_t=(a(225),function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).onUpdatePairs=function(e){var t=[];e.forEach((function(e){t.push({handle:e.data().handle,room:e.data().room})})),a.setState({pairs:t},function(){}.bind(Object(ve.a)(a)))},a.handleClick=function(){a.props.startMatching()},a.handleJoinRoom=function(){a.props.joinMatchedRoom(a.state.roomName,a.props.history)},a.ref=De.firestore().collection("ready"),a.unsubscribe=null,a.state={errors:{},pairs:[],inPairs:!1,roomName:""},a.curHandle=e.username,a.onUpdatePairs=a.onUpdatePairs.bind(Object(ve.a)(a)),a}return Object(ee.a)(t,e),Object($.a)(t,[{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.onSnapshot(this.onUpdatePairs)}},{key:"componentDidUpdate",value:function(e,t){if(!t.inPairs&&this.props.username)for(var a=0,n=this.state.pairs.length;a<n;a++)this.state.pairs[a].handle===this.props.username&&this.setState({inPairs:!0,roomName:this.state.pairs[a].room})}},{key:"render",value:function(){var e=this,t=this.state,a=(t.errors,t.inPairs),n=this.props.UI,r=(n.loading,n.success,this.props.matching);console.log(this.state.inPairs);var c=o.a.createElement("div",null,r?o.a.createElement("div",null,"waiting..."):o.a.createElement(le.a,{onClick:function(){return e.handleClick()}},"Match"));return o.a.createElement("div",{className:"match-container"},o.a.createElement(Se,null),a?o.a.createElement("div",{onClick:function(){return e.handleJoinRoom()}}," Click to Join room... "):c)}}]),t}(n.Component)),Dt=Object(l.b)((function(e){return{user:e.user,username:e.user.profile.handle,matching:e.user.profile.matching,UI:e.UI}}),{startMatching:function(){return function(e){u.a.get("/match").then((function(t){console.log(t),e({type:"START_MATCHING"})})).catch((function(e){console.error(e)}))}},joinMatchedRoom:function(e,t){return function(a){u.a.post("/joinmatch",{roomName:e}).then((function(a){console.log("action called, why no redirect???"),console.log(e),t.push("/room/".concat(e))})).catch((function(e){console.log(e),a({type:"SET_ERRORS",payload:e.response.data})}))}}})(_t),xt=function(e){var t=function(t){function a(){return Object(K.a)(this,a),Object(Q.a)(this,Object(Z.a)(a).apply(this,arguments))}return Object(ee.a)(a,t),Object($.a)(a,[{key:"componentDidMount",value:function(){this._checkAndRedirect()}},{key:"componentDidUpdate",value:function(){this._checkAndRedirect()}},{key:"_checkAndRedirect",value:function(){this.props.authenticated||this.props.redirect()}},{key:"render",value:function(){return o.a.createElement("div",null,this.props.authenticated?o.a.createElement(e,this.props):null)}}]),a}(o.a.Component);return Object(l.b)((function(e){return{authenticated:e.user.authenticated}}),(function(e){return{redirect:function(){window.location.href="/login"}}}))(t)},Lt=a(30),Gt=Object(Lt.a)();u.a.defaults.baseURL="https://us-central1-social-pomo-94112.cloudfunctions.net/api";var Ht=localStorage.FBIdToken;Ht&&(1e3*d()(Ht).exp<Date.now()-72e5?(X.dispatch(O()),window.location.href="/login",localStorage.removeItem("FBIToken")):(X.dispatch({type:"SET_AUTHENTICATED"}),u.a.defaults.headers.common.Authorization=Ht,X.dispatch(b())));c.a.render(o.a.createElement(l.a,{store:X},o.a.createElement(s.b,{history:Gt},o.a.createElement(s.c,null,o.a.createElement(s.a,{exact:!0,path:"/",component:ge}),o.a.createElement(s.a,{exact:!0,path:"/signup",component:me}),o.a.createElement(s.a,{exact:!0,path:"/login",component:Re}),o.a.createElement(s.a,{exact:!0,path:"/dashboard",component:xt(ke)}),o.a.createElement(s.a,{exact:!0,path:"/account",component:xt(Ut)}),o.a.createElement(s.a,{exact:!0,path:"/password",component:xt(At)}),o.a.createElement(s.a,{exact:!0,path:"/room",component:xt(Tt)}),o.a.createElement(s.a,{exact:!0,path:"/room/:roomname",component:xt(et)}),o.a.createElement(s.a,{exact:!0,path:"/test/:roomname",component:ut}),o.a.createElement(s.a,{exact:!0,path:"/project",component:xt(ht)}),o.a.createElement(s.a,{exact:!0,path:"/match",component:xt(Dt)}),o.a.createElement(s.a,{exact:!0,path:"/tag",component:xt(ft)})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},48:function(e,t,a){e.exports=a.p+"static/media/avatar.3a88b763.svg"},66:function(e,t,a){e.exports=a.p+"static/media/tomato.23468cd5.png"},69:function(e,t,a){e.exports=a.p+"static/media/signup.be2168a5.jpeg"},76:function(e,t,a){e.exports=a.p+"static/media/alert.7285bcc5.mp3"}},[[140,1,2]]]);
//# sourceMappingURL=main.2f5f105e.chunk.js.map