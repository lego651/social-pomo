(window["webpackJsonpsocial-pomo"]=window["webpackJsonpsocial-pomo"]||[]).push([[0],{122:function(e,t,a){e.exports=a.p+"static/media/pomoStartSound.4d39970c.mp3"},123:function(e,t,a){e.exports=a.p+"static/media/pomoStopSound.35aad826.mp3"},223:function(e,t,a){e.exports=a.p+"static/media/signup.0d980858.jpeg"},387:function(e,t,a){e.exports=a.p+"static/media/startup.cca77402.svg"},388:function(e,t,a){e.exports=a.p+"static/media/tab1.f9462482.jpg"},389:function(e,t,a){e.exports=a.p+"static/media/tab2.baeff064.jpg"},390:function(e,t,a){e.exports=a.p+"static/media/tab3.87fffc9d.jpg"},391:function(e,t,a){e.exports=a.p+"static/media/tab4.77c2cfb8.jpg"},416:function(e,t,a){e.exports=a.p+"static/media/avatar-pomo.1e7f00ab.png"},419:function(e,t,a){e.exports=a.p+"static/media/working.5da5980e.webp"},420:function(e,t,a){e.exports=a.p+"static/media/stopwatch.fe9a9442.png"},423:function(e,t,a){e.exports=a.p+"static/media/alert.7285bcc5.mp3"},424:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAIO0lEQVR4nOWba2xUxxWAv1nv2hjjNdjBiWmxeEgYQo0BA4ldiL3GbZM2UqnU0NqGRkgkUUGqKkSb/qgitUpS0SRqGwgPCZRSZJvQpqFSk1DV8RoIEILfmILNw7yDDcYvMH7svac/vAt+7Np7d+9uTPL92nvnzJlzzs7MnTl3LnzNUaFuYEnJ7gSXinwK9DRQKSiZBWoyMAGY6BZrA+6A3ERUA0g9WGqs0nvo89znW0JpX0gCkO4smi2iVivk+wLzAEuAqnSEGuAji9L2lOesrjfRTMDEAKSX77DRGZuvC+sULDFL7xCOC7I1Tk0pKnM4XGYoDDoA6eU7bLRPWCtK/RqYFrxJo6NQjaJkk52kXcEGIqgALCwpXoaSd1CkBqMnCGqVYn2FI//TQBUEFICMo/uie7pdfwJeDFSHiYigtsep7g1ljjXdRisbNn5R6Z4UnYj3gDSjdUPM/zRYWZOTf8pIJUMBWFBavFwhHwCxhkwLHx1KlxUVuQVOfyv4/XhKdxatUMi/GbvOA9jFog4sLC1a6W8Fv3pA+ieFz4lSxUBEwKaFF03gJ1U5+e+PJjhqANJLCh1iUR8DUaaYFj56LTrPlufm/3ckoRED0L+i43PGdrcfiXY9QhZXZxWc9SXgcw7Idr47DqGYh9d5gDiLS72fcXRftC8BnwHokKg/C8wPjV1hRJHa0933hu9iL6Q7i5aKcMhX+UOI6KKWVi/POzq0YFgPyHY6rSJs4avjPICyINvTy3fYhhYMC0Cnfv0Fxt4qL3gUqdIxYc3w2wNIL99hk47YBsK0q/sSuGBXSSkDd5CDe0BnbD5fXecBZrTrN/IG3rAOvBBk/Vge+nG2KL6TmExG/GNMH2+nS3OxrbGWIy1f+K1DWeTnwJ77154faSV7Z0VYdNNTTmYQa41k1dQU8r6ZQox18Dx219XH00f/RZfW57c+C9psT3rt/hCIsMjzZhlsJs88Oo39Tz7L2mnfGuY8QIzVxuzYSYZ0algLPL8HDAH5QeBmmk+M1cYrs58gd/LUEeUEaOm9Z0i3Qp4BXgF3D1hSsjsBvrS01jBmxMSxJ/17ozoPsOfyaS51dRptYkHq4cJJ4O4BLos1i8BT16aycGIib6Uuw26N9CmjieC8dZWiK2eoab8VSDMRkS6VBezvHwLCvLEw+S+fPJVXH88k0uL7v/i46SLbGk9y7d6d4BoTSeV+AFApwWkLntzEZF5/PJMI5f2faOrp4vdnjvPZ7RumtCdun/sD0P+6yrCSR6PGs35GGjNi7NR1tLDz4iluGZyQAHInTx3R+Yq2Zn5z6gi3ew0nfUfiQQAUKlEM1rYoxdb5DqaNtwMwJzae7yYms6mhgv80X/JbzxPxj/HaXN/Ov3e1gbfOVaKJUQtHQxLBPfFJAEmPVHvCfec9xNmieH1uJr9NWTLiOPaQMmESb8xdilV5l9158RR/PFsRAucBVCw8mPljjFbv1jSfZT+aMpOdC3KJjxznUyZpXAxvp2V5XdwAbGusZVtjrVGzjDAoAIapv9PKkZbrPsvn2hPYtTCXb4ybMKzMbotkc1o2j0R6z1S9fb6anRcNvd8IGE8A7gZSeWPdYfZdO4uvDpocHdsfhOgHQbAoxatzMpk+ZPh42H35NLsvnw7EHKN0gjsAyn1hlF5dZ1NDOetrnLT29XiVmRwVzZa0bCbZ+rPqP0uew7cTkrzKHmi6xObz1YGYEgDyIACCNAej6vjtGxScOMCZzlav5cnRsfxlXhYZ8Umsmz7Pq0xFWzO/O/OZz95kPqoZPENAVEOw6pp6unih6hNOtDZ5LZ9rT2BzWrbXx11jVwcbTx6mV9eDNcMIA7fDYkoeoEvr4xe1ZRxv9b5a8/ak79Y0Xq77lA5Xrxkm+I1y++wOgKXGLMW9us6Gk4eo9XOT8ua5Cs7fbTereb/RoBbcAYjqizgImNb/ujWNjXWHae4ZeVlcevMKH1w/b1azRtA0G4fAHYBjT6+8rdwRMYuW3m5+Ved7XN/TXLx5ttLMJv1HSeXJZQWtMGAhJMKHZrdT19HClgveH2tFV+tp6ukyu0n/0PnI8/N+ADSx/C0UbRVdqR+2YuzS+vj7NZ8vbEOOJhFFnt+DJuYFpUXHQ3HGL8Zq45cz55MZP4Uvuu+y+UJ1oJmc4FEcq3TkZ3ourYNL5R1QpgfgrquP1+pPmK02ULYOvBi0GbLY7xQrVGN47QkrF+wk7R14Y1AAKha91CdKNoXXpvChFH8YerJ02HbYTtIuwLSF0ZhBOBlL0l+H3h4WgDKHw2VBXw9h3JeEHl2El7ydK/aaECnPWXVEUNtDb1d4UPBOVW7+MW9lPjNCcap7A0JV6MwKG7WR46wv+yocMRfufmN8AvCevhn7tKG0xZWO1ed8CYyYE6zJ/WmDRakfAqYm5MNEryh5biTnwY+kaLkjr0yUWg34TgOPPTSQvCpHQclogn5lhascef9Qih/zcPSEHiC/Mqfgn/4IG3oftshZnK2L7AfiArEsDLQJrKjKyT/obwVD7wXKHXlleoQsVhCu1K3/CFUobbER5yGAFyPVWQVnY1VPRv/GaUwslnQFmzt6JmaMNuF5I7iPpkoL01FsQ9TiYPQEQY0uap23I7D+EtSpkMqcggo7UzIR9SJwIRhdBjkvStbOvGVND8Z5MPFQYLbTaW3Xb+QpxTqQJ83SOwjFMWCrnaS9Y+bDSW+kleydZbHIKvdprAUE/qmNBlQh8qFupXCkDx8CJeQng1IPF06K6OOpCJinw2zVfzTlEfqX157HaTvQAdwUpMECZzSoRfUerHasaQu1jV9r/g8nLL/4FY8TyAAAAABJRU5ErkJggg=="},425:function(e,t,a){e.exports=a.p+"static/media/co-working.0743e540.svg"},426:function(e,t,a){e.exports=a.p+"static/media/join-room.0bf66e13.svg"},427:function(e,t,a){e.exports=a.p+"static/media/create-room.e87cff51.svg"},428:function(e,t,a){e.exports=a.p+"static/media/connecting.15afe198.svg"},429:function(e,t,a){e.exports=a.p+"static/media/loading.0d0345f6.gif"},430:function(e,t,a){e.exports=a.p+"static/media/joining.eadc9097.svg"},431:function(e,t,a){e.exports=a.p+"static/media/not_found.74f870d4.svg"},451:function(e,t,a){e.exports=a(619)},479:function(e,t,a){},488:function(e,t,a){},490:function(e,t,a){},506:function(e,t,a){},507:function(e,t,a){},508:function(e,t,a){},509:function(e,t,a){},517:function(e,t,a){},518:function(e,t,a){},541:function(e,t,a){},550:function(e,t,a){},555:function(e,t,a){},562:function(e,t,a){},571:function(e,t,a){},572:function(e,t,a){},573:function(e,t,a){},574:function(e,t,a){},575:function(e,t,a){},576:function(e,t,a){},577:function(e,t,a){},593:function(e,t,a){},594:function(e,t,a){},595:function(e,t,a){},596:function(e,t,a){},597:function(e,t,a){},598:function(e,t,a){},599:function(e,t,a){},600:function(e,t,a){},601:function(e,t,a){},602:function(e,t,a){},603:function(e,t,a){},604:function(e,t,a){},605:function(e,t,a){},606:function(e,t,a){},607:function(e,t,a){},608:function(e,t,a){},609:function(e,t,a){},610:function(e,t,a){},611:function(e,t,a){},612:function(e,t,a){},613:function(e,t,a){},614:function(e,t,a){},615:function(e,t,a){},616:function(e,t,a){},617:function(e,t,a){},618:function(e,t,a){},619:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(25),c=a.n(r),l=a(19),i=a(130),s=a(30),u=a.n(s),m=(a(476),a(381)),d=a.n(m);a(479),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var p=a(88),h=a(382),f=a(284),E=a(383),v=a.n(E),b=a(384),g=a.n(b),y=a(285),w=a(33),O=a(170),j=a.n(O),S="LOADING_UI",N="CLEAR_ERRORS";a(484);var C=function(e){var t=e.token,a=e.cookie,n="".concat(a," Bearer ").concat(t);localStorage.setItem("FBIdToken",n),u.a.defaults.headers.common.Authorization=n},T=function(){return function(e){j.a.auth().onAuthStateChanged((function(e){e&&e.getIdToken(!0).then((function(e){})).catch((function(e){console.log(e)}))})),u.a.get("/user").then((function(t){e({type:"SET_USER",payload:t.data}),e({type:N})})).catch((function(e){localStorage.removeItem("FBIdToken"),window.location.href="/login",console.log(e)}))}},k=function(e){return function(t){e.push("/home"),u.a.get("/user").then((function(e){t({type:"SET_USER",payload:e.data})})).catch((function(e){return console.log(e)}))}},P=function(){return function(e){localStorage.removeItem("FBIdToken"),delete u.a.defaults.headers.common.Authorization,e({type:"SET_UNAUTHENTICATED"}),window.location.href="/login"}},M=function(e){return function(t){t({type:N}),t({type:"POSTING"});var a={project:e};u.a.post("/project",a).then((function(e){t({type:"SET_SUCCESS",payload:{project:"New project created."}}),t({type:"ADD_PROJECT",payload:a})})).catch((function(e){console.log(e),t({type:"SET_ERRORS",payload:e.response.data})}))}},I=function(e){return function(t){t({type:N});var a={tag:e};u.a.post("/tag",a).then((function(e){t({type:"ADD_TAG",payload:a}),t({type:"SET_SUCCESS",payload:{tag:"New tag created."}})})).catch((function(e){t({type:"SET_ERRORS",payload:e.response.data})}))}},R=function(e,t,a,n,o){return function(t){var n={content:"".concat(a," will focus on: ").concat(e),userHandle:"Pomo",nickName:"Pomo",avatar:null,roomName:o};u.a.post("/message",n).then((function(a){t({type:"SET_TODO",payload:e})})).catch((function(e){return console.log(e)}))}},A=function(){return function(e){return e({type:"REMOVE_TODO"})}},D=function(e){var t=e.on,a=e.startingTime,n=e.logTime,o=e.pauseTimer;return function(e){return e({type:"SET_POMO_TIMER",payload:{on:t,startingTime:a,logTime:n,pauseTimer:o}})}},U=function(){return function(e){return e({type:"REMOVE_POMO_TIMER"})}},L=function(e){return function(t){t({type:"LOADING_MESSAGE"}),u.a.post("/message",e).then((function(e){t({type:"STOP_LOADING_MESSAGE"})})).catch((function(e){}))}},_=function(e,t){var a=e.roomName,n=e.nickName,o=e.avatar;return function(e){e({type:S}),u.a.post("/joinroom",{roomName:a,nickName:n,avatar:o}).then((function(n){null!==n.data.success&&(e({type:"ADD_INROOM",payload:a}),e({type:N}),t.push("/room/".concat(a)))})).catch((function(t){e({type:"SET_ERRORS",payload:t.response.data})}))}},x=function(e,t){var a=t.roomName,n=t.avatar,o=t.nickName;return function(t){t({type:S}),u.a.post("/leaveroom",{roomName:a,avatar:n,nickName:o}).then((function(a){null!==a.data.success&&(t({type:"REMOVE_INROOM"}),t({type:N}),e.push("/room"))})).catch((function(e){console.log(e)}))}},G=function(e,t){return function(a){a({type:S}),u.a.post("/room/delete",{roomName:t}).then((function(t){null!==t.data.success&&(a({type:"REMOVE_INROOM_OWNSROOM"}),a({type:N}),e.push("/room"))})).catch((function(e){console.log(e)}))}},H=function(e){if(e>3600){var t=Math.floor(e/3600),a=e%3600,n=Math.floor(a/60),o=Math.round(a%60);return t+":"+F(n)+":"+F(o)}var r=Math.floor(e/60),c=Math.round(e%60);return F(r)+":"+F(c)},F=function(e){return e>9?""+e:"0"+e},B=function(e){return 1e4*e.getFullYear()+100*(e.getMonth()+1)+e.getDate()},W=function(e){return function(t){u.a.post("/pomo",e).then((function(e){})).catch((function(e){console.log(e)}))}},z=function(){return function(e){var t=B(new Date);u.a.post("/pomo/today",{dateSeq:t}).then((function(t){e({type:"GET_POMOS_TODAY",payload:t.data.data})})).catch((function(e){console.error(e)}))}},Y=function(){return function(e){e({type:"CLEAR_SUCCESS"})}},V=function(){return function(e){e({type:N})}},J=function(){return function(e){e({type:"OPEN_SLIDEDRAWER"})}},K=function(){return function(e){e({type:"CLOSE_SLIDEDRAWER"})}},Z={LOG_IN:"LOG_IN",GET_MESSAGES:"GET_MESSAGES"};function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(a,!0).forEach((function(t){Object(w.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Q={authenticated:!1,loading:!1,todo:null,profile:{}},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTHENTICATED":return q({},e,{authenticated:!0});case"SET_UNAUTHENTICATED":return Q;case Z.LOG_IN:return q({},e,{username:t.username});case"SET_USER":return{authenticated:!0,loading:!1,profile:t.payload.profile};case"SET_NICKNAME":return q({},e,{loading:!1,profile:q({},e.profile,{nickName:t.payload})});case"ADD_PROJECT":return q({},e,{profile:q({},e.profile,{projects:[].concat(Object(y.a)(e.profile.projects),[t.payload.project])})});case"REMOVE_PROJECT":return q({},e,{profile:q({},e.profile,{projects:e.profile.projects.filter((function(e){return e!==t.payload.project}))})});case"ADD_TAG":return q({},e,{profile:q({},e.profile,{tags:[].concat(Object(y.a)(e.profile.tags),[t.payload.tag])})});case"REMOVE_TAG":return q({},e,{profile:q({},e.profile,{tags:e.profile.tags.filter((function(e){return e!==t.payload.tag}))})});case"ADD_INROOM":return q({},e,{profile:q({},e.profile,{inRoom:t.payload})});case"REMOVE_INROOM":return q({},e,{profile:q({},e.profile,{inRoom:null})});case"ADD_INROOM_OWNSROOM":return q({},e,{profile:q({},e.profile,{inRoom:t.payload,ownsRoom:t.payload})});case"REMOVE_INROOM_OWNSROOM":return q({},e,{profile:q({},e.profile,{inRoom:null,ownsRoom:null})});case"SET_TODO":return q({},e,{todo:t.payload});case"REMOVE_TODO":return q({},e,{todo:null});case"START_MATCHING":return q({},e,{profile:q({},e.profile,{matching:!0})});case"MATCH_THEN_JOIN_ROOM":return q({},e,{profile:q({},e.profile,{matching:!1,ownsRoom:t.payload.ownsRoom,inRoom:t.payload.inRoom})});case"SET_STOPWATCH_TIMER":return q({},e,{profile:q({},e.profile,{stopwatch:q({},e.profile.stopwatch,{on:t.payload.on,startingTime:t.payload.startingTime,pauseTimer:t.payload.pauseTimer})})});case"REMOVE_STOPWATCH_TIMER":return q({},e,{profile:q({},e.profile,{stopwatch:q({},e.profile.stopwatch,{on:!1,startingTime:null,pauseTimer:null})})});case"SET_POMO_TIMER":return q({},e,{profile:q({},e.profile,{timer:q({},e.profile.timer,{on:t.payload.on,startingTime:t.payload.startingTime,logTime:t.payload.logTime,pauseTimer:t.payload.pauseTimer})})});case"REMOVE_POMO_TIMER":return q({},e,{profile:q({},e.profile,{timer:q({},e.profile.timer,{on:!1,startingTime:null,logTime:null,pauseTimer:null})})});default:return e}};function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(a,!0).forEach((function(t){Object(w.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ae={messages:[]},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.GET_MESSAGES:return te({},e,{messages:t.payload});default:return e}};function oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oe(a,!0).forEach((function(t){Object(w.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ce={loading:!1,errors:null,success:null,loadingMessage:!1,getting:!1,posting:!1,showSidebar:!1,showSlideDrawer:!1};function le(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?le(a,!0).forEach((function(t){Object(w.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):le(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var se={pomos:[],weekly_pomo:[],minutes_today:0,minutes_week:0,minutes_all:0,today:null},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_POMOS":return ie({},e,{pomos:t.payload});case"GET_WEEKLY_POMO":return ie({},e,{weekly_pomo:t.payload});case"GET_MINUTES_TODAY":return ie({},e,{minutes_today:t.payload});case"GET_MINUTES_WEEK":return ie({},e,{minutes_week:t.payload});case"GET_MINUTES_ALL":return ie({},e,{minutes_all:t.payload});case"GET_POMOS_TODAY":return ie({},e,{today:t.payload});default:return e}},me=Object(p.c)({user:$,room:ne,pomo:ue,UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERRORS":return re({},e,{loading:!1,getting:!1,posting:!1,errors:t.payload});case N:return re({},e,{loading:!1,getting:!1,posting:!1,errors:null});case"SET_SUCCESS":return re({},e,{loading:!1,getting:!1,posting:!1,success:t.payload});case"CLEAR_SUCCESS":return re({},e,{loading:!1,getting:!1,posting:!1,success:null});case S:return re({},e,{loading:!0});case"STOP_LOADING_UI":return re({},e,{loading:!1});case"LOADING_MESSAGE":return re({},e,{loadingMessage:!0});case"STOP_LOADING_MESSAGE":return re({},e,{loadingMessage:!1});case"GETTING":return re({},e,{getting:!0});case"STOP_GETTING":return re({},e,{getting:!1});case"POSTING":return re({},e,{posting:!0});case"STOP_POSTING":return re({},e,{posting:!1});case"TOGGLE_SIDEBAR":return re({},e,{showSidebar:!e.showSidebar});case"OPEN_SLIDEDRAWER":return re({},e,{showSlideDrawer:!0});case"CLOSE_SLIDEDRAWER":return re({},e,{showSlideDrawer:!1});default:return e}}}),de={key:"root",storage:v.a,stateReconciler:g.a,whitelist:["user"]},pe=Object(f.a)(de,me),he=Object(p.e)(pe,Object(p.d)(Object(p.a)(h.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),fe=Object(f.b)(he),Ee=a(9),ve=a(10),be=a(12),ge=a(11),ye=a(13),we=a(53),Oe=a(18),je=a(16),Se=a(648),Ne=a(386),Ce=a(664),Te=a(649),ke=a(223),Pe=a.n(ke),Me=(a(488),function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(w.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t={email:a.state.email,password:a.state.password,confirmPassword:a.state.confirmPassword,handle:a.state.handle};a.props.signupUser(t,a.props.history)},a.state={email:"",password:"",confirmPassword:"",handle:"",errors:{}},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors,email:"",password:"",confirmPassword:"",handle:""})}},{key:"render",value:function(){var e=this,t=this.state,a=t.errors,n=t.email,r=t.password,c=t.confirmPassword,l=t.handle,i=this.props.UI.loading;return o.a.createElement("div",{className:"signup-container"},o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{md:5,xs:12,className:"left-col"},o.a.createElement("div",{className:"login-left"},o.a.createElement("h3",null,"Free Sign Up"),o.a.createElement("h5",null,"Don't have an account? Create your account, it takes less than a minute."),o.a.createElement("div",{className:"signup-form"},o.a.createElement(Ce.a,{onSubmit:function(t){e.handleSubmit(t)}},o.a.createElement(Ce.a.Group,null,o.a.createElement(Ce.a.Label,null,o.a.createElement("h5",null,o.a.createElement("b",null,"Email address"))),o.a.createElement(Ce.a.Control,{type:"email",placeholder:"Enter email",name:"email",value:n,onChange:function(t){e.handleChange(t)},isInvalid:0===n.length&&!!a.email}),o.a.createElement(Ce.a.Control.Feedback,{type:"invalid"},0===n.length&&a.email)),o.a.createElement(Ce.a.Group,null,o.a.createElement(Ce.a.Label,null,o.a.createElement("h5",null,o.a.createElement("b",null,"Password"))),o.a.createElement(Ce.a.Control,{type:"password",placeholder:"Password",name:"password",value:r,onChange:function(t){e.handleChange(t)},isInvalid:0===r.length&&!!a.password}),o.a.createElement(Ce.a.Control.Feedback,{type:"invalid"},0===r.length&&a.password)),o.a.createElement(Ce.a.Group,{controlId:"formBasicPassword"},o.a.createElement(Ce.a.Label,null,o.a.createElement("h5",null,o.a.createElement("b",null,"Confirm Password"))),o.a.createElement(Ce.a.Control,{type:"password",placeholder:"Confirm Password",name:"confirmPassword",value:c,onChange:function(t){e.handleChange(t)},isInvalid:0===c.length&&!!a.confirmPassword}),o.a.createElement(Ce.a.Control.Feedback,{type:"invalid"},0===c.length&&a.confirmPassword)),o.a.createElement(Ce.a.Group,{controlId:"formBasicEmail"},o.a.createElement(Ce.a.Label,null,o.a.createElement("h5",null,o.a.createElement("b",null,"Username"))),o.a.createElement(Ce.a.Control,{type:"text",placeholder:"Username",name:"handle",value:l,onChange:function(t){e.handleChange(t)},isInvalid:0===l.length&&!!a.handle}),o.a.createElement(Ce.a.Control.Feedback,{type:"invalid"},0===l.length&&a.handle)),o.a.createElement(Te.a,{variant:"info",type:"submit",disabled:i},i?o.a.createElement(Oe.a,{className:"icon",icon:je.C,spin:!0}):o.a.createElement(Oe.a,{className:"icon",icon:je.I}),"Sign Up"),o.a.createElement("div",{className:"link-to-login"},o.a.createElement("h5",null,"Already have account?"," ",o.a.createElement("b",null,o.a.createElement(we.a,{to:"/login"}," Log In ")))))))),o.a.createElement(Ne.a,{md:7,xs:12,className:"right-col"},o.a.createElement("div",{className:"login-right"},o.a.createElement("img",{src:Pe.a,alt:"loginPic"})))))}}]),t}(n.Component)),Ie=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{signupUser:function(e,t){return function(a){a({type:S}),u.a.post("/signup",e).then((function(e){C(e.data.data),a(k(t)),a({type:N})})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data.data})}))}}})(Me),Re=a(435),Ae=a(650),De=a(669),Ue=a(666),Le=a(387),_e=a.n(Le),xe=a(388),Ge=a.n(xe),He=a(389),Fe=a.n(He),Be=a(390),We=a.n(Be),ze=a(391),Ye=a.n(ze),Ve=(a(490),function(e){function t(){return Object(Ee.a)(this,t),Object(be.a)(this,Object(ge.a)(t).apply(this,arguments))}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"componentWillMount",value:function(){localStorage.FBIdToken&&(window.location.href="http://localhost:3000/home/")}},{key:"render",value:function(){return o.a.createElement("div",{className:"landing-container"},o.a.createElement("div",{className:"nav-section"},o.a.createElement(Ae.a,null,o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{md:2,xs:4,className:"logo"},"POMOPAL"),o.a.createElement(Ne.a,{md:8,xs:4,className:"navs"},"Features"),o.a.createElement(Ne.a,{md:2,xs:4,className:"login"},o.a.createElement(Te.a,{className:"login-btn",href:"/login"},o.a.createElement(Oe.a,{className:"login-icon",icon:je.z}),"Log in"))))),o.a.createElement("div",{className:"hero-section"},o.a.createElement(Ae.a,null,o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{md:6,xs:12},o.a.createElement(Ae.a,null,o.a.createElement("div",{className:"slogan"},"A new way to "),o.a.createElement("div",{className:"changing"},o.a.createElement(Re.a,{interval:5e3},o.a.createElement("span",null," Beat Procrastination "),o.a.createElement("span",null," Stay Focused "),o.a.createElement("span",null," Get Things Done "),o.a.createElement("span",null," Boost Productivity "),o.a.createElement("span",null," Make Friends "))),o.a.createElement("div",{className:"sub-slogan"},"Stay in the zone with an accountable pal or your friend."),o.a.createElement(Te.a,{variant:"success"},o.a.createElement(we.a,{to:"/signup"},"Get Started"," ",o.a.createElement("span",null,o.a.createElement(Oe.a,{icon:je.d})))))),o.a.createElement(Ne.a,{md:6,xs:12},o.a.createElement(Ae.a,null,o.a.createElement("div",{className:"img-wrapper"},o.a.createElement("img",{src:_e.a,alt:"startup"}))))))),o.a.createElement("div",{className:"how-it-works-section"},o.a.createElement(Ae.a,null,o.a.createElement("div",{className:"title"},"How people use Pomopal"),o.a.createElement(De.a.Container,{id:"left-tabs-example",defaultActiveKey:"first"},o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{xs:12,sm:4},o.a.createElement(Ue.a,{variant:"pills",className:"flex-column"},o.a.createElement(Ue.a.Item,null,o.a.createElement(Ue.a.Link,{eventKey:"first"},o.a.createElement("span",null,o.a.createElement(Oe.a,{icon:je.r})),"Match Pomo Pal")),o.a.createElement(Ue.a.Item,null,o.a.createElement(Ue.a.Link,{eventKey:"second"},o.a.createElement("span",null,o.a.createElement(Oe.a,{icon:je.H})),"Invite Friends")),o.a.createElement(Ue.a.Item,null,o.a.createElement(Ue.a.Link,{eventKey:"third"},o.a.createElement("span",null,o.a.createElement(Oe.a,{icon:je.q})),"Stay Focused")),o.a.createElement(Ue.a.Item,null,o.a.createElement(Ue.a.Link,{eventKey:"forth"},o.a.createElement("span",null,o.a.createElement(Oe.a,{icon:je.n})),"History Records")))),o.a.createElement(Ne.a,{xs:12,sm:8},o.a.createElement(De.a.Content,null,o.a.createElement(De.a.Pane,{eventKey:"first"},o.a.createElement("div",{className:"img-wrapper"},o.a.createElement("img",{src:Ge.a,alt:"tab1"}))),o.a.createElement(De.a.Pane,{eventKey:"second"},o.a.createElement("div",{className:"img-wrapper"},o.a.createElement("img",{src:Fe.a,alt:"tab2"}))),o.a.createElement(De.a.Pane,{eventKey:"third"},o.a.createElement("div",{className:"img-wrapper"},o.a.createElement("img",{src:We.a,alt:"tab3"}))),o.a.createElement(De.a.Pane,{eventKey:"forth"},o.a.createElement("div",{className:"img-wrapper"},o.a.createElement("img",{src:Ye.a,alt:"tab4"}))))))))),o.a.createElement("div",{className:"call-to-action-section"},o.a.createElement(Ae.a,null,"Try Pomopal Today?",o.a.createElement(we.a,{to:"/signup"},"Get Started"))),o.a.createElement("div",{className:"footer"},o.a.createElement("div",{className:"logo"},"Pomopal"),o.a.createElement("div",{className:"rights"},"@ Pomopal.2020. All rights reserved.")))}}]),t}(n.Component)),Je=a(661),Ke=a(115),Ze=a.n(Ke),Xe=a(77),qe=a(668),Qe=(a(506),a(97)),$e=a.n(Qe),et=function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).handleLogout=function(){a.props.logoutUser()},a.buildAvatar=function(){var e=a.props.user.profile.avatar;return o.a.createElement("div",{className:"avatar-wrapper",onClick:a.showMenu},o.a.createElement("img",{src:e||$e.a,alt:"avatar"}),o.a.createElement("span",null," ",o.a.createElement(Oe.a,{icon:je.g})))},a.buildNavLinks=function(){return a.menuLinks.map((function(e){var t=e.name,a=e.link;return o.a.createElement("a",{href:a,key:t}," ",t," ")}))},a.buildDropdown=function(){return a.state.showMenu&&o.a.createElement("div",{ref:function(e){a.dropdownMenu=e},className:"dropdown-wrapper"},o.a.createElement("div",{className:"dropdown-content"},o.a.createElement("a",{href:"/",onClick:a.handleLogout}," Sign out ")))},a.buildAvatarAndDropdown=function(){return o.a.createElement(qe.a.Collapse,{className:"justify-content-end"},o.a.createElement(qe.a.Text,{className:"username"},a.props.user.profile.nickName),o.a.createElement(qe.a.Text,{className:"dropdown"},a.buildAvatar(),a.buildDropdown()))},a.state={content:"",showMenu:!1},a.showMenu=a.showMenu.bind(Object(Xe.a)(a)),a.closeMenu=a.closeMenu.bind(Object(Xe.a)(a)),a.menuLinks=[{name:"Dashboard",link:"/dashboard"},{name:"Room",link:"/room"},{name:"Match",link:"/match"},{name:"Account",link:"/account"}],a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"showMenu",value:function(e){var t=this;e.preventDefault(),this.setState({showMenu:!0},(function(){document.addEventListener("click",t.closeMenu)}))}},{key:"closeMenu",value:function(e){var t=this;this.dropdownMenu&&!this.dropdownMenu.contains(e.target)&&this.setState({showMenu:!1},(function(){document.removeEventListener("click",t.closeMenu)}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"navbar-container"},o.a.createElement(qe.a,null,o.a.createElement("span",{className:"expand-icon",onClick:this.props.toggleSidebar},o.a.createElement(Oe.a,{icon:je.e})),o.a.createElement(qe.a.Brand,{href:"/dashboard"}," Pomopal "),this.buildAvatarAndDropdown()))}}]),t}(n.Component),tt=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{addTodo:R,logoutUser:P,toggleSidebar:function(){return function(e){e({type:"TOGGLE_SIDEBAR"})}}})(et),at=(a(507),function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).buildNavLinks=function(e){return e.map((function(e,t){var a=e.link,n=e.icon,r=e.name;return o.a.createElement("li",{key:r},o.a.createElement(we.b,{to:a,activeClassName:"active"},o.a.createElement("span",null,n),o.a.createElement("span",{className:"nav"},r)))}))},a.state={content:""},a.navLinks=[{link:"/home",icon:o.a.createElement(Oe.a,{icon:je.o}),name:"Home"},{link:"/dashboard/today",icon:o.a.createElement(Oe.a,{icon:je.D}),name:"Dashboard"},{link:"/match",icon:o.a.createElement(Oe.a,{icon:je.m}),name:"Match"},{link:"/room",icon:o.a.createElement(Oe.a,{icon:je.j}),name:"Room"},{link:"/timer",icon:o.a.createElement(Oe.a,{icon:je.h}),name:"Timer"},{link:"/stopwatch",icon:o.a.createElement(Oe.a,{icon:je.B}),name:"Stopwatch"},{link:"/project",icon:o.a.createElement(Oe.a,{icon:je.l}),name:"Projects"}],a.userLinks=[{link:"/account",icon:o.a.createElement(Oe.a,{icon:je.i}),name:"Account"},{link:"/password",icon:o.a.createElement(Oe.a,{icon:je.p}),name:"Password"}],a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"render",value:function(){var e=this.props.user.profile,t=e.avatar,a=e.nickName,n=e.handle,r=null===a?n:a;return o.a.createElement("div",{className:"navleft-container"},o.a.createElement("div",{className:"user"},t?o.a.createElement("img",{src:t,alt:"avatar"}):o.a.createElement("img",{src:$e.a,alt:"avatar"}),r?o.a.createElement("p",null," ",r," "):o.a.createElement("p",null," \xa0 ")),o.a.createElement("ul",{className:"navs"},this.buildNavLinks(this.navLinks),o.a.createElement("hr",null),this.buildNavLinks(this.userLinks)))}}]),t}(n.Component)),nt=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{addTodo:R})(at),ot=(a(508),function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).buildNavLinks=function(e){return e.map((function(e,t){var a=e.link,n=e.icon,r=e.name;return o.a.createElement("li",null,o.a.createElement(we.b,{to:a,activeClassName:"active"},o.a.createElement("span",null,n),o.a.createElement("span",{className:"nav"},r)))}))},a.state={content:""},a.navLinks=[{link:"/home",icon:o.a.createElement(Oe.a,{icon:je.o}),name:"Home"},{link:"/dashboard",icon:o.a.createElement(Oe.a,{icon:je.D}),name:"Dashboard"},{link:"/match",icon:o.a.createElement(Oe.a,{icon:je.m}),name:"Match"},{link:"/room",icon:o.a.createElement(Oe.a,{icon:je.j}),name:"Room"},{link:"/timer",icon:o.a.createElement(Oe.a,{icon:je.h}),name:"Timer"},{link:"/stopwatch",icon:o.a.createElement(Oe.a,{icon:je.B}),name:"Stopwatch"},{link:"/project",icon:o.a.createElement(Oe.a,{icon:je.l}),name:"Projects"}],a.userLinks=[{link:"/account",icon:o.a.createElement(Oe.a,{icon:je.i}),name:"Account"},{link:"/password",icon:o.a.createElement(Oe.a,{icon:je.p}),name:"Password"}],a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"render",value:function(){var e=this.props.user.profile,t=e.avatar,a=e.nickName,n=e.handle,r=null===a?n:a;return this.props.UI.showSidebar&&o.a.createElement("div",{className:"navleft-mobile-container"},o.a.createElement("div",{className:"user"},t?o.a.createElement("img",{src:t,alt:"avatar"}):o.a.createElement("img",{src:$e.a,alt:"avatar"}),r?o.a.createElement("p",null," ",r," "):o.a.createElement("p",null," \xa0 ")),o.a.createElement("ul",{className:"navs"},this.buildNavLinks(this.navLinks),o.a.createElement("hr",null),this.buildNavLinks(this.userLinks)))}}]),t}(n.Component)),rt=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{addTodo:R})(ot),ct=a(171),lt=a.n(ct),it=a(651),st=(a(509),a(149),function(e){function t(){var e,a;Object(Ee.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(be.a)(this,(e=Object(ge.a)(t)).call.apply(e,[this].concat(r)))).chartRef=o.a.createRef(),a.getHour=function(e){var t=lt()().utcOffset(),a=lt.a.utc(e).utcOffset(t).format("HH");return parseInt(a)},a.parseToMins=function(e){return Math.floor(e/60)},a.parseToHrMins=function(e){var t=a.parseToMins(e);if(t<60)return"".concat(t," mins");var n=Math.floor(t/60);return t%=60,"".concat(n,"h ").concat(t,"mins")},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"render",value:function(){var e=this,t=this.props.pomo,a=[{hr:"0",mins:null},{hr:"1",mins:null},{hr:"2",mins:null},{hr:"3",mins:null},{hr:"4",mins:null},{hr:"5",mins:null},{hr:"6",mins:null},{hr:"7",mins:null},{hr:"8",mins:null},{hr:"9",mins:null},{hr:"10",mins:null},{hr:"11",mins:null},{hr:"12",mins:null},{hr:"13",mins:null},{hr:"14",mins:null},{hr:"15",mins:null},{hr:"16",mins:null},{hr:"17",mins:null},{hr:"18",mins:null},{hr:"19",mins:null},{hr:"20",mins:null},{hr:"21",mins:null},{hr:"22",mins:null},{hr:"23",mins:null},{hr:"24",mins:null}];if(!t||!t.today||!t.today.pomos)return o.a.createElement(o.a.Fragment,null," Loading... ");(this.props.pomo&&this.props.pomo.today.pomos).forEach((function(t){var n=e.getHour(t.createdAt);a[n].mins+=e.parseToMins(t.time)}));var n={data:a,autoFit:!0,xField:"hr",yField:"mins",xAxis:{tickCount:5},label:{style:{fill:"#aaa"}}};return o.a.createElement("div",{className:"bar-chart-container"},o.a.createElement("h3",null,"Time Distribution"),o.a.createElement("h5",null,"Total focused time: ",o.a.createElement("span",null,this.parseToHrMins(t.today.time))),o.a.createElement(it.a,Object.assign({},n,{chartRef:this.chartRef})))}}]),t}(n.Component)),ut=Object(l.b)((function(e){return{user:e.user,UI:e.UI,pomo:e.pomo}}),{logoutUser:P,getPomosToday:z})(st),mt=a(434),dt=a(182),pt=a(653),ht=(a(517),function(e){function t(){var e,a;Object(Ee.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(be.a)(this,(e=Object(ge.a)(t)).call.apply(e,[this].concat(r)))).groupByProject=function(e){return Object(dt.groupBy)(e,"project")},a.getPieData=function(e){for(var t=a.groupByProject(e),n=[],o=0,r=Object.entries(t);o<r.length;o++){var c=r[o],l=Object(mt.a)(c,2),i=l[0],s=l[1],u=0;s.forEach((function(e){u+=a.parseToMins(e.time)})),n.push({project:i,mins:u})}return n},a.parseToMins=function(e){return Math.floor(e/60)},a.parseToHrMins=function(e){var t=a.parseToMins(e);if(t<60)return"".concat(t," mins");var n=Math.floor(t/60);return t%=60,"".concat(n,"h ").concat(t,"mins")},a.buildPieChart=function(){var e=a.props.pomo,t=e&&e.today.pomos,n=a.getPieData(t),r=a.parseToHrMins(e.today.time),c={appendPadding:10,data:n,angleField:"mins",colorField:"project",radius:1,innerRadius:.64,statistic:{title:{formatter:function(e){return e?"".concat(e.project):"Total"}},content:{formatter:function(e){if(!e)return r;console.log(e);var t=e.mins;if(t<60)return"".concat(t," mins");var a=Math.floor(t/60);return t%=60,"".concat(a,"h ").concat(t,"mins")}}},meta:{value:{formatter:function(e){return"".concat(e," \xa5")}}},label:{type:"inner",offset:"-50%",style:{textAlign:"center"},autoRotate:!1,content:"{value}"},interactions:[{type:"element-selected"},{type:"element-active"},{type:"pie-statistic-active"}]};return 0===t.length?o.a.createElement("h5",null," No data "):o.a.createElement(pt.a,c)},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"render",value:function(){var e=this.props.pomo;return e&&e.today&&e.today.pomos?o.a.createElement("div",{className:"pie-chart-container"},o.a.createElement("h3",null,"Project Distribution"),this.buildPieChart()):o.a.createElement(o.a.Fragment,null," Loading... ")}}]),t}(n.Component)),ft=Object(l.b)((function(e){return{user:e.user,UI:e.UI,pomo:e.pomo}}),{logoutUser:P,getPomosToday:z})(ht),Et=a(670),vt=(a(518),function(e){function t(){var e,a;Object(Ee.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(be.a)(this,(e=Object(ge.a)(t)).call.apply(e,[this].concat(r)))).parseToMins=function(e){return Math.floor(e/60)},a.buildLabel=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("span",null,a.parseTime(e.createdAt)),o.a.createElement("span",null,"(",a.parseToMins(e.time),")"))},a.buildContent=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{class:"label"},e.project),o.a.createElement("span",null,e.content))},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"parseTime",value:function(e){var t=lt()().utcOffset();return lt.a.utc(e).utcOffset(t).format("HH:mm")}},{key:"buildTimeline",value:function(e){var t=this;return 0===e.length?o.a.createElement("h5",null," No data "):o.a.createElement(o.a.Fragment,null,o.a.createElement(Et.a,{mode:"left"},e.map((function(e){return o.a.createElement(Et.a.Item,{key:e.createdAt,label:t.buildLabel(e)},t.buildContent(e))}))))}},{key:"render",value:function(){var e=this.props.pomo;if(!e||!e.today||!e.today.pomos)return o.a.createElement(o.a.Fragment,null," Loading... ");var t=this.props.pomo&&this.props.pomo.today.pomos;return t.sort((function(e,t){return new Date(e.createdAt)-new Date(t.createdAt)})),o.a.createElement("div",{className:"timeline-container"},o.a.createElement("h3",null,"Timeline"),this.buildTimeline(t))}}]),t}(n.Component)),bt=Object(l.b)((function(e){return{user:e.user,UI:e.UI,pomo:e.pomo}}),{logoutUser:P,getPomosToday:z})(vt),gt=(a(182),function(e){function t(){var e,a;Object(Ee.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(be.a)(this,(e=Object(ge.a)(t)).call.apply(e,[this].concat(r)))).buildCharts=function(){var e=a.props.pomo;return e&&e.today&&e.today.pomos?o.a.createElement(o.a.Fragment,null,o.a.createElement(ut,null),o.a.createElement(ft,null),o.a.createElement(bt,null)):o.a.createElement("div",{className:"loading-container"},o.a.createElement(Ze.a,{color:"#ccc",height:15,width:5,loading:!0}))},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"componentWillMount",value:function(){this.props.getPomosToday()}},{key:"render",value:function(){return o.a.createElement("div",{className:"today-container"},this.buildCharts())}}]),t}(n.Component)),yt=Object(l.b)((function(e){return{user:e.user,UI:e.UI,pomo:e.pomo}}),{logoutUser:P,getPomosToday:z})(gt),wt=(a(182),function(e){function t(){var e,a;Object(Ee.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(be.a)(this,(e=Object(ge.a)(t)).call.apply(e,[this].concat(r)))).buildCharts=function(){var e=a.props.pomo;return e&&e.today&&e.today.pomos?o.a.createElement(o.a.Fragment,null,"Week"):o.a.createElement("div",{className:"loading-container"},o.a.createElement(Ze.a,{color:"#ccc",height:15,width:5,loading:!0}))},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"componentWillMount",value:function(){this.props.getPomosToday()}},{key:"render",value:function(){return o.a.createElement("div",{className:"week-container"},this.buildCharts())}}]),t}(n.Component)),Ot=Object(l.b)((function(e){return{user:e.user,UI:e.UI,pomo:e.pomo}}),{logoutUser:P,getPomosToday:z})(wt),jt=(a(541),a(182),Je.a.TabPane,{Today:"today",Week:"week",Month:"month","All Time":"all"}),St=function(e){function t(){var e,a;Object(Ee.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(be.a)(this,(e=Object(ge.a)(t)).call.apply(e,[this].concat(r)))).buildTab=function(e){var t=jt[e],n=a.props.match.params.past===t;return o.a.createElement(we.a,{key:e,to:"/dashboard/".concat(t),className:"tab-container ".concat(n?"active":"")}," ",o.a.createElement("h5",null,e)," ")},a.buildTabs=function(){return o.a.createElement("div",{className:"tabs-container"},Object.keys(jt).map(a.buildTab))},a.buildSection=function(){var e=a.props.match.params.past;return"today"===e?o.a.createElement(yt,null):"week"===e?o.a.createElement(Ot,null):void 0},a.buildContent=function(){return o.a.createElement("div",{className:"content"},a.buildTabs(),a.buildSection())},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"overview-container"},o.a.createElement(tt,null),o.a.createElement("div",{className:"body-container"},o.a.createElement(nt,null),o.a.createElement(rt,null),this.buildContent()))}}]),t}(n.Component),Nt=Object(l.b)((function(e){return{user:e.user,UI:e.UI,pomo:e.pomo}}),{logoutUser:P,getPomosToday:z})(St),Ct=(a(550),function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(w.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t={email:a.state.email,password:a.state.password};a.props.loginUser(t,a.props.history)},a.state={email:"",password:"",errors:{}},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors,email:"",password:""})}},{key:"render",value:function(){var e=this,t=this.state,a=t.errors,n=t.email,r=t.password,c=this.props.UI.loading;return o.a.createElement("div",{className:"login-container"},o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{md:5,xs:12,className:"left-col"},o.a.createElement("div",{className:"login-left"},o.a.createElement("h3",null,"Sign In"),o.a.createElement("h5",null,"Enter your email address and password to access account."),o.a.createElement("div",{className:"login-form"},o.a.createElement(Ce.a,{onSubmit:function(t){e.handleSubmit(t)}},o.a.createElement(Ce.a.Group,{controlId:"formBasicEmail"},o.a.createElement(Ce.a.Label,null,o.a.createElement("h5",null,o.a.createElement("b",null,"Email address"))),o.a.createElement(Ce.a.Control,{type:"email",placeholder:"Enter email",name:"email",onChange:function(t){e.handleChange(t)},value:n,isInvalid:0===n.length&&!!a.email}),o.a.createElement(Ce.a.Control.Feedback,{type:"invalid"},0===n.length&&a.email)),o.a.createElement(Ce.a.Group,{controlId:"formBasicPassword"},o.a.createElement(Ce.a.Label,null,o.a.createElement("h5",null,o.a.createElement("b",null,"Password"))),o.a.createElement(Ce.a.Control,{type:"password",placeholder:"Password",name:"password",onChange:function(t){e.handleChange(t)},value:r,isInvalid:0===r.length&&!!a.password}),o.a.createElement(Ce.a.Control.Feedback,{type:"invalid"},0===r.length&&a.password)),o.a.createElement(Te.a,{variant:"info",type:"submit",disabled:c},c?o.a.createElement(Oe.a,{className:"icon",icon:je.C,spin:!0}):o.a.createElement(Oe.a,{className:"icon",icon:je.z}),o.a.createElement("span",null," Log In ")),o.a.createElement("div",{className:"link-to-signup"},o.a.createElement("h5",null,"Don't have an account?"," ",o.a.createElement("b",null,o.a.createElement(we.a,{className:c?"disabled-link":"",to:"/signup"},"Sign Up")))))))),o.a.createElement(Ne.a,{md:7,xs:12,className:"right-col"},o.a.createElement("div",{className:"login-right"},o.a.createElement("img",{src:Pe.a,alt:"loginPic"})))))}}]),t}(n.Component)),Tt=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{loginUser:function(e,t){return function(a){a({type:S}),u.a.post("/login",e).then((function(e){C(e.data.data),a(k(t)),a({type:N})})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}}})(Ct);a(551);j.a.initializeApp({apiKey:"AIzaSyA-EVP5tjgcdoSp6l2KG7azuoq3jsRzl8o",authDomain:"pomopal-dev.firebaseapp.com",databaseURL:"https://pomopal-dev.firebaseio.com",projectId:"pomopal-dev",storageBucket:"pomopal-dev.appspot.com",messagingSenderId:"504847911416"}),j.a.firestore().settings({});var kt=j.a,Pt=a(671),Mt=a(654),It=(a(555),function(e){function t(e){var a;Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).onUpdateUsers=function(e){e.data()&&a.setState({users:e.data().people})};var n=a.props.roomName;return a.ref=kt.firestore().collection("rooms").doc(n),a.unsubscribe=null,a.state={users:[]},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.onSnapshot(this.onUpdateUsers)}},{key:"componentWillUnmount",value:function(){this.setState({usres:[]})}},{key:"render",value:function(){var e=this.state.users;return o.a.createElement("div",{className:"usersinroom-container"},e&&e.map((function(e){return o.a.createElement("div",{className:"single-user",key:e.handle},o.a.createElement(Pt.a,{key:"delete",placement:"bottom",overlay:o.a.createElement(Mt.a,{id:"username"},e.nickName)},o.a.createElement("img",{src:e.avatar?e.avatar:$e.a,alt:"avatar"})))})))}}]),t}(n.Component)),Rt=Object(l.b)((function(e){return{username:e.user.profile.handle}}),(function(e){return{addMessage:function(t){return e(L(t))}}}))(It),At=a(667),Dt=a(655),Ut=(a(562),function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).state={content:"",errors:{}},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"render",value:function(){return o.a.createElement(At.a,Object.assign({},this.props,{size:"lg",className:"loading-modal"}),o.a.createElement(At.a.Body,null,o.a.createElement(Dt.a,{as:"span",animation:"border",size:"lg",role:"status","aria-hidden":"true"})))}}]),t}(n.Component)),Lt=a(656),_t=function(e){function t(){var e,a;Object(Ee.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(be.a)(this,(e=Object(ge.a)(t)).call.apply(e,[this].concat(o)))).handleClose=function(){return a.props.onClose()},a.handleConfirm=function(){a.props.onDelete(),a.props.onClose()},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"render",value:function(){return o.a.createElement(At.a,{backdrop:"static",size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show},o.a.createElement(At.a.Header,null,o.a.createElement(At.a.Title,{id:"contained-modal-title-vcenter"},"Are you sure to delete this room?")),o.a.createElement(At.a.Body,null,o.a.createElement(Ce.a,null,o.a.createElement(Ce.a.Group,{controlId:"formBasicEmail"},"All messages will be cleared, and this room will be closed."))),o.a.createElement(At.a.Footer,null,o.a.createElement(Te.a,{id:"close",variant:"secondary",onClick:this.handleClose},"Cancel"),o.a.createElement(Te.a,{variant:"primary",onClick:this.handleConfirm},"Delete")))}}]),t}(n.Component),xt=(a(571),function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).setModalShow=function(e){a.setState({showDeleteRoomModal:e})},a.deleteMessages=function(){var e=a.props.roomName;a.props.deleteMessages(e)},a.deleteRoom=function(){var e=a.props,t=e.roomName,n=e.history;a.props.deleteRoom(n,t)},a.state={showDeleteRoomModal:!1},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"render",value:function(){var e=this,t=this.props.isOwner;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"commit-container"},o.a.createElement(Lt.a,null,t?o.a.createElement(Pt.a,{key:"delete",placement:"top",overlay:o.a.createElement(Mt.a,{id:"delete"},"Delete Room")},o.a.createElement(Te.a,{id:"clear",variant:"secondary",onClick:function(){return e.setModalShow(!0)}},o.a.createElement(Oe.a,{className:"icon",icon:je.G}))):null,t?o.a.createElement(Pt.a,{key:"clear",placement:"top",overlay:o.a.createElement(Mt.a,{id:"clear"},"Clear Messages")},o.a.createElement(Te.a,{id:"clear",variant:"secondary",onClick:this.deleteMessages},o.a.createElement(Oe.a,{className:"icon",icon:je.f}))):null,o.a.createElement(Pt.a,{key:"leave",placement:"top",overlay:o.a.createElement(Mt.a,{id:"leave"},"Leave Room")},o.a.createElement(Te.a,{id:"leave",variant:"secondary",onClick:function(){return e.props.onLeave()}},o.a.createElement(Oe.a,{className:"icon",icon:je.A}))),o.a.createElement(Pt.a,{key:"commit",placement:"top",overlay:o.a.createElement(Mt.a,{id:"commit"},"New Commit")},o.a.createElement(Te.a,{id:"commit",variant:"secondary",onClick:function(){return e.props.onOpenModal()}},o.a.createElement(Oe.a,{className:"icon",icon:je.v}))))),o.a.createElement(_t,{show:this.state.showDeleteRoomModal,onDelete:this.deleteRoom,onClose:function(){return e.setModalShow(!1)}}))}}]),t}(n.Component)),Gt=Object(l.b)((function(e){return{username:e.user.profile.handle,UI:e.UI}}),(function(e){return{deleteMessages:function(t){return e((a=t,function(e){e({type:S}),u.a.post("/messages",{roomName:a}).then((function(t){e({type:N})})).catch((function(e){}))}));var a},deleteRoom:function(t,a){return e(G(t,a))}}}))(xt),Ht=(a(572),a(573),a(416)),Ft=a.n(Ht),Bt=function(e){var t=e.item,a=e.curHandle,n=t.userHandle===a;return o.a.createElement("div",{className:"message-container"+(n?" isOwner":"")},o.a.createElement("img",{className:"userImg"+(n?" isOwner":""),src:t.avatar?t.avatar:Ft.a,alt:"avatar"}),o.a.createElement("div",{className:"message-sender"+(n?" isOwner":"")},o.a.createElement("b",null," ",o.a.createElement("i",null,t.nickName," "))),o.a.createElement("div",{className:"message-content"},o.a.createElement("p",null," ",t.content," ")))},Wt=function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).onUpdateMessages=function(e){var t=[];e.forEach((function(e){t.push({userHandle:e.data().userHandle,content:e.data().content,createdAt:e.data().createdAt,avatar:e.data().avatar,nickName:e.data().nickName})})),a.setState({messages:t},(function(){a.showNotification(t[t.length-1])}))},a.scrollToBottom=function(){a.messagesEnd.scrollIntoView({behavior:"smooth"})},a.grantNotificationPermission=function(){"Notification"in window?"denied"===Notification.permission&&"default"!==Notification.permission||Notification.requestPermission().then((function(e){"granted"===e&&new Notification("Awesome! You will start receiving notifications shortly",{icon:"/myFavicon.png"})})):alert("This browser does not support system notifications")},a.showNotification=function(e){if(e&&e.userHandle&&e.userHandle!==a.curHandle){var t=e.nickName||e.userHandle,n={body:e.content,icon:"/myFavicon.png"};new Notification(t,n)}},a.ref=kt.firestore().collection("rooms").doc(a.props.roomname).collection("messages"),a.unsubscribe=null,a.state={messages:[],content:""},a.curHandle=e.username,a.showNotification=a.showNotification.bind(Object(Xe.a)(a)),a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"componentDidMount",value:function(){this.curHandle=this.props.username,this.unsubscribe=this.ref.orderBy("createdAt").onSnapshot(this.onUpdateMessages),this.scrollToBottom(),this.grantNotificationPermission()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"handleChange",value:function(e){this.setState(Object(w.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),this.state.content.length>0){var t={userHandle:this.props.username,content:this.state.content,roomName:this.props.roomname,nickName:this.props.nickName,avatar:this.props.avatar};this.props.addMessage(t),this.setState({content:""})}}},{key:"render",value:function(){var e=this,t=this.props.username,a=this.props.UI.loadingMessage;return o.a.createElement("div",{className:"chatroom-container"},o.a.createElement("div",{className:"message-list"},this.state.messages&&this.state.messages.map((function(e){return o.a.createElement(Bt,{key:"".concat(e.createdAt,"-").concat(e.content),item:e,curHandle:t})})),o.a.createElement("div",{style:{float:"left",clear:"both"},ref:function(t){e.messagesEnd=t}})),o.a.createElement("div",{className:"chatroom-input"},o.a.createElement(Ce.a,{onSubmit:function(t){e.handleSubmit(t)}},o.a.createElement(Ce.a.Group,{controlId:"formTextContent"},o.a.createElement(Ce.a.Control,{type:"text",placeholder:"Type a message",name:"content",onChange:function(t){e.handleChange(t)},value:this.state.content})),o.a.createElement(Te.a,{variant:"primary",type:"submit"},a?o.a.createElement(Oe.a,{className:"icon",icon:je.C,spin:!0}):o.a.createElement(Oe.a,{className:"icon",icon:je.s})))))}}]),t}(n.Component),zt=Object(l.b)((function(e){return{username:e.user.profile.handle,avatar:e.user.profile.avatar,UI:e.UI}}),(function(e){return{addMessage:function(t){return e(L(t))}}}))(Wt),Yt=a(281),Vt=a(417),Jt=a.n(Vt),Kt=(a(574),function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).openAddProject=function(){a.setState({addProject:!0})},a.closeAddProject=function(){a.setState({addProject:!1})},a.openAddTag=function(){a.setState({addTag:!0})},a.closeAddTag=function(){a.setState({addTag:!1})},a.addNewProject=function(){a.state.newProject.length>0&&a.props.addProject(a.state.newProject)},a.addNewTag=function(){a.state.newTag.length>0&&a.props.addTag(a.state.newTag)},a.handleChange=function(e){a.props.clearSuccess(),a.props.clearErrors(),a.setState(Object(w.a)({},e.target.name,e.target.value))},a.toggleChecked=function(){a.setState({public:!a.state.public})},a.handleMultiChange=function(e){a.props.clearSuccess(),a.props.clearErrors(),a.setState({tag:Array.from(e.target.selectedOptions,(function(e){return e.value}))})},a.handleCancel=function(){a.props.clearSuccess(),a.props.showCancelModal()},a.handleSubmit=function(e){var t=a.props,n=t.createPomo,o=t.removeTodo,r=t.onHide,c=t.type,l=t.time,i=t.onSubmitSuccess,s=t.clearSuccess,u=a.props.user.profile,m=u.avatar,d=u.nickName;if(a.state.content.trim().length>0){e.preventDefault();var p={content:a.state.content.length>0?a.state.content:a.props.user.todo,project:a.state.project,tag:a.state.tag,public:a.state.public,dateSeq:B(new Date),nickName:d,avatar:m,type:c,time:l};s(),n(p),o(),r(),i()}},a.buildEnterTask=function(){var e=a.props.user.todo;return o.a.createElement(Ce.a.Group,{controlId:"enterTask"},o.a.createElement(Ce.a.Label,null," What did you accomplish? "),o.a.createElement(Ce.a.Control,{type:"text",placeholder:"Enter your task",defaultValue:e,name:"content",onChange:function(e){a.handleChange(e)}}))},a.buildAddProjectButtons=function(){return a.state.addProject?o.a.createElement("div",{className:"add-project-wrapper"},o.a.createElement("input",{type:"text",className:"text",placeholder:"Enter project name",name:"newProject",onChange:function(e){a.handleChange(e)}}),o.a.createElement("span",{className:"hidden-btn",onClick:function(){a.addNewProject(),a.closeAddProject()}},"Add"),o.a.createElement("span",{className:"hidden-btn cancel",onClick:function(){return a.closeAddProject()}},"Cancel")):o.a.createElement("div",{className:"add-project-wrapper create"},o.a.createElement("span",{className:"hidden-btn",onClick:function(){return a.openAddProject()}},"Create new project"))},a.buildSelectProject=function(){var e=a.props.user.profile.projects,t=a.props.UI,n=t.errors,r=t.success,c=t.posting;return o.a.createElement(Ce.a.Group,{controlId:"exampleForm.ControlSelect1"},o.a.createElement(Ce.a.Label,null,"Select project"),o.a.createElement(Ce.a.Control.Feedback,{type:"invalid"},n&&n.project),o.a.createElement(Ce.a.Control.Feedback,{type:"valid"},r&&r.project),o.a.createElement(Ce.a.Control,{as:"select",name:"project",value:a.state.project,onChange:function(e){a.handleChange(e)}},e&&e.map((function(e,t){return o.a.createElement("option",{key:t}," ",e," ")}))),c?o.a.createElement("div",{className:"add-project-wrapper"},o.a.createElement(Jt.a,{size:25,color:"#474d56",loading:c})):a.buildAddProjectButtons())},a.buildSetPublic=function(){var e=a.state.public;return o.a.createElement(Ce.a.Group,{controlId:"setPubilc"},o.a.createElement(Ce.a.Label,null," Share to public "),o.a.createElement("div",{className:"switch-container"},o.a.createElement("label",{className:"switch"},o.a.createElement("input",{type:"checkbox",checked:e,onChange:a.toggleChecked}),o.a.createElement("span",{className:"slider round"}))))},a.buildForm=function(){return o.a.createElement(Ce.a,null,a.buildEnterTask(),a.buildSelectProject(),a.buildSetPublic())},a.state={content:"",public:!0,project:"Other",tag:[],addProject:!1,addTag:!1,newProject:"",newTag:"",addingTag:!1},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"componentDidUpdate",value:function(e,t){if(e.user.profile.projects.length!==this.props.user.profile.projects.length){var a=this.props.user.profile.projects;this.setState({project:a[a.length-1]})}}},{key:"render",value:function(){return o.a.createElement(At.a,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"pomo-modal",show:this.props.show},o.a.createElement(At.a.Header,null,o.a.createElement(At.a.Title,{id:"contained-modal-title-vcenter"},"Add to history")),o.a.createElement(At.a.Body,null,this.buildForm()),o.a.createElement(At.a.Footer,null,o.a.createElement(Te.a,{id:"close",onClick:this.handleCancel,variant:"secondary"}," Cancel "),o.a.createElement(Te.a,{onClick:this.handleSubmit,disabled:0===this.state.content.trim().length}," Submit ")))}}]),t}(n.Component)),Zt=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{createPomo:W,removeTodo:A,addProject:M,clearErrors:V,clearSuccess:Y,addTag:I})(Kt),Xt=function(e){function t(){return Object(Ee.a)(this,t),Object(be.a)(this,Object(ge.a)(t).apply(this,arguments))}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"render",value:function(){return o.a.createElement(At.a,{backdrop:"static",size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show},o.a.createElement(At.a.Header,null,o.a.createElement(At.a.Title,{id:"contained-modal-title-vcenter"},"Are you sure to cancel?")),o.a.createElement(At.a.Body,null,o.a.createElement(Ce.a,null,o.a.createElement(Ce.a.Group,{controlId:"formBasicEmail"},"If so, this pomodoro won't be added to your records."))),o.a.createElement(At.a.Footer,null,o.a.createElement(Te.a,{id:"close",variant:"secondary",onClick:this.props.onCancel},"Continue to cancel"),o.a.createElement(Te.a,{variant:"primary",onClick:this.props.onBack},"Back")))}}]),t}(n.Component),qt=(a(345),a(575),a(122)),Qt=a.n(qt),$t=a(123),ea=a.n($t),ta=function(e){function t(e){var a;Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).getDefaultTime=function(e){return 0===e?60:1===e?1500:2===e?1800:2700},a.count=function(e){var t=a.state.type,n=a.getDefaultTime(t);a.state.on&&a.state.startTime&&(a.state.time>0?a.setState({time:n-Math.floor(((new Date).getTime()-e)/1e3)}):(a.stopAudio.play(),a.setState({on:!1,startTime:null,modalShow:!0,type:1,time:1500},a.handleReset())))},a.start=function(e){a.interval=setInterval((function(e){a.count(e)}),1e3,e)},a.reset=function(){a.setState({on:!1,startTime:null,type:1,time:1500}),clearInterval(a.interval)},a.handleStart=function(e){e.preventDefault(),a.startAudio.play(),a.props.startCount(a.props.roomName)},a.handleReset=function(){var e={roomName:a.props.roomName};u.a.post("/resetcount",e).then((function(e){a.setState({on:!1,startTime:null,modalShow:!0,type:1,time:1500}),clearInterval(a.interval)})).catch((function(e){console.error(e)}))},a.subscribeStart=function(e){e.data()&&a.setState({on:e.data().on,startTime:e.data().startTime,type:e.data().type,time:e.data().time}),e.data()&&e.data().startTime&&a.start(e.data().startTime)},a.setModalShow=function(e){a.setState({modalShow:e})},a.setShowCancelModal=function(e){a.setState({showCancelModal:e})},a.showCancelModal=function(){a.setModalShow(!1),a.setShowCancelModal(!0)},a.handleChange=function(e){a.setState(Object(w.a)({},e.target.name,e.target.value))},a.onUpdateTime=function(e){var t=e.type,n=e.time,o=a.props,r=o.roomName;(0,o.updateTime)({roomName:r,type:t,time:n}),a.setState({type:t,time:n})},a.onSubmitSuccess=function(){};var n=a.props.roomName;return a.ref=kt.firestore().collection("rooms").doc(n),a.unsubsrcibe=null,a.startAudio=new Audio(Qt.a),a.stopAudio=new Audio(ea.a),a.state={on:!1,startTime:null,modalShow:!1,showCancelModal:!1,type:1,time:1500},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.onSnapshot(this.subscribeStart)}},{key:"componentWillUnmount",value:function(){this.unsubscribe=null,this.setState({on:!1,startTime:null,modalShow:!0,type:1,time:1500})}},{key:"buildOptions",value:function(){var e=this,t=this.state.type;return o.a.createElement("div",{className:"options"},o.a.createElement("div",{className:"option"+(this.state.on?" inProgress":""),id:"0",onClick:function(){e.onUpdateTime({type:0,time:60})}},o.a.createElement("div",{className:"time"+(0===t?" active":"")},"1"),o.a.createElement("div",{className:"icon"+(0===t?" show":"")},o.a.createElement("span",{role:"img","aria-label":"lemon"},"\ud83c\udf4b"))),o.a.createElement("div",{className:"option"+(this.state.on?" inProgress":""),id:"1",onClick:function(){return e.onUpdateTime({type:1,time:1500})}},o.a.createElement("div",{className:"time"+(1===t?" active":"")},"25"),o.a.createElement("div",{className:"icon"+(1===t?" show":"")},o.a.createElement("span",{role:"img","aria-label":"apple"},"\ud83c\udf45"))),o.a.createElement("div",{className:"option"+(this.state.on?" inProgress":""),id:"2",onClick:function(){return e.onUpdateTime({type:2,time:1800})}},o.a.createElement("div",{className:"time"+(2===t?" active":"")},"30"),o.a.createElement("div",{className:"icon"+(2===t?" show":"")},o.a.createElement("span",{role:"img","aria-label":"apple2"},"\ud83c\udf4f"))),o.a.createElement("div",{className:"option"+(this.state.on?" inProgress":""),id:"3",onClick:function(){return e.onUpdateTime({type:3,time:2700})}},o.a.createElement("div",{className:"time"+(3===t?" active":"")},"45"),o.a.createElement("div",{className:"icon"+(3===t?" show":"")},o.a.createElement("span",{role:"img","aria-label":"melon"},"\ud83c\udf49"))))}},{key:"render",value:function(){var e=this,t=this.state,a=t.type,n=t.time,r=100*(n/this.getDefaultTime(a));return o.a.createElement("div",{className:"pomodoro-container"},o.a.createElement(Ae.a,null,this.buildOptions(),o.a.createElement("div",{className:"circular-container"},o.a.createElement(Yt.a,{value:r,text:H(n),strokeWidth:5,styles:Object(Yt.b)({textColor:"#FB7299",pathColor:"#FB7299",trailColor:"transparent"})}),this.state.on?null:o.a.createElement("div",{className:"control play",onClick:function(t){e.handleStart(t)}},o.a.createElement(Oe.a,{icon:je.w})))),o.a.createElement(Zt,{show:this.state.modalShow,showCancelModal:this.showCancelModal,type:a,time:n,onHide:function(){return e.setModalShow(!1)},onSubmitSuccess:this.onSubmitSuccess}),o.a.createElement(Xt,{show:this.state.showCancelModal,onBack:function(){e.setShowCancelModal(!1),e.setModalShow(!0)},onCancel:function(){e.setShowCancelModal(!1),e.setModalShow(!1)}}))}}]),t}(n.Component),aa=(a(576),function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(w.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){var t=a.props,n=t.onSend,o=t.roomName,r=t.onHide,c=t.curTodo;e.preventDefault(),a.state.content.length>0&&a.state.content!==c&&(n(a.state.content,o),r())},a.handleClose=function(){return a.props.onHide()},a.state={content:"",errors:{}},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.content,n=t.errors,r=a.length>0;return o.a.createElement(At.a,{backdrop:"static",size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show},o.a.createElement(At.a.Header,null,o.a.createElement(At.a.Title,{id:"contained-modal-title-vcenter"},"What to focus now?")),o.a.createElement(At.a.Body,null,o.a.createElement(Ce.a,null,o.a.createElement(Ce.a.Group,{controlId:"formBasicEmail"},o.a.createElement(Ce.a.Control,{type:"text",placeholder:"Enter what to focus on",className:"content",name:"content",onChange:function(t){e.handleChange(t)},isInvalid:!!n.content}),o.a.createElement(Ce.a.Control.Feedback,{type:"invalid"},n.content)))),o.a.createElement(At.a.Footer,null,o.a.createElement(Te.a,{id:"close",variant:"secondary",onClick:this.handleClose},"Close"),o.a.createElement(Te.a,{variant:"primary",onClick:this.handleSubmit,disabled:!r},"Send")))}}]),t}(n.Component)),na=(a(577),function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).setModalShow=function(e){a.setState({modalShow:e})},a.addTodo=function(e,t){var n=a.props.user.profile,o=n.nickName,r=n.handle,c=n.avatar;a.props.addTodo(e,r,o,c,t)},a.onLeave=function(){var e=a.props.match.params.roomname,t=a.props.user.profile,n=t.avatar,o=t.nickName;a.props.leaveRoom(a.props.history,{roomName:e,avatar:n,nickName:o})},a._startCount=function(e){a.props.startCount(e)},a._updateTime=function(e){var t=e.roomName,n=e.type,o=e.time;a.props.updateTime({roomName:t,type:n,time:o})},a.buildRoomModal=function(){var e=a.state.modalShow,t=a.props.match.params.roomname;return e&&o.a.createElement(aa,{onSend:a.addTodo,onHide:function(){return a.setModalShow(!1)},roomName:t,handle:a.props.user.profile.handle,curTodo:a.props.user.todo,show:e})},a.buildContent=function(){var e=a.props.match.params.roomname,t=a.props.user.profile,n=t.inRoom,r=t.ownsRoom,c=t.handle,l=t.nickName,i=null!==r&&n===r,s=a.props.history;return o.a.createElement("div",{className:"content"},o.a.createElement(Ae.a,null,o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{md:4,sm:12,xs:12},o.a.createElement(ta,{roomName:e,isOwner:i,startCount:function(e){return a._startCount(e)},updateTime:function(e){var t=e.roomName,n=e.type,o=e.time;return a._updateTime({roomName:t,type:n,time:o})}})),o.a.createElement(Ne.a,{md:8,sm:12,xs:12,className:"roomRight"},o.a.createElement("div",{className:"roomInfo"},o.a.createElement("div",null,o.a.createElement("h2",null," ",20===e.length?"Pomo Room":e," "),o.a.createElement(Rt,{roomName:e})),o.a.createElement("div",null,o.a.createElement(Gt,{isOwner:i,roomName:e,onLeave:function(){return a.onLeave()},onOpenModal:function(){return a.setModalShow(!0)},history:s}))),o.a.createElement(zt,{roomname:e,isOwner:i,curHandle:c,nickName:l})))),a.buildRoomModal(),o.a.createElement(Ut,{show:a.props.UI.loading}))},a.state={modalShow:!1,isOwner:!1},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"room-container"},o.a.createElement(tt,null),o.a.createElement("div",{className:"body-container"},o.a.createElement(nt,null),o.a.createElement(rt,null),this.buildContent()))}}]),t}(n.Component)),oa=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{leaveRoom:x,addTodo:R,startCount:function(e){return function(t){t({type:S}),u.a.post("/startcount",{roomName:e}).then((function(e){t({type:N})})).catch((function(e){console.log(e)}))}},updateTime:function(e){var t=e.roomName,a=e.type,n=e.time;return function(e){e({type:S}),u.a.post("/updateTime",{roomName:t,type:a,time:n}).then((function(t){e({type:N})})).catch((function(e){console.log(e)}))}}})(na),ra=a(418),ca=a.n(ra),la=a(176),ia=a(419),sa=a.n(ia),ua=(a(593),function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).onStart=function(){a.startAudio.play(),a.showPomoStartToast(),a.setState({on:!0,inputRangeDisabled:!0}),a.props.setPomoTimer({on:!0,startingTime:Date.now()}),a.interval=setInterval((function(){a.state.value<a.state.logTime?a.setState((function(e){return{value:e.value+1}})):(a.stopAudio.play(),a.showNotification(),a.setState({on:!1,value:0,showPomoModal:!0}),a.props.setPomoTimer({on:!1}),clearInterval(a.interval))}),1e3)},a.onPause=function(){a.setState({on:!1},(function(){a.props.setPomoTimer({pauseTimer:a.state.value,logTime:a.state.logTime})})),clearInterval(a.interval)},a.onReset=function(){a.setState({on:!1,value:0,inputRangeDisabled:!1,showPomoModal:!1}),a.props.setPomoTimer({logTime:1500}),clearInterval(a.interval)},a.onInputRangeChange=function(e){a.setState({value:0,logTime:60*e}),a.props.setPomoTimer({logTime:60*e})},a.setShowPomoModal=function(e){a.setState({showPomoModal:e})},a.setShowCancelModal=function(e){a.setState({showCancelModal:e})},a.showCancelModal=function(){a.setShowPomoModal(!1),a.setShowCancelModal(!0)},a.showSuccessToast=function(){la.a.success("Logged Successully, Enjoy!",{position:"top-center"})},a.onSubmitSuccess=function(){a.setState({inputRangeDisabled:!1,logTime:1500},a.showSuccessToast),a.props.setPomoTimer({value:0,logTime:1500})},a.showPomoStartToast=function(){la.a.loading("Pomodoro Starts, Enjoy!",{position:"top-center"})},a.grantNotificationPermission=function(){"Notification"in window?"denied"===Notification.permission&&"default"!==Notification.permission||Notification.requestPermission().then((function(e){"granted"===e&&new Notification("Awesome! You will start receiving notifications shortly",{icon:"/myFavicon.png"})})):alert("This browser does not support system notifications")},a.showNotification=function(){new Notification("Pomopal",{body:"You completed a session.",icon:"/myFavico.png"})},a.buildBg=function(){return o.a.createElement("div",{className:"background"},o.a.createElement("img",{src:sa.a,alt:"Working"}))},a.buildRangeInput=function(){var e=a.state,t=e.logTime-e.value;return o.a.createElement("div",{className:"input-range"},o.a.createElement(ca.a,{name:"Set Timer",maxValue:60,minValue:0,value:Math.round(t/60),onChange:a.onInputRangeChange,disabled:a.state.inputRangeDisabled}))},a.buildTimer=function(){var e=a.state,t=e.logTime-e.value;return o.a.createElement("div",{className:"timer"},H(t))},a.buildButtonGroup=function(){return o.a.createElement("div",{className:"buttons"},!a.state.on&&o.a.createElement("span",{onClick:a.onStart},o.a.createElement(Oe.a,{icon:je.x})),a.state.on&&o.a.createElement("span",{onClick:a.onPause},o.a.createElement(Oe.a,{icon:je.u})),o.a.createElement("span",{onClick:a.onReset},o.a.createElement(Oe.a,{icon:je.F})))},a.buildContent=function(){return o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"timer-header"},o.a.createElement("h3",null," Timer ")),o.a.createElement("div",{className:"timer-body"},a.buildBg(),a.buildRangeInput(),a.buildTimer(),a.buildButtonGroup()))},a.interval=null,a.startAudio=new Audio(Qt.a),a.stopAudio=new Audio(ea.a),a.state={value:0,logTime:1500,on:!1,inputRangeDisabled:!1,showPomoModal:!1,showCancelModal:!1},a.showNotification=a.showNotification.bind(Object(Xe.a)(a)),a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.user.profile.timer,a=t.on,n=t.startingTime,o=t.logTime,r=t.pauseTimer;this.grantNotificationPermission(),!a&&r?this.setState({on:!1,value:r,logTime:o}):a&&n&&(this.setState({on:!0,value:Math.floor((Date.now()-n)/1e3),logTime:o}),this.interval=setInterval((function(){e.state.value<e.state.logTime?e.setState((function(e){return{value:e.value+1}})):(e.stopAudio.play(),e.showNotification(),e.setState({on:!1,value:0,showPomoModal:!0,logTime:1500}),e.props.setPomoTimer({on:!1,logTime:1500}),clearInterval(e.interval))}),1e3))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"timer-container"},o.a.createElement(tt,null),o.a.createElement("div",{className:"body-container"},o.a.createElement(nt,null),o.a.createElement(rt,null),this.buildContent()),o.a.createElement(Zt,{show:this.state.showPomoModal,showCancelModal:this.showCancelModal,type:-1,time:this.state.logTime,onHide:function(){return e.setShowPomoModal(!1)},onSubmitSuccess:this.onSubmitSuccess}),o.a.createElement(Xt,{show:this.state.showCancelModal,onBack:function(){e.setShowCancelModal(!1),e.setShowPomoModal(!0)},onCancel:function(){e.setShowCancelModal(!1),e.setShowPomoModal(!1)}}))}}]),t}(n.Component)),ma=Object(l.b)((function(e){return{user:e.user}}),{setPomoTimer:D,removePomoTimer:U})(ua),da=a(185),pa=a.n(da),ha=(a(594),function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).buildClassName=function(){return pa()("btn",a.props.className,{"btn-pill":"pill"===a.props.shape,"btn-sm":"sm"===a.props.size,"btn-lg":"lg"===a.props.size,"btn-success":"success"===a.props.variant,"btn-with-border":!0===a.props.withBorder})},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"render",value:function(){return o.a.createElement("button",{className:this.buildClassName(),onClick:this.props.onClick},this.props.children)}}]),t}(n.Component)),fa=(a(595),function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).buildClassName=function(){return pa()("icon-wrapper",a.props.className,{"icon-success":"success"===a.props.variant})},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"render",value:function(){var e={play:je.w,angleDown:je.a,bars:je.e,times:je.E,pause:je.t};return o.a.createElement("div",{className:this.buildClassName(),onClick:this.props.onClick},o.a.createElement(Oe.a,{icon:e[this.props.icon]}),this.props.children)}}]),t}(n.Component)),Ea=(a(596),function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).onClick=function(){a.setState((function(e){return{open:!e.open}}))},a.onClickOutside=function(e){a.container.current&&!a.container.current.contains(e.target)&&a.setState({open:!1})},a.buildItems=function(){return a.props.items.map((function(e,t){return o.a.createElement("div",{className:"dropdown-item",key:t},e)}))},a.state={open:!1,selectedItem:a.props.displayItem},a.container=o.a.createRef(),a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.onClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.onClickOutside)}},{key:"render",value:function(){return o.a.createElement("div",{className:"dropdown-container"},o.a.createElement(ha,{className:"display",size:"lg",withBorder:!0,onClick:this.onClick},this.state.selectedItem,o.a.createElement("span",null,o.a.createElement(fa,{icon:"angleDown"}))),this.state.open&&o.a.createElement("div",{className:"dropdown-items",ref:this.container},this.buildItems()))}}]),t}(n.Component)),va=(a(597),function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).clickButton=function(e){e.preventDefault(),a.props.closeSlideDrawer()},a.handleClickOutside=function(e){a.wrapperRef&&!a.wrapperRef.current.contains(e.target)&&a.props.closeSlideDrawer()},a.wrapperRef=o.a.createRef(),a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e="slide-drawer";return this.props.UI.showSlideDrawer&&(e="slide-drawer open"),o.a.createElement("div",{className:e,ref:this.wrapperRef},o.a.createElement("div",null," X "))}}]),t}(n.Component)),ba=Object(l.b)((function(e){return{UI:e.UI}}),{closeSlideDrawer:K})(va),ga=(a(598),function(e){function t(){return Object(Ee.a)(this,t),Object(be.a)(this,Object(ge.a)(t).apply(this,arguments))}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"layout-container"},o.a.createElement("div",{className:"navbar"},o.a.createElement("div",{className:"logo"}," Pomopal "),o.a.createElement("div",{className:"icon",onClick:this.props.openSlideDrawer},o.a.createElement(fa,{icon:"bars"}))),o.a.createElement(ba,null),this.props.children)}}]),t}(n.Component)),ya=Object(l.b)((function(e){return{UI:e.UI}}),{openSlideDrawer:J})(ga),wa=(a(599),function(e){function t(e){return Object(Ee.a)(this,t),Object(be.a)(this,Object(ge.a)(t).call(this,e))}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"render",value:function(){return this.props.isOpen?o.a.createElement("div",{className:"modal-container"},o.a.createElement("div",{className:"modal-content"},this.props.children)):null}}]),t}(n.Component)),Oa=Object(l.b)((function(e){return{UI:e.UI}}),{closeSlideDrawer:K})(wa),ja=(a(600),function(e){function t(e){return Object(Ee.a)(this,t),Object(be.a)(this,Object(ge.a)(t).call(this,e))}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"render",value:function(){return o.a.createElement(Oa,{isOpen:this.props.isOpen},"child content")}}]),t}(n.Component)),Sa=Object(l.b)((function(e){return{UI:e.UI}}),{closeSlideDrawer:K})(ja),Na=(a(601),1500),Ca=function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).savePomo=function(){var e=a.props.user.profile,t=e.projects,n=e.nickName,o=e.avatar,r={content:"",project:t[0],tag:"",public:!0,dateSeq:B(new Date),nickName:n,avatar:o,type:-1,time:a.state.logTime};a.props.createPomo(r)},a.grantNotificationPermission=function(){"Notification"in window?"denied"===Notification.permission&&"default"!==Notification.permission||Notification.requestPermission().then((function(e){"granted"===e&&new Notification("Awesome! You will start receiving notifications shortly",{icon:"/myFavicon.png"})})):alert("This browser does not support system notifications")},a.showNotification=function(){new Notification("Pomopal",{body:"You completed a session.",icon:"/myFavico.png"})},a.onStart=function(e){e.preventDefault(),a.startAudio.play(),a.setState({on:!0,inputRangeDisabled:!0}),a.props.setPomoTimer({on:!0,startingTime:Date.now()}),a.interval=setInterval((function(){a.state.value<a.state.logTime?a.setState((function(e){return{value:e.value+1}})):(a.stopAudio.play(),a.showNotification(),a.savePomo(),a.setState({on:!1,value:0,showPomoModal:!0}),a.props.setPomoTimer({on:!1}),clearInterval(a.interval))}),1e3)},a.onPause=function(e){e.preventDefault(),a.setState({on:!1},(function(){a.props.setPomoTimer({pauseTimer:a.state.value,logTime:a.state.logTime})})),clearInterval(a.interval)},a.onReset=function(){a.setState({on:!1,value:0,inputRangeDisabled:!1,showPomoModal:!1}),a.props.setPomoTimer({logTime:Na}),clearInterval(a.interval)},a.addTime=function(){var e=a.state.logTime;e+300<=3600&&a.setState({logTime:e+300},(function(){a.props.setPomoTimer({logTime:a.state.logTime})}))},a.minusTime=function(){var e=a.state.logTime;e-300>=300&&a.setState({logTime:e-300},(function(){a.props.setPomoTimer({logTime:a.state.logTime})}))},a.setShowPomoModal=function(e){a.setState({showPomoModal:e})},a.setShowCancelModal=function(e){a.setState({showCancelModal:e})},a.buildDisplayTime=function(){var e=a.state,t=e.logTime-e.value;return o.a.createElement("div",{className:"time-container"},o.a.createElement("div",{className:"time"},o.a.createElement("h1",null," ",H(t)," ")))},a.buildButtonGroup=function(){var e=a.props.user.profile.timer,t=e.on,n=(e.startingTime,e.logTime,e.pauseTimer);return t?o.a.createElement("div",{className:"button-group"},o.a.createElement(ha,{className:"pause",shape:"pill",size:"lg",onClick:a.onPause},o.a.createElement(fa,{icon:"pause"}))):n?o.a.createElement("div",{className:"button-group"},o.a.createElement(ha,{className:"start",shape:"pill",size:"lg",onClick:a.onStart},o.a.createElement(fa,{icon:"play"})),o.a.createElement(ha,{className:"reset",shape:"pill",size:"lg",onClick:a.onReset},o.a.createElement(fa,{icon:"times"}))):o.a.createElement("div",{className:"button-group"},o.a.createElement(ha,{className:"left",shape:"pill",size:"sm",onClick:a.minusTime},o.a.createElement("span",null," - ")),o.a.createElement(ha,{className:"middle",shape:"pill",size:"lg",onClick:a.onStart},o.a.createElement(fa,{icon:"play"})),o.a.createElement(ha,{className:"right",shape:"pill",size:"sm",onClick:a.addTime},o.a.createElement("span",null," + ")))},a.interval=null,a.startAudio=new Audio(Qt.a),a.stopAudio=new Audio(ea.a),a.state={value:0,logTime:Na,on:!1,showPomoModal:!1,showCancelModal:!1},a.showNotification=a.showNotification.bind(Object(Xe.a)(a)),a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.user.profile.timer,a=t.on,n=t.startingTime,o=t.logTime,r=t.pauseTimer;this.grantNotificationPermission(),!a&&r?this.setState({on:!1,value:r,logTime:o}):a&&n&&(this.setState({on:!0,value:Math.floor((Date.now()-n)/1e3),logTime:o}),this.interval=setInterval((function(){e.state.value<e.state.logTime?e.setState((function(e){return{value:e.value+1}})):(e.stopAudio.play(),e.showNotification(),e.setState({on:!1,value:0,showPomoModal:!0,logTime:Na}),e.props.setPomoTimer({on:!1,logTime:Na}),e.savePomo(),clearInterval(e.interval))}),1e3))}},{key:"render",value:function(){var e=this.props.user.profile.projects;return o.a.createElement(ya,null,o.a.createElement("div",{className:"timer-container"},o.a.createElement("div",{className:"project-container"},o.a.createElement(Ea,{displayItem:e[1],items:e})),this.buildDisplayTime(),this.buildButtonGroup()),o.a.createElement(Sa,{isOpen:!1}))}}]),t}(n.Component),Ta=Object(l.b)((function(e){return{user:e.user,UI:e.UI,pomo:e.pomo}}),{logoutUser:P,getPomosToday:z,setPomoTimer:D,removePomoTimer:U,openSlideDrawer:J,createPomo:W})(Ca),ka=a(420),Pa=a.n(ka),Ma=(a(602),function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).onStart=function(){a.startAudio.play(),a.showPomoStartToast(),a.setState({on:!0}),a.props.setStopwatchTimer({on:!0,startingTime:Date.now()}),a.interval=setInterval((function(){a.setState((function(e){return{value:e.value+1}}))}),1e3)},a.onPause=function(){a.setState({on:!1},(function(){a.props.setStopwatchTimer({time:Date.now()-1e3*a.state.value,pauseTimer:a.state.value})})),clearInterval(a.interval)},a.onReset=function(){a.state.value>0&&a.setState({on:!1,value:0},(function(){clearInterval(a.interval),a.props.removeStopwatchTimer()}))},a.onLog=function(){a.state.value>0&&a.setState({on:!1,showPomoModal:!0},(function(){clearInterval(a.interval),a.props.removeStopwatchTimer(),a.setShowPomoModal(!0)}))},a.setShowPomoModal=function(e){a.setState({showPomoModal:e})},a.setShowCancelModal=function(e){a.setState({showCancelModal:e})},a.showCancelModal=function(){a.setShowPomoModal(!1),a.setShowCancelModal(!0)},a.showSuccessToast=function(){la.a.success("Logged Successully, Enjoy!",{position:"top-center"})},a.showPomoStartToast=function(){la.a.loading("Pomodoro Starts, Enjoy!",{position:"top-center"})},a.onSubmitSuccess=function(){a.setState({value:0},a.showSuccessToast)},a.grantNotificationPermission=function(){"Notification"in window?"denied"===Notification.permission&&"default"!==Notification.permission||Notification.requestPermission().then((function(e){"granted"===e&&new Notification("Awesome! You will start receiving notifications shortly",{icon:"/myFavicon.png"})})):alert("This browser does not support system notifications")},a.buildBg=function(){return o.a.createElement("div",{className:"background"},o.a.createElement("img",{src:Pa.a,alt:"Stopwatch"}))},a.buildStopwatch=function(){return o.a.createElement("div",{className:"stopwatch"},H(a.state.value))},a.buildButtonGroup=function(){return o.a.createElement("div",{className:"buttons"},o.a.createElement("span",{onClick:a.state.on?a.onPause:a.onStart},o.a.createElement(Oe.a,{icon:a.state.on?je.u:je.x})),o.a.createElement("span",{onClick:a.onReset},o.a.createElement(Oe.a,{icon:je.F})),o.a.createElement("span",{onClick:a.onLog},o.a.createElement(Oe.a,{icon:je.v})))},a.buildContent=function(){return o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"stopwatch-header"},o.a.createElement("h3",null," Stopwatch ")),o.a.createElement("div",{className:"stopwatch-body"},a.buildBg(),a.buildStopwatch(),a.buildButtonGroup()))},a.interval=null,a.startAudio=new Audio(Qt.a),a.stopAudio=new Audio(ea.a),a.state={showPomoModal:!1,showCancelModal:!1,value:0,on:!1},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.user.profile.stopwatch,a=t.on,n=t.startingTime,o=t.pauseTimer;this.grantNotificationPermission(),!a&&o?this.setState({on:!1,value:o}):a&&n&&(this.setState({on:!0,value:Math.floor((Date.now()-n)/1e3)}),this.interval=setInterval((function(){e.setState((function(e){return{value:e.value+1}}))}),1e3))}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"stopwatch-container"},o.a.createElement(tt,null),o.a.createElement("div",{className:"body-container"},o.a.createElement(nt,null),o.a.createElement(rt,null),this.buildContent()),o.a.createElement(Zt,{show:this.state.showPomoModal,showCancelModal:this.showCancelModal,type:-1,time:this.state.value,onHide:function(){return e.setShowPomoModal(!1)},onSubmitSuccess:this.onSubmitSuccess}),o.a.createElement(Xt,{show:this.state.showCancelModal,onBack:function(){e.setShowCancelModal(!1),e.setShowPomoModal(!0)},onCancel:function(){e.setShowCancelModal(!1),e.setShowPomoModal(!1)}}))}}]),t}(n.Component)),Ia=Object(l.b)((function(e){return{user:e.user}}),{setStopwatchTimer:function(e){var t=e.on,a=e.startingTime,n=e.pauseTimer;return function(e){return e({type:"SET_STOPWATCH_TIMER",payload:{on:t,startingTime:a,pauseTimer:n}})}},removeStopwatchTimer:function(){return function(e){return e({type:"REMOVE_STOPWATCH_TIMER"})}}})(Ma),Ra=(a(603),a(604),a(662)),Aa=a(665),Da=function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).onUpdateMessages=function(e){var t=[];e.forEach((function(e){console.log(e.data()),t.push({userHandle:e.data().userHandle,content:e.data().content,createdAt:e.data().createdAt})})),a.setState({messages:t})},a.ref=kt.firestore().collection("rooms").doc(a.props.roomname).collection("messages"),a.unsubscribe=null,a.state={messages:[],content:""},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(w.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={userHandle:this.props.username,content:this.state.content,roomName:this.props.roomname};this.props.addMessage(t),this.setState({content:""})}},{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.orderBy("createdAt").onSnapshot(this.onUpdateMessages)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"chatroom-container"},this.state.messages.map((function(e){return o.a.createElement("div",{key:e.messageId}," ",e.content," ")})),o.a.createElement("div",{className:"chatroom-input"},o.a.createElement("form",{onSubmit:function(t){e.handleSubmit(t)}},o.a.createElement(Ra.a,{type:"text",name:"content",label:"content",onChange:function(t){e.handleChange(t)},value:this.state.content,fullWidth:!0}),o.a.createElement(Aa.a,{type:"submit",variant:"contained",color:"primary"},"Submit"))))}}]),t}(n.Component),Ua=Object(l.b)((function(e){return{username:e.user.profile.handle}}),(function(e){return{addMessage:function(t){return e(L(t))}}}))(Da),La=(a(605),a(606),function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).openAddProject=function(){a.setState({addProject:!0})},a.closeAddProject=function(){a.setState({addProject:!1})},a.openAddTag=function(){a.setState({addTag:!0})},a.closeAddTag=function(){a.setState({addTag:!1})},a.addNewProject=function(){a.state.newProject.length>0&&a.props.addProject(a.state.newProject)},a.addNewTag=function(){a.state.newTag.length>0&&a.props.addTag(a.state.newTag)},a.handleChange=function(e){a.props.clearSuccess(),a.props.clearErrors(),a.setState(Object(w.a)({},e.target.name,e.target.value))},a.handleMultiChange=function(e){a.props.clearSuccess(),a.props.clearErrors(),a.setState({tag:Array.from(e.target.selectedOptions,(function(e){return e.value}))})},a.handleSubmit=function(e){e.preventDefault();var t={content:a.state.content.length>0?a.state.content:a.props.user.todo,project:a.state.project,tag:a.state.tag};console.log(t),a.props.createPomo(t),a.props.removeTodo(),a.props.onHide()},a.state={content:"",project:"Other",tag:[],addProject:!1,addTag:!1,newProject:"",newTag:""},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"render",value:function(){var e=this,t=this.props.user.profile,a=t.projects,n=t.tags,r=this.props.user.todo,c=this.props.UI,l=c.errors,i=c.success;return o.a.createElement(At.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"pomo-modal"}),o.a.createElement(At.a.Header,{closeButton:!0},o.a.createElement(At.a.Title,{id:"contained-modal-title-vcenter"},"Add to history pomo")),o.a.createElement(At.a.Body,null,o.a.createElement(Ce.a,{onSubmit:function(t){e.handleSubmit(t)}},o.a.createElement(Ce.a.Group,{controlId:"formBasicEmail"},o.a.createElement(Ce.a.Label,null," What did you accomplish? "),o.a.createElement(Ce.a.Control,{type:"text",placeholder:"Enter your task",defaultValue:r,name:"content",onChange:function(t){e.handleChange(t)}})),o.a.createElement(Ce.a.Group,{controlId:"exampleForm.ControlSelect1"},o.a.createElement(Ce.a.Label,null,"Select project"),o.a.createElement(Ce.a.Control.Feedback,{type:"invalid"},l&&l.project),o.a.createElement(Ce.a.Control.Feedback,{type:"valid"},i&&i.project),o.a.createElement(Ce.a.Control,{as:"select",name:"project",onChange:function(t){e.handleChange(t)}},a&&a.map((function(e,t){return o.a.createElement("option",{key:t}," ",e," ")}))),this.state.addProject?o.a.createElement("div",{className:"add-project-wrapper"},o.a.createElement("span",{className:"hidden-btn",onClick:function(){e.addNewProject()}},"+ Create project"),o.a.createElement("input",{type:"text",placeholder:"Enter project name",name:"newProject",onChange:function(t){e.handleChange(t)}}),o.a.createElement("span",{className:"hidden-btn cancel",onClick:function(){return e.closeAddProject()}},"Cancel")):o.a.createElement("div",{className:"add-project-wrapper create"},o.a.createElement("span",{className:"hidden-btn",onClick:function(){return e.openAddProject()}},"Create new project"))),o.a.createElement(Ce.a.Group,{controlId:"exampleForm.ControlSelect2"},o.a.createElement(Ce.a.Control.Feedback,{type:"invalid"},l&&l.tag),o.a.createElement(Ce.a.Control.Feedback,{type:"valid"},i&&i.tag),o.a.createElement(Ce.a.Label,null," Select tag "),o.a.createElement(Ce.a.Control,{as:"select",multiple:!0,name:"tag",onChange:function(t){e.handleMultiChange(t)}},n&&n.map((function(e,t){return o.a.createElement("option",{key:t}," ",e," ")}))),this.state.addTag?o.a.createElement("div",{className:"add-tag-wrapper"},o.a.createElement("span",{className:"hidden-btn",onClick:function(){e.addNewTag()}},"+ Create tag"),o.a.createElement("input",{type:"text",placeholder:"Enter tag name",name:"newTag",onChange:function(t){e.handleChange(t)}}),o.a.createElement("span",{className:"hidden-btn cancel",onClick:function(){return e.closeAddTag()}},"Cancel")):o.a.createElement("div",{className:"add-tag-wrapper create"},o.a.createElement("span",{className:"hidden-btn",onClick:function(){return e.openAddTag()}},"Create new tag"))),o.a.createElement(Te.a,{variant:"primary",type:"submit"},"Submit"))),o.a.createElement(At.a.Footer,null,o.a.createElement(Te.a,{onClick:this.props.onHide}," Cancel "),o.a.createElement(Te.a,{onClick:this.handleSubmit}," Submit ")))}}]),t}(n.Component)),_a=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{createPomo:W,removeTodo:A,addProject:M,clearErrors:V,clearSuccess:Y,addTag:I})(La),xa=a(423),Ga=a.n(xa),Ha=function(e){function t(e){var a;Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).count=function(){a.state.on&&(a.state.sec>0?a.setState((function(e){return{sec:e.sec-1}})):(a.audio.play(),a.setState({on:!1,modalShow:!0,sec:5})))},a.start=function(){a.setState({on:!0}),a.interval=setInterval((function(){a.count()}),1e3)},a.reset=function(){a.setState({sec:5,on:!1}),clearInterval(a.interval)},a.handleStart=function(e){e.preventDefault();var t={roomName:a.props.roomName};u.a.post("/countaddone",t).then((function(e){console.log(e)})).catch((function(e){console.error(e)}))},a.handleReset=function(e){e.preventDefault();var t={roomName:a.props.roomName};u.a.post("/countaddone",t).then((function(e){console.log(e)})).catch((function(e){console.error(e)}))},a.subscribeStart=function(e){e.data().count%2===1?a.start():a.reset()},a.setModalShow=function(e){a.setState({modalShow:e})},a.handleChange=function(e){a.setState(Object(w.a)({},e.target.name,e.target.value))};var n=a.props.roomName;return a.ref=kt.firestore().collection("rooms").doc(n),a.unsubsrcibe=null,a.audio=new Audio(Ga.a),a.state={sec:5,on:!1,modalShow:!1},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.onSnapshot(this.subscribeStart)}},{key:"render",value:function(){var e=this,t=o.a.createElement("div",null,this.state.on?o.a.createElement(Te.a,{variant:"success",onClick:function(t){e.handleReset(t)}},"Reset"):o.a.createElement(Te.a,{variant:"primary",onClick:function(t){e.handleStart(t)}},"Start"),o.a.createElement(Ce.a,{onSubmit:function(){console.log(e.state.time)}},o.a.createElement(Ce.a.Group,{controlId:"exampleForm.ControlSelect1"},o.a.createElement(Ce.a.Label,null,"Set Time"),o.a.createElement(Ce.a.Control,{as:"select",name:"time",value:this.state.time,onChange:function(t){e.handleChange(t)}},o.a.createElement("option",null," 25 "),o.a.createElement("option",null," 45 "),o.a.createElement("option",null," 60 ")))));return o.a.createElement("div",{className:"pomodoro-container"},o.a.createElement(Ae.a,null,o.a.createElement(Lt.a,null,o.a.createElement(Te.a,{id:"leave",onClick:function(){return e.props.onLeave()}},o.a.createElement("span",null,o.a.createElement(Oe.a,{icon:je.A})),"Leave Room"),o.a.createElement(Te.a,{id:"commit",onClick:function(){return e.props.onOpenModal()}},o.a.createElement("span",null,o.a.createElement(Oe.a,{icon:je.v})),"Commit Task")),o.a.createElement("div",{id:"count"}," ",H(this.state.sec)," "),this.props.isOwner&&t),o.a.createElement(_a,{show:!0,onHide:function(){return e.setModalShow(!1)}}))}}]),t}(n.Component),Fa=function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(w.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.onSend(a.state.content,a.props.roomName,a.props.handle),a.props.onHide()},a.state={content:"",errors:{}},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"render",value:function(){var e=this,t=this.state.errors;return o.a.createElement(At.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),o.a.createElement(At.a.Header,null,o.a.createElement(At.a.Title,{id:"contained-modal-title-vcenter"},"What to focus now?")),o.a.createElement(At.a.Body,null,o.a.createElement(Ce.a,null,o.a.createElement(Ce.a.Group,{controlId:"formBasicEmail"},o.a.createElement(Ce.a.Control,{type:"text",placeholder:"Enter what to focus on",name:"content",onChange:function(t){e.handleChange(t)},isInvalid:!!t.content}),o.a.createElement(Ce.a.Control.Feedback,{type:"invalid"},t.content)))),o.a.createElement(At.a.Footer,null,o.a.createElement(Te.a,{onClick:this.handleSubmit}," Send ")))}}]),t}(n.Component),Ba=function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).setModalShow=function(e){a.setState({modalShow:e})},a.addTodo=function(e,t,n){a.props.addTodo(e,t,n)},a.onLeave=function(){a.props.leaveRoom(a.props.history)},a.state={modalShow:!0,isOwner:!1},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"render",value:function(){var e=this,t=this.props.match.params.roomname,a=this.props.user.profile,n=a.inRoom,r=a.ownsRoom,c=null!==r&&n===r;return o.a.createElement("div",{className:"room-container"},o.a.createElement(tt,null),o.a.createElement(Ae.a,null,o.a.createElement(Se.a,null,o.a.createElement(Ne.a,{md:4},o.a.createElement(Ha,{roomName:t,isOwner:c,onLeave:function(){return e.onLeave()},onOpenModal:function(){return e.setModalShow(!0)}})),o.a.createElement(Ne.a,{md:8},o.a.createElement(Ua,{roomname:t})))),o.a.createElement(Fa,{show:!1,onSend:function(t,a,n){return e.addTodo(t,a,n)},onHide:function(){return e.setModalShow(!1)},roomName:t,handle:this.props.user.profile.handle}))}}]),t}(n.Component),Wa=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{leaveRoom:x,addTodo:R})(Ba),za=a(659),Ya=a(660),Va=function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(w.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.onCreate(a.state.content),a.props.onHide()},a.state={content:"",errors:{}},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"render",value:function(){var e=this,t=this.props.UI.errors,a=this.props,n=a.title,r=a.placeholder;return o.a.createElement(At.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),o.a.createElement(At.a.Header,{closeButton:!0},o.a.createElement(At.a.Title,{id:"contained-modal-title-vcenter"},n)),o.a.createElement(At.a.Body,null,o.a.createElement(Ce.a,null,o.a.createElement(Ce.a.Group,null,o.a.createElement(Ce.a.Control,{type:"text",placeholder:r,name:"content",onChange:function(t){e.handleChange(t)},isInvalid:t&&!!t.project}),o.a.createElement(Ce.a.Control.Feedback,{type:"invalid"},t&&t.project)))),o.a.createElement(At.a.Footer,null,o.a.createElement(Te.a,{onClick:this.props.onHide},"Close"),o.a.createElement(Te.a,{onClick:this.handleSubmit}," Create ")))}}]),t}(n.Component),Ja=Object(l.b)((function(e){return{UI:e.UI}}),null)(Va),Ka=(a(607),function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).setModalShow=function(e){a.setState({modalShow:e})},a.addProject=function(e){a.props.addProject(e)},a.removeProject=function(e){a.props.removeProject(e.trim())},a.clearErrors=function(){a.props.clearErrors()},a.buildAlert=function(){var e=a.props.UI.errors;return e&&o.a.createElement(za.a,{variant:"danger",onClose:function(){return a.clearErrors()},dismissible:!0},o.a.createElement("p",null,e.project))},a.buildProjectTable=function(){var e=a.props.user.profile.projects;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"project-header"},o.a.createElement("h3",null," Projects ")),o.a.createElement("div",null,o.a.createElement(Te.a,{variant:"primary",className:"create-button",onClick:function(){return a.setModalShow(!0)}},"+ Create New Project")),o.a.createElement("div",{className:"project-table"},o.a.createElement(Ya.a,null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{xs:"3"}," Project Name "),o.a.createElement("th",{xs:"4"}," Delete "))),o.a.createElement("tbody",null,e&&e.map((function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",null,o.a.createElement("p",null," ",e," ")),o.a.createElement("td",null,0===t?null:o.a.createElement(Te.a,{className:"delete-button",onClick:function(){a.removeProject(e)}},o.a.createElement("span",null,o.a.createElement(Oe.a,{icon:je.G})))))}))))),o.a.createElement(Ja,{show:a.state.modalShow,onHide:function(){return a.setModalShow(!1)},onCreate:function(e){return a.addProject(e)},title:"Create new project",placeholder:"Enter project name"}))},a.buildContent=function(){return o.a.createElement("div",{className:"content"},a.buildAlert(),a.buildProjectTable())},a.state={modalShow:!1},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"project-container"},o.a.createElement(tt,null),o.a.createElement("div",{className:"body-container"},o.a.createElement(nt,null),o.a.createElement(rt,null),this.buildContent()))}}]),t}(n.Component)),Za=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{addProject:M,removeProject:function(e){return function(t){var a={project:e};u.a.post("/project/remove",a).then((function(e){t({type:"REMOVE_PROJECT",payload:a})})).catch((function(e){return console.log(e)}))}},clearErrors:V})(Ka),Xa=(a(608),function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).setModalShow=function(e){a.setState({modalShow:e})},a.addTag=function(e){a.props.addTag(e)},a.removeTag=function(e){a.props.removeTag(e.trim())},a.clearErrors=function(){a.props.clearErrors()},a.buildAlert=function(){var e=a.props.UI.errors;return e&&o.a.createElement(za.a,{variant:"danger",onClose:function(){return a.clearErrors()},dismissible:!0},o.a.createElement("p",null,e.tag))},a.buildTagTable=function(){var e=a.props.user.profile.tags;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"tag-header"},o.a.createElement("h3",null," Tags ")),o.a.createElement("div",null,o.a.createElement(Te.a,{variant:"primary",className:"create-button",onClick:function(){return a.setModalShow(!0)}},"+ Add New Tag")),o.a.createElement("div",{className:"tag-table"},o.a.createElement(Ya.a,null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{xs:"3"}," Tag Name "),o.a.createElement("th",{xs:"4"}," Delete "))),o.a.createElement("tbody",null,e&&e.map((function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",null,o.a.createElement("p",null," ",e," ")),o.a.createElement("td",null,o.a.createElement(Te.a,{className:"delete-button",onClick:function(){a.removeTag(e)}},o.a.createElement("span",null,o.a.createElement(Oe.a,{icon:je.G})))))}))))),o.a.createElement(Ja,{show:a.state.modalShow,onHide:function(){return a.setModalShow(!1)},onCreate:function(e){return a.addTag(e)},title:"Create new tag",placeholder:"Enter tag name"}))},a.buildContent=function(){return o.a.createElement("div",{className:"content"},a.buildAlert(),a.buildTagTable())},a.state={modalShow:!1},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"tag-container"},o.a.createElement(tt,null),o.a.createElement("div",{className:"body-container"},o.a.createElement(nt,null),o.a.createElement(rt,null),this.buildContent()))}}]),t}(n.Component)),qa=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{addTag:I,removeTag:function(e){return function(t){var a={tag:e};u.a.post("/tag/remove",a).then((function(e){t({type:"REMOVE_TAG",payload:a})})).catch((function(e){return console.log(e)}))}},clearErrors:V})(Xa),Qa=a(424),$a=a.n(Qa),en=(a(609),function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).onUpdatePomos=function(e){a.setState({fetchingPomos:!0},(function(){var t=[];e.forEach((function(e){e.data().public&&t.push(e.data())})),a.setState({pomos:t,fetchingPomos:!1})}))},a.buildContent=function(){return o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"title"},o.a.createElement("h3",null," Home ")),a.buildPomoList())},a.ref=kt.firestore().collection("pomos"),a.unsubscribe=null,a.state={fetchingPomos:!0,pomos:[]},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.orderBy("createdAt","desc").onSnapshot(this.onUpdatePomos)}},{key:"buildPomoList",value:function(){var e=this,t=this.state,a=t.pomos;return t.fetchingPomos?o.a.createElement("div",{className:"pomo-loader"},o.a.createElement(Ze.a,{color:"#ccc",height:15,width:5,loading:!0})):o.a.createElement("div",{className:"pomo-list"},a.map((function(t){return e.buildPomo(t)})))}},{key:"buildPomo",value:function(e){var t=e.avatar,a=e.nickName,n=e.content,r=e.handle,c=e.createdAt;return o.a.createElement("div",{className:"pomo",key:r+c},o.a.createElement("div",{className:"left"},t?o.a.createElement("img",{src:t,alt:"avatar"}):o.a.createElement("img",{src:$e.a,alt:"avatar"})),o.a.createElement("div",{className:"right"},o.a.createElement("div",{className:"name"},a),o.a.createElement("div",{className:"message"},o.a.createElement("span",{role:"img","aria-label":"check"},o.a.createElement("img",{src:$a.a,alt:"avatar"})),n)))}},{key:"render",value:function(){return o.a.createElement("div",{className:"home-container"},o.a.createElement(tt,null),o.a.createElement("div",{className:"body-container"},o.a.createElement(nt,null),o.a.createElement(rt,null),this.buildContent()))}}]),t}(n.Component)),tn=Object(l.b)((function(e){return{user:e.user,UI:e.UI,pomo:e.pomo}}),{logoutUser:P,getWeeklyPomo:function(){return function(e){u.a.get("/pomo/week").then((function(t){console.log(t.data.data),e({type:"GET_WEEKLY_POMO",payload:t.data})})).catch((function(e){console.error(e)}))}}})(en),an=(a(610),a(425)),nn=a.n(an),on=function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).state={content:""},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"render",value:function(){var e=this.props.roomName;return o.a.createElement("div",{className:"inroom-container"},o.a.createElement("h3",null," Room: ",e," "),o.a.createElement("img",{src:nn.a,alt:"co-working"}),o.a.createElement(we.a,{to:"/room/".concat(e)},"Enter"))}}]),t}(n.Component),rn=(a(611),a(426)),cn=a.n(rn),ln=function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(w.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){if(e.preventDefault(),0===a.state.roomName.length){a.setState({errors:{roomName:"It must not be empty."}})}else{var t={roomName:a.state.roomName,nickName:a.props.user.profile.nickName,avatar:a.props.user.profile.avatar};a.props.joinRoom(t,a.props.history)}},a.state={roomName:""},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"joinroom-container"},o.a.createElement("h3",null," Join Room "),o.a.createElement("img",{src:cn.a,alt:"join-room"}),o.a.createElement("div",{className:"joinroom-form"},o.a.createElement("input",{type:"text",placeholder:"Enter room name",name:"roomName",onChange:function(t){e.handleChange(t)}}),o.a.createElement("span",{onClick:function(t){e.handleSubmit(t)}},o.a.createElement(Oe.a,{icon:je.b}))))}}]),t}(n.Component),sn=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{joinRoom:_})(ln),un=(a(612),a(427)),mn=a.n(un),dn=function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(w.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){if(e.preventDefault(),0===a.state.roomName.length){a.setState({errors:{roomName:"It must not be empty."}})}else{var t={roomName:a.state.roomName,nickName:a.props.user.profile.nickName,avatar:a.props.user.profile.avatar};a.props.createRoom(t,a.props.history)}},a.state={roomName:"",errors:{}},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"createroom-container"},o.a.createElement("h3",null," Create Room "),o.a.createElement("img",{src:mn.a,alt:"create-room"}),o.a.createElement("div",{className:"createroom-form"},o.a.createElement("input",{type:"text",placeholder:"Enter room name",name:"roomName",onChange:function(t){e.handleChange(t)}}),o.a.createElement("span",{onClick:function(t){e.handleSubmit(t)}},o.a.createElement(Oe.a,{icon:je.y}))))}}]),t}(n.Component),pn=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{createRoom:function(e,t){return function(a){console.log(e),a({type:S}),u.a.post("/room",e).then((function(n){a({type:"ADD_INROOM_OWNSROOM",payload:e.roomName}),a({type:N}),t.push("/room/".concat(e.roomName))})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}}})(dn),hn=(a(613),function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).closeErrors=function(){a.setState({show:!1,errors:{}}),a.props.clearErrors()},a._onJoinRoom=function(e,t){null!==e&&a.props.joinRoom(e,t)},a._removeOwnsRoom=function(e,t){a.props.deleteRoom(e,t)},a.buildContent=function(){var e=a.props.history,t=a.props.user.profile,n=t.inRoom,r=t.ownsRoom,c=a.state.errors;return o.a.createElement("div",{className:"content"},o.a.createElement(Ae.a,null,a.state.show&&o.a.createElement(za.a,{variant:"danger",onClose:function(){return a.closeErrors()},dismissible:!0},o.a.createElement("p",null,c.fail)),o.a.createElement("div",{className:"door-header"},o.a.createElement("h3",null," Room ")),o.a.createElement(Se.a,null,null!==n?o.a.createElement(Ne.a,null,o.a.createElement(on,{roomName:n})):o.a.createElement(Ne.a,null,o.a.createElement(sn,{history:e})),o.a.createElement(Ne.a,null,o.a.createElement(pn,{history:e}))),r&&o.a.createElement("div",{className:"owns-room-table"},o.a.createElement(Ya.a,null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{xs:"3"}," Your Room "))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null," ",r," "),o.a.createElement("td",null,o.a.createElement(Te.a,{className:"delete-button",onClick:function(){return a._removeOwnsRoom(e,r)}},o.a.createElement("span",null,o.a.createElement(Oe.a,{icon:je.G}))))))))))},a.state={show:!1,errors:{}},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors,show:!0})}},{key:"render",value:function(){return o.a.createElement("div",{className:"door-container"},o.a.createElement(tt,null),o.a.createElement("div",{className:"body-container"},o.a.createElement(nt,null),o.a.createElement(rt,null),this.buildContent(),o.a.createElement(Ut,{show:this.props.UI.loading})))}}]),t}(n.Component)),fn=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),(function(e){return{joinRoom:function(t,a){return e(_(t,a))},clearErrors:function(){return e(V())},deleteRoom:function(t,a){return e(G(t,a))}}}))(hn),En=(a(614),function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).closeSuccess=function(){a.setState({show:!1,success:null}),a.props.clearSuccess()},a.handleChange=function(e){a.setState(Object(w.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){if(e.preventDefault(),0===a.state.nickName.length){a.setState({errors:{nickName:"It must not be empty."}})}else a.props.updateNickName(a.state.nickName),a.setState({errors:{}})},a.handleImageChange=function(e){var t=e.target.files[0],n=new FormData;n.append("image",t,t.name),a.props.uploadImage(n)},a.handleEditPicture=function(){document.getElementById("imageInput").click()},a.buildContent=function(){var e=a.props.user.profile,t=e.email,n=e.handle,r=e.avatar,c=e.nickName,l=a.props.UI,i=l.loading,s=l.success,u=a.state.errors;return o.a.createElement("div",{className:"content"},a.state.show&&o.a.createElement(za.a,{variant:"success",onClose:function(){return a.closeSuccess()},dismissible:!0},o.a.createElement("p",null,s)),o.a.createElement("h3",null," My Account "),o.a.createElement("div",{className:"account-body"},o.a.createElement("div",{className:"account-avatar"},o.a.createElement("img",{src:r,alt:"avatar"}),o.a.createElement("input",{type:"file",id:"imageInput",hidden:"hidden",onChange:a.handleImageChange}),o.a.createElement("span",{onClick:function(){return a.handleEditPicture()}},"Edit")),o.a.createElement(Ce.a,{onSubmit:function(e){a.handleSubmit(e)}},o.a.createElement(Ce.a.Group,{as:Se.a,controlId:"formHorizontalEmail"},o.a.createElement(Ce.a.Label,{column:!0,sm:2},"Email"),o.a.createElement(Ne.a,{sm:10},o.a.createElement(Ce.a.Control,{type:"email",placeholder:t,disabled:!0}))),o.a.createElement(Ce.a.Group,{as:Se.a,controlId:"formHorizontalPassword"},o.a.createElement(Ce.a.Label,{column:!0,sm:2},"Username"),o.a.createElement(Ne.a,{sm:10},o.a.createElement(Ce.a.Control,{type:"text",placeholder:n,disabled:!0}))),o.a.createElement(Ce.a.Group,{as:Se.a,controlId:"formHorizontalPassword"},o.a.createElement(Ce.a.Label,{column:!0,sm:2},"Nickname"),o.a.createElement(Ne.a,{sm:10},o.a.createElement(Ce.a.Control,{type:"text",name:"nickName",onChange:function(e){a.handleChange(e)},placeholder:c,isInvalid:!!u.nickName,value:a.state.nickName||""}),o.a.createElement(Ce.a.Control.Feedback,{type:"invalid"},u.nickName))),o.a.createElement(Ce.a.Group,{as:Se.a},o.a.createElement(Ne.a,{sm:{span:10,offset:2}},o.a.createElement(Te.a,{variant:"success",type:"submit"},i?o.a.createElement(Oe.a,{className:"icon",icon:je.C,spin:!0}):o.a.createElement(Oe.a,{className:"icon",icon:je.k}),o.a.createElement("span",null," Save ")))))))},console.log(e),a.state={nickName:e.user.profile.nickName||"",show:!1,errors:{}},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.success&&this.setState({success:e.UI.success,show:!0})}},{key:"render",value:function(){return o.a.createElement("div",{className:"account-container"},o.a.createElement(tt,null),o.a.createElement("div",{className:"body-container"},o.a.createElement(nt,null),o.a.createElement(rt,null),this.buildContent()))}}]),t}(n.Component)),vn=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{updateNickName:function(e){return function(t){t({type:S}),u.a.post("/user/nickname",{nickName:e}).then((function(a){t({type:"SET_NICKNAME",payload:e}),t({type:"SET_SUCCESS",payload:a.data.success})})).catch((function(e){return console.log(e)}))}},clearSuccess:Y,uploadImage:function(e){return function(t){u.a.post("/user/avatar",e).then((function(){t(T())})).catch((function(e){return console.log(e)}))}}})(En),bn=(a(615),function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).closeSuccess=function(){a.setState({show:!1,success:null}),a.props.clearSuccess()},a.handleChange=function(e){a.setState(Object(w.a)({},e.target.name,e.target.value))},a.resetState=function(){a.setState({password:"",newPassword:""})},a.handleSubmit=function(e){if(e.preventDefault(),0===a.state.password.length){a.setState({errors:{password:"It must not be empty."}})}else if(0===a.state.newPassword.length){a.setState({errors:{newPassword:"It must not be empty."}})}else if(a.state.newPassword.length<6){a.setState({errors:{newPassword:"Must be with at least 6 characters."}})}else{var t={password:a.state.password,newPassword:a.state.newPassword};a.props.updatePassword(t,a.resetState)}},a.buildContent=function(){var e=a.state.errors,t=a.props.UI,n=t.loading,r=t.success;return o.a.createElement("div",{className:"content"},a.state.show&&o.a.createElement(za.a,{variant:"success",onClose:function(){return a.closeSuccess()},dismissible:!0},o.a.createElement("p",null,r)),o.a.createElement("h3",null," Password "),o.a.createElement("div",{className:"password-body"},o.a.createElement(Ce.a,{onSubmit:function(e){a.handleSubmit(e)}},o.a.createElement(Ce.a.Group,{as:Se.a,controlId:"formHorizontalEmail"},o.a.createElement(Ce.a.Label,{column:!0,sm:3},"Old Password"),o.a.createElement(Ne.a,{sm:9},o.a.createElement(Ce.a.Control,{type:"password",placeholder:"Your Old Password",name:"password",onChange:a.handleChange,isInvalid:!!e.password,value:a.state.password}),o.a.createElement(Ce.a.Control.Feedback,{type:"invalid"},e.password))),o.a.createElement(Ce.a.Group,{as:Se.a,controlId:"formHorizontalPassword"},o.a.createElement(Ce.a.Label,{column:!0,sm:3},"New Password"),o.a.createElement(Ne.a,{sm:9},o.a.createElement(Ce.a.Control,{type:"password",placeholder:"Your New Password",name:"newPassword",onChange:a.handleChange,isInvalid:!!e.newPassword,value:a.state.newPassword}),o.a.createElement(Ce.a.Control.Feedback,{type:"invalid"},e.newPassword))),o.a.createElement(Ce.a.Group,{as:Se.a},o.a.createElement(Ne.a,{sm:{span:10,offset:2}},o.a.createElement(Te.a,{variant:"success",type:"submit"},n?o.a.createElement(Oe.a,{className:"icon",icon:je.C,spin:!0}):o.a.createElement(Oe.a,{className:"icon",icon:je.k}),o.a.createElement("span",null," Save ")))))))},a.state={password:"",newPassword:"",errors:{},show:!1},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors}),e.UI.success&&this.setState({success:e.UI.success,show:!0})}},{key:"render",value:function(){return o.a.createElement("div",{className:"password-container"},o.a.createElement(tt,null),o.a.createElement("div",{className:"body-container"},o.a.createElement(nt,null),o.a.createElement(rt,null),this.buildContent()))}}]),t}(n.Component)),gn=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{updatePassword:function(e,t){return function(a){a({type:S}),u.a.post("/user/password",e).then((function(e){a({type:"SET_SUCCESS",payload:e.data.success}),t()})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data}),t()}))}},clearSuccess:Y})(bn),yn=(a(616),function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.onSure(a.props.ownsRoom)},a.handleClose=function(){return a.props.onHide()},a.state={errors:{}},a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"render",value:function(){return o.a.createElement(At.a,Object.assign({backdrop:"static"},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),o.a.createElement(At.a.Header,null,o.a.createElement(At.a.Title,{id:"contained-modal-title-vcenter"},"Hi, there")),o.a.createElement(At.a.Body,null,'You currently own room "',this.props.ownsRoom,'", would you like to delete it and start matching?'),o.a.createElement(At.a.Footer,null,o.a.createElement(we.a,{to:"/room"},o.a.createElement(Te.a,{id:"close",variant:"secondary"},"Close")),o.a.createElement(Te.a,{id:"modalButton",onClick:this.handleSubmit}," Sure ")))}}]),t}(n.Component)),wn=a(428),On=a.n(wn),jn=a(429),Sn=a.n(jn),Nn=a(430),Cn=a.n(Nn),Tn=(a(617),function(e){function t(e){var a;return Object(Ee.a)(this,t),(a=Object(be.a)(this,Object(ge.a)(t).call(this,e))).onUpdatePairs=function(e){var t=[];e.forEach((function(e){t.push({handle:e.data().handle,room:e.data().room})})),a.setState({pairs:t})},a.handleClick=function(){a.props.startMatching()},a.handleGoBack=function(){a.props.history.goBack()},a.handleJoinRoom=function(){a.props.joinMatchedRoom(a.state.roomName,a.props.history)},a.setModalShow=function(e){a.setState({modalShow:e})},a.deleteOwnsRoom=function(e){a.props.deleteRoomNoRedirect(e)},a.buildGoBack=function(){return o.a.createElement("div",{className:"back-container"},o.a.createElement(Ae.a,null,o.a.createElement("div",{className:"back-button",onClick:a.handleGoBack},o.a.createElement("span",null,o.a.createElement(Oe.a,{icon:je.c})))))},a.buildContent=function(){var e=a.state.inPairs,t=a.props,n=t.matching,r=t.ownsRoom,c=r&&r.length>0,l=o.a.createElement("div",{className:"not-ready-container"},n?o.a.createElement("div",{className:"waiting-container"},o.a.createElement("img",{src:Sn.a,alt:"loading"}),o.a.createElement("p",null,"Pomopal is working hard to connect you with another sould. If you have waited for long time, you can also try to create a new room and invite your friend."),o.a.createElement(Te.a,{variant:"info"},"Matching...")):o.a.createElement("div",{className:"matching-container"},o.a.createElement("img",{src:On.a,alt:"connecting"}),o.a.createElement("p",null,"Pomopal will connect you with another user who wants to start a pomodoro at this moment..."),o.a.createElement("div",null,o.a.createElement(Te.a,{variant:"info",onClick:function(){return a.handleClick()}},"Match"))));return o.a.createElement("div",{className:"content"},a.buildGoBack(),e?o.a.createElement("div",{className:"joining-container"},o.a.createElement("img",{src:Cn.a,alt:"joining"}),o.a.createElement("p",null,"We found a good pal for you, click button to join room."),o.a.createElement("div",null,o.a.createElement(Te.a,{variant:"info",onClick:function(){return a.handleJoinRoom()}},"Join Room"))):l,o.a.createElement(yn,{show:c,ownsRoom:r,onSure:function(e){return a.deleteOwnsRoom(e)}}),o.a.createElement(Ut,{show:a.props.UI.loading}))},a.ref=kt.firestore().collection("ready"),a.unsubscribe=null,a.state={errors:{},pairs:[],inPairs:!1,roomName:"",modalShow:!0},a.curHandle=e.username,a.onUpdatePairs=a.onUpdatePairs.bind(Object(Xe.a)(a)),a}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.onSnapshot(this.onUpdatePairs)}},{key:"componentDidUpdate",value:function(e,t){if(!t.inPairs&&this.props.username)for(var a=0,n=this.state.pairs.length;a<n;a++)this.state.pairs[a].handle===this.props.username&&this.setState({inPairs:!0,roomName:this.state.pairs[a].room})}},{key:"render",value:function(){return o.a.createElement("div",{className:"match-container"},o.a.createElement(tt,null),o.a.createElement("div",{className:"body-container"},o.a.createElement(nt,null),o.a.createElement(rt,null),this.buildContent()))}}]),t}(n.Component)),kn=Object(l.b)((function(e){return{user:e.user,username:e.user.profile.handle,matching:e.user.profile.matching,ownsRoom:e.user.profile.ownsRoom,UI:e.UI}}),{startMatching:function(){return function(e){e({type:S}),u.a.get("/match").then((function(t){e({type:"START_MATCHING"}),e({type:N})})).catch((function(e){console.error(e)}))}},joinMatchedRoom:function(e,t){return function(a){a({type:S}),u.a.post("/joinmatch",{roomName:e}).then((function(n){console.log(n.data),null!==n.data.success&&(a({type:N}),t.push("/room/".concat(e)))})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}},deleteRoomNoRedirect:function(e){return function(t){t({type:S}),u.a.post("/room/delete",{roomName:e}).then((function(e){null!==e.data.success&&(t({type:"REMOVE_INROOM_OWNSROOM"}),t({type:N}))})).catch((function(e){console.log(e)}))}}})(Tn),Pn=(a(618),a(431)),Mn=a.n(Pn),In=function(e){function t(){return Object(Ee.a)(this,t),Object(be.a)(this,Object(ge.a)(t).apply(this,arguments))}return Object(ye.a)(t,e),Object(ve.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(Se.a,{className:"notfound-mainbody"},o.a.createElement(Ne.a,{className:"left-content",lg:"6"},o.a.createElement("p",null,"404 page"),o.a.createElement("p",null,"OOPS, Page not found!"),o.a.createElement("button",{className:"btn-primary"},o.a.createElement(we.a,{to:"/dashboard"},"Go back to Dashboard "))),o.a.createElement(Ne.a,{lg:"6"},o.a.createElement("img",{className:"notfound-img",src:Mn.a,alt:"notFound"}))))}}]),t}(o.a.Component),Rn=function(e){var t=function(t){function a(){return Object(Ee.a)(this,a),Object(be.a)(this,Object(ge.a)(a).apply(this,arguments))}return Object(ye.a)(a,t),Object(ve.a)(a,[{key:"componentDidMount",value:function(){this._checkAndRedirect()}},{key:"componentDidUpdate",value:function(){this._checkAndRedirect()}},{key:"_checkAndRedirect",value:function(){this.props.authenticated||this.props.redirect()}},{key:"render",value:function(){return o.a.createElement("div",null,this.props.authenticated?o.a.createElement(e,this.props):null)}}]),a}(o.a.Component);return Object(l.b)((function(e){return{authenticated:e.user.authenticated}}),(function(e){return{redirect:function(){window.location.href="/login"}}}))(t)},An=a(75),Dn=Object(An.a)(),Un=a(432);u.a.defaults.baseURL="https://us-central1-pomopal-dev.cloudfunctions.net/api";var Ln=localStorage.FBIdToken;Ln&&(1e3*d()(Ln).exp+864e5<Date.now()?(he.dispatch(P()),localStorage.removeItem("FBIdToken"),window.location.href="/login"):(he.dispatch({type:"SET_AUTHENTICATED"}),u.a.defaults.headers.common.Authorization=Ln,he.dispatch(T())));c.a.render(o.a.createElement(l.a,{store:he},o.a.createElement(Un.a,{loading:null,persistor:fe},o.a.createElement(i.c,{history:Dn},o.a.createElement(i.d,null,o.a.createElement(i.b,{exact:!0,path:"/",component:Ve}),o.a.createElement(i.b,{exact:!0,path:"/signup",component:Ie}),o.a.createElement(i.b,{exact:!0,path:"/login",component:Tt}),o.a.createElement(i.b,{exact:!0,path:"/home",component:tn}),o.a.createElement(i.b,{exact:!0,path:"/timer",component:Ta}),o.a.createElement(i.b,{exact:!0,path:"/timerold",component:ma}),o.a.createElement(i.b,{exact:!0,path:"/stopwatch",component:Ia}),o.a.createElement(i.b,{exact:!0,path:"/dashboard/:past",component:Rn(Nt)}),o.a.createElement(i.b,{exact:!0,path:"/account",component:Rn(vn)}),o.a.createElement(i.b,{exact:!0,path:"/password",component:Rn(gn)}),o.a.createElement(i.b,{exact:!0,path:"/room",component:Rn(fn)}),o.a.createElement(i.b,{exact:!0,path:"/room/:roomname",component:Rn(oa)}),o.a.createElement(i.b,{exact:!0,path:"/test/:roomname",component:Wa}),o.a.createElement(i.b,{exact:!0,path:"/project",component:Rn(Za)}),o.a.createElement(i.b,{exact:!0,path:"/match",component:Rn(kn)}),o.a.createElement(i.b,{exact:!0,path:"/tag",component:Rn(qa)}),o.a.createElement(i.b,{path:"/404",component:In}),o.a.createElement(i.a,{to:"/404"}))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},97:function(e,t,a){e.exports=a.p+"static/media/avatar.3a88b763.svg"}},[[451,1,2]]]);
//# sourceMappingURL=main.547474e8.chunk.js.map