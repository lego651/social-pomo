(window["webpackJsonpsocial-pomo"]=window["webpackJsonpsocial-pomo"]||[]).push([[0],{138:function(e,t,a){e.exports=a.p+"static/media/startup.cca77402.svg"},139:function(e,t,a){e.exports=a.p+"static/media/tab1.f9462482.jpg"},140:function(e,t,a){e.exports=a.p+"static/media/tab2.baeff064.jpg"},141:function(e,t,a){e.exports=a.p+"static/media/tab3.87fffc9d.jpg"},142:function(e,t,a){e.exports=a.p+"static/media/tab4.77c2cfb8.jpg"},149:function(e,t,a){e.exports=a.p+"static/media/avatar-pomo.1e7f00ab.png"},150:function(e,t,a){e.exports=a.p+"static/media/pomoStartSound.4d39970c.mp3"},151:function(e,t,a){e.exports=a.p+"static/media/pomoStopSound.04c86b8a.mp3"},154:function(e,t,a){e.exports=a.p+"static/media/alert.7285bcc5.mp3"},155:function(e,t,a){e.exports=a.p+"static/media/co-working.0743e540.svg"},156:function(e,t,a){e.exports=a.p+"static/media/join-room.0bf66e13.svg"},157:function(e,t,a){e.exports=a.p+"static/media/create-room.e87cff51.svg"},158:function(e,t,a){e.exports=a.p+"static/media/connecting.15afe198.svg"},159:function(e,t,a){e.exports=a.p+"static/media/loading.0d0345f6.gif"},160:function(e,t,a){e.exports=a.p+"static/media/joining.eadc9097.svg"},161:function(e,t,a){e.exports=a.p+"static/media/not_found.74f870d4.svg"},169:function(e,t,a){e.exports=a(268)},197:function(e,t,a){},204:function(e,t,a){},206:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){},222:function(e,t,a){},224:function(e,t,a){},228:function(e,t,a){},235:function(e,t,a){},244:function(e,t,a){},245:function(e,t,a){},246:function(e,t,a){},247:function(e,t,a){},249:function(e,t,a){},250:function(e,t,a){},251:function(e,t,a){},252:function(e,t,a){},253:function(e,t,a){},254:function(e,t,a){},255:function(e,t,a){},256:function(e,t,a){},257:function(e,t,a){},258:function(e,t,a){},259:function(e,t,a){},260:function(e,t,a){},261:function(e,t,a){},262:function(e,t,a){},263:function(e,t,a){},264:function(e,t,a){},265:function(e,t,a){},266:function(e,t,a){},267:function(e,t,a){},268:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),c=a.n(o),l=a(15),s=a(56),i=a(19),m=a.n(i),u=(a(194),a(132)),d=a.n(u);a(197),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var p=a(40),h=a(133),f=a(103),E=a(134),v=a.n(E),b=a(135),g=a.n(b),y=a(104),O=a(20),j=a(49),w=a.n(j),N="LOADING_UI",S="CLEAR_ERRORS";a(200);var C=function(e){var t="Bearer ".concat(e);localStorage.setItem("FBIdToken",t),m.a.defaults.headers.common.Authorization=t},k=function(){return function(e){console.log("getUserData is called..."),w.a.auth().onAuthStateChanged((function(e){e&&e.getIdToken(!0).then((function(e){console.log("refreshToken is called..."),console.log(e)})).catch((function(e){console.log(e)}))})),m.a.get("/user").then((function(t){e({type:"SET_USER",payload:t.data}),e({type:S})})).catch((function(e){localStorage.removeItem("FBIdToken"),window.location.href="/login",console.log(e)}))}},T=function(e){return function(t){e.push("/home"),m.a.get("/user").then((function(e){t({type:"SET_USER",payload:e.data})})).catch((function(e){return console.log(e)}))}},P=function(){return function(e){localStorage.removeItem("FBIdToken"),delete m.a.defaults.headers.common.Authorization,e({type:"SET_UNAUTHENTICATED"}),window.location.href="/login"}},I=function(e){return function(t){t({type:S});var a={project:e};m.a.post("/project",a).then((function(e){t({type:"ADD_PROJECT",payload:a}),t({type:"SET_SUCCESS",payload:{project:"New project created."}})})).catch((function(e){console.log(e),t({type:"SET_ERRORS",payload:e.response.data})}))}},R=function(e){return function(t){t({type:S});var a={tag:e};m.a.post("/tag",a).then((function(e){t({type:"ADD_TAG",payload:a}),t({type:"SET_SUCCESS",payload:{tag:"New tag created."}})})).catch((function(e){t({type:"SET_ERRORS",payload:e.response.data})}))}},M=function(e,t,a,n,r){return function(t){var n={content:"".concat(a," will focus on: ").concat(e),userHandle:"Pomo",nickName:"Pomo",avatar:null,roomName:r};m.a.post("/message",n).then((function(a){t({type:"SET_TODO",payload:e})})).catch((function(e){return console.log(e)}))}},U=function(){return function(e){return e({type:"REMOVE_TODO"})}},A=function(e){return function(t){t({type:"LOADING_MESSAGE"}),m.a.post("/message",e).then((function(e){t({type:"STOP_LOADING_MESSAGE"})})).catch((function(e){}))}},D=function(e,t){var a=e.roomName,n=e.nickName,r=e.avatar;return function(e){e({type:N}),m.a.post("/joinroom",{roomName:a,nickName:n,avatar:r}).then((function(n){null!==n.data.success&&(e({type:"ADD_INROOM",payload:a}),e({type:S}),t.push("/room/".concat(a)))})).catch((function(t){e({type:"SET_ERRORS",payload:t.response.data})}))}},x=function(e,t){var a=t.roomName,n=t.avatar,r=t.nickName;return function(t){t({type:N}),m.a.post("/leaveroom",{roomName:a,avatar:n,nickName:r}).then((function(a){null!==a.data.success&&(t({type:"REMOVE_INROOM"}),t({type:S}),e.push("/room"))})).catch((function(e){console.log(e)}))}},_=function(e,t){return function(a){a({type:N}),m.a.post("/room/delete",{roomName:t}).then((function(t){null!==t.data.success&&(a({type:"REMOVE_INROOM_OWNSROOM"}),a({type:S}),e.push("/room"))})).catch((function(e){console.log(e)}))}},L=function(e){return function(t){m.a.post("/pomo",e).then((function(e){console.log(e)})).catch((function(e){console.error(e)}))}},H=function(){return function(e){m.a.get("/pomo/week").then((function(t){e({type:"GET_WEEKLY_POMO",payload:t.data})})).catch((function(e){console.error(e)}))}},G=function(){return function(e){e({type:"CLEAR_SUCCESS"})}},F=function(){return function(e){e({type:S})}},B={LOG_IN:"LOG_IN",GET_MESSAGES:"GET_MESSAGES"};function W(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var K={authenticated:!1,loading:!1,todo:null,profile:{}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTHENTICATED":return z({},e,{authenticated:!0});case"SET_UNAUTHENTICATED":return K;case B.LOG_IN:return z({},e,{username:t.username});case"SET_USER":return{authenticated:!0,loading:!1,profile:t.payload.profile};case"SET_NICKNAME":return z({},e,{loading:!1,profile:z({},e.profile,{nickName:t.payload})});case"ADD_PROJECT":return z({},e,{profile:z({},e.profile,{projects:[].concat(Object(y.a)(e.profile.projects),[t.payload.project])})});case"REMOVE_PROJECT":return z({},e,{profile:z({},e.profile,{projects:e.profile.projects.filter((function(e){return e!==t.payload.project}))})});case"ADD_TAG":return z({},e,{profile:z({},e.profile,{tags:[].concat(Object(y.a)(e.profile.tags),[t.payload.tag])})});case"REMOVE_TAG":return z({},e,{profile:z({},e.profile,{tags:e.profile.tags.filter((function(e){return e!==t.payload.tag}))})});case"ADD_INROOM":return z({},e,{profile:z({},e.profile,{inRoom:t.payload})});case"REMOVE_INROOM":return z({},e,{profile:z({},e.profile,{inRoom:null})});case"ADD_INROOM_OWNSROOM":return z({},e,{profile:z({},e.profile,{inRoom:t.payload,ownsRoom:t.payload})});case"REMOVE_INROOM_OWNSROOM":return z({},e,{profile:z({},e.profile,{inRoom:null,ownsRoom:null})});case"SET_TODO":return z({},e,{todo:t.payload});case"REMOVE_TODO":return z({},e,{todo:null});case"START_MATCHING":return z({},e,{profile:z({},e.profile,{matching:!0})});case"MATCH_THEN_JOIN_ROOM":return z({},e,{profile:z({},e.profile,{matching:!1,ownsRoom:t.payload.ownsRoom,inRoom:t.payload.inRoom})});default:return e}};function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var q={messages:[]},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B.GET_MESSAGES:return Y({},e,{messages:t.payload});default:return e}};function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Z={loading:!1,errors:null,success:null,loadingMessage:!1};function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ae={pomos:[],weekly_pomo:[]},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_POMOS":return te({},e,{pomos:t.payload});case"GET_WEEKLY_POMO":return te({},e,{weekly_pomo:t.payload});default:return e}},re=Object(p.c)({user:V,room:$,pomo:ne,UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERRORS":return X({},e,{loading:!1,errors:t.payload});case S:return X({},e,{loading:!1,errors:null});case"SET_SUCCESS":return X({},e,{loading:!1,success:t.payload});case"CLEAR_SUCCESS":return X({},e,{loading:!1,success:null});case N:return X({},e,{loading:!0});case"STOP_LOADING_UI":return X({},e,{loading:!1});case"LOADING_MESSAGE":return X({},e,{loadingMessage:!0});case"STOP_LOADING_MESSAGE":return X({},e,{loadingMessage:!1});default:return e}}}),oe={key:"root",storage:v.a,stateReconciler:g.a,whitelist:["user"]},ce=Object(f.a)(oe,re),le=Object(p.d)(ce,Object(p.a)(h.a)),se=Object(f.b)(le),ie=a(6),me=a(7),ue=a(9),de=a(8),pe=a(10),he=a(24),fe=a(13),Ee=a(14),ve=a(295),be=a(137),ge=a(306),ye=a(296),Oe=(a(204),a(74)),je=a.n(Oe),we=function(e){function t(e){var a;return Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t={email:a.state.email,password:a.state.password,confirmPassword:a.state.confirmPassword,handle:a.state.handle};a.props.signupUser(t,a.props.history)},a.state={email:"",password:"",confirmPassword:"",handle:"",errors:{}},a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this,t=this.state.errors,a=this.props.UI.loading;return r.a.createElement("div",{className:"signup-container"},r.a.createElement(ve.a,null,r.a.createElement(be.a,{md:5,xs:12,className:"left-col"},r.a.createElement("div",{className:"login-left"},r.a.createElement("h3",null,"Free Sign Up"),r.a.createElement("h5",null,"Don't have an account? Create your account, it takes less than a minute."),r.a.createElement("div",{className:"signup-form"},r.a.createElement(ge.a,{onSubmit:function(t){e.handleSubmit(t)}},r.a.createElement(ge.a.Group,null,r.a.createElement(ge.a.Label,null,r.a.createElement("h5",null,r.a.createElement("b",null,"Email address"))),r.a.createElement(ge.a.Control,{type:"email",placeholder:"Enter email",name:"email",onChange:function(t){e.handleChange(t)},isInvalid:!!t.email}),r.a.createElement(ge.a.Control.Feedback,{type:"invalid"},t.email)),r.a.createElement(ge.a.Group,null,r.a.createElement(ge.a.Label,null,r.a.createElement("h5",null,r.a.createElement("b",null,"Password"))),r.a.createElement(ge.a.Control,{type:"password",placeholder:"Password",name:"password",onChange:function(t){e.handleChange(t)},isInvalid:!!t.password}),r.a.createElement(ge.a.Control.Feedback,{type:"invalid"},t.password)),r.a.createElement(ge.a.Group,{controlId:"formBasicPassword"},r.a.createElement(ge.a.Label,null,r.a.createElement("h5",null,r.a.createElement("b",null,"Confirm Password"))),r.a.createElement(ge.a.Control,{type:"password",placeholder:"Confirm Password",name:"confirmPassword",onChange:function(t){e.handleChange(t)},isInvalid:!!t.confirmPassword}),r.a.createElement(ge.a.Control.Feedback,{type:"invalid"},t.confirmPassword)),r.a.createElement(ge.a.Group,{controlId:"formBasicEmail"},r.a.createElement(ge.a.Label,null,r.a.createElement("h5",null,r.a.createElement("b",null,"Username"))),r.a.createElement(ge.a.Control,{type:"text",placeholder:"Username",name:"handle",onChange:function(t){e.handleChange(t)},isInvalid:!!t.handle}),r.a.createElement(ge.a.Control.Feedback,{type:"invalid"},t.handle)),r.a.createElement(ye.a,{variant:"info",type:"submit",disabled:a},a?r.a.createElement(fe.a,{className:"icon",icon:Ee.v,spin:!0}):r.a.createElement(fe.a,{className:"icon",icon:Ee.A}),"Sign Up"),r.a.createElement("div",{className:"link-to-login"},r.a.createElement("h5",null,"Already have account?"," ",r.a.createElement("b",null,r.a.createElement(he.a,{to:"/login"}," Log In ")))))))),r.a.createElement(be.a,{md:7,xs:12,className:"right-col"},r.a.createElement("div",{className:"login-right"},r.a.createElement("img",{src:je.a,alt:"loginPic"})))))}}]),t}(n.Component),Ne=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{signupUser:function(e,t){return function(a){a({type:N}),m.a.post("/signup",e).then((function(e){C(e.data.token),a(T(t)),a({type:S})})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}}})(we),Se=a(164),Ce=a(297),ke=a(311),Te=a(308),Pe=a(138),Ie=a.n(Pe),Re=a(139),Me=a.n(Re),Ue=a(140),Ae=a.n(Ue),De=a(141),xe=a.n(De),_e=a(142),Le=a.n(_e),He=(a(206),function(e){function t(){return Object(ie.a)(this,t),Object(ue.a)(this,Object(de.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentWillMount",value:function(){localStorage.FBIdToken&&(window.location.href="https://pomopal-dev.firebaseapp.com/")}},{key:"render",value:function(){return r.a.createElement("div",{className:"landing-container"},r.a.createElement("div",{className:"nav-section"},r.a.createElement(Ce.a,null,r.a.createElement(ve.a,null,r.a.createElement(be.a,{md:2,xs:4,className:"logo"},"POMOPAL"),r.a.createElement(be.a,{md:8,xs:4,className:"navs"},"Features"),r.a.createElement(be.a,{md:2,xs:4,className:"login"},r.a.createElement(he.a,{to:"/login"},r.a.createElement("span",null,r.a.createElement(fe.a,{icon:Ee.t}))," Log in"))))),r.a.createElement("div",{className:"hero-section"},r.a.createElement(Ce.a,null,r.a.createElement(ve.a,null,r.a.createElement(be.a,{md:6,xs:12},r.a.createElement(Ce.a,null,r.a.createElement("div",{className:"slogan"},"A new way to"," "),r.a.createElement("div",{className:"changing"},r.a.createElement(Se.a,{interval:5e3},r.a.createElement("span",null," Beat Procrastination "),r.a.createElement("span",null," Stay Focused "),r.a.createElement("span",null," Get Things Done "),r.a.createElement("span",null," Boost Productivity "),r.a.createElement("span",null," Make Friends "))),r.a.createElement("div",{className:"sub-slogan"},"Stay in the zone with an accountable pal or your friend."),r.a.createElement(ye.a,{variant:"success"},r.a.createElement(he.a,{to:"/login"},"Get Started ",r.a.createElement("span",null,r.a.createElement(fe.a,{icon:Ee.b})))))),r.a.createElement(be.a,{md:6,xs:12},r.a.createElement(Ce.a,null,r.a.createElement("div",{className:"img-wrapper"},r.a.createElement("img",{src:Ie.a,alt:"startup"}))))))),r.a.createElement("div",{className:"how-it-works-section"},r.a.createElement(Ce.a,null,r.a.createElement("div",{className:"title"},"How people use Pomopal"),r.a.createElement(ke.a.Container,{id:"left-tabs-example",defaultActiveKey:"first"},r.a.createElement(ve.a,null,r.a.createElement(be.a,{xs:12,sm:4},r.a.createElement(Te.a,{variant:"pills",className:"flex-column"},r.a.createElement(Te.a.Item,null,r.a.createElement(Te.a.Link,{eventKey:"first"},r.a.createElement("span",null,r.a.createElement(fe.a,{icon:Ee.o})),"Match Pomo Pal")),r.a.createElement(Te.a.Item,null,r.a.createElement(Te.a.Link,{eventKey:"second"},r.a.createElement("span",null,r.a.createElement(fe.a,{icon:Ee.z})),"Invite Friends")),r.a.createElement(Te.a.Item,null,r.a.createElement(Te.a.Link,{eventKey:"third"},r.a.createElement("span",null,r.a.createElement(fe.a,{icon:Ee.n})),"Stay Focused")),r.a.createElement(Te.a.Item,null,r.a.createElement(Te.a.Link,{eventKey:"forth"},r.a.createElement("span",null,r.a.createElement(fe.a,{icon:Ee.k})),"History Records")))),r.a.createElement(be.a,{xs:12,sm:8},r.a.createElement(ke.a.Content,null,r.a.createElement(ke.a.Pane,{eventKey:"first"},r.a.createElement("div",{className:"img-wrapper"},r.a.createElement("img",{src:Me.a,alt:"tab1"}))),r.a.createElement(ke.a.Pane,{eventKey:"second"},r.a.createElement("div",{className:"img-wrapper"},r.a.createElement("img",{src:Ae.a,alt:"tab2"}))),r.a.createElement(ke.a.Pane,{eventKey:"third"},r.a.createElement("div",{className:"img-wrapper"},r.a.createElement("img",{src:xe.a,alt:"tab3"}))),r.a.createElement(ke.a.Pane,{eventKey:"forth"},r.a.createElement("div",{className:"img-wrapper"},r.a.createElement("img",{src:Le.a,alt:"tab4"}))))))))),r.a.createElement("div",{className:"call-to-action-section"},r.a.createElement(Ce.a,null,"Try Pomopal Today?",r.a.createElement(he.a,null,"Get Started"))),r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"logo"},"Pomopal"),r.a.createElement("div",{className:"rights"},"@ Pomopal.2020. All rights reserved.")))}}]),t}(n.Component)),Ge=a(163),Fe=a(46),Be=a(310),We=(a(219),a(52)),ze=a.n(We),Ke=function(e){function t(e){var a;return Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).handleLogout=function(){a.props.logoutUser()},a.state={content:"",showMenu:!1},a.showMenu=a.showMenu.bind(Object(Fe.a)(a)),a.closeMenu=a.closeMenu.bind(Object(Fe.a)(a)),a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"showMenu",value:function(e){var t=this;e.preventDefault(),this.setState({showMenu:!0},(function(){document.addEventListener("click",t.closeMenu)}))}},{key:"closeMenu",value:function(e){var t=this;this.dropdownMenu.contains(e.target)||this.setState({showMenu:!1},(function(){document.removeEventListener("click",t.closeMenu)}))}},{key:"render",value:function(){var e=this,t=this.props.user.profile,a=t.avatar,n=t.nickName;return r.a.createElement("div",{className:"navbar-container"},r.a.createElement(Ce.a,null,r.a.createElement(Be.a,null,r.a.createElement(Be.a.Brand,{href:"/dashboard"}," Pomopal "),r.a.createElement(Be.a.Toggle,null),r.a.createElement(Be.a.Collapse,{className:"justify-content-end"},r.a.createElement(Be.a.Text,{className:"username"},n),r.a.createElement(Be.a.Text,{className:"dropdown"},r.a.createElement("div",{className:"dropdown-wrapper",onClick:this.showMenu},r.a.createElement("img",{src:a||ze.a,alt:"avatar"}),r.a.createElement("span",null," ",r.a.createElement(fe.a,{icon:Ee.e}))),this.state.showMenu?r.a.createElement("div",{ref:function(t){e.dropdownMenu=t}},r.a.createElement("div",{className:"dropdown-content"},r.a.createElement("a",{href:"/dashboard"}," Dashboard "),r.a.createElement("a",{href:"/room"}," Room "),r.a.createElement("a",{href:"/match"}," Match "),r.a.createElement("a",{href:"/account"}," Account "),r.a.createElement("a",{href:"/",onClick:this.handleLogout}," Sign out "))):null)))))}}]),t}(n.Component),Ve=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{addTodo:M,logoutUser:P})(Ke),Je=(a(220),function(e){function t(e){var a;return Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).state={content:""},a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"render",value:function(){var e=this.props.user.profile,t=e.avatar,a=e.nickName,n=e.handle,o=null===a?n:a;return r.a.createElement("div",{className:"navleft-container"},r.a.createElement("div",{className:"navleft-user"},t?r.a.createElement("img",{src:t,alt:"avatar"}):r.a.createElement("img",{src:ze.a,alt:"avatar"}),o?r.a.createElement("p",null," ",o," "):r.a.createElement("p",null," \xa0 ")),r.a.createElement("ul",{className:"navs"},r.a.createElement("li",null,r.a.createElement(he.b,{to:"/home",activeClassName:"active"},r.a.createElement("span",null,r.a.createElement(fe.a,{icon:Ee.l})),r.a.createElement("span",{className:"nav"},"Home"))),r.a.createElement("li",null,r.a.createElement(he.b,{to:"/dashboard",activeClassName:"active"},r.a.createElement("span",null,r.a.createElement(fe.a,{icon:Ee.w})),r.a.createElement("span",{className:"nav"},"Dashboard"))),r.a.createElement("li",null,r.a.createElement(he.b,{to:"/match",activeClassName:"active"},r.a.createElement("span",null,r.a.createElement(fe.a,{icon:Ee.j})),r.a.createElement("span",{className:"nav"},"Match"))),r.a.createElement("li",null,r.a.createElement(he.b,{to:"/room",activeClassName:"active"},r.a.createElement("span",null,r.a.createElement(fe.a,{icon:Ee.g})),r.a.createElement("span",{className:"nav"},"Rome"))),r.a.createElement("li",null,r.a.createElement(he.b,{to:"/project"},r.a.createElement("span",null,r.a.createElement(fe.a,{icon:Ee.i})),r.a.createElement("span",{className:"nav"},"Projects"))),r.a.createElement("li",null,r.a.createElement(he.b,{to:"/tag"},r.a.createElement("span",null,r.a.createElement(fe.a,{icon:Ee.x})),r.a.createElement("span",{className:"nav"},"Tags"))),r.a.createElement("hr",null),r.a.createElement("li",null,r.a.createElement(he.b,{to:"/account"},r.a.createElement("span",null,r.a.createElement(fe.a,{icon:Ee.f})),r.a.createElement("span",{className:"nav"},"Account"))),r.a.createElement("li",null,r.a.createElement(he.b,{to:"/password"},r.a.createElement("span",null,r.a.createElement(fe.a,{icon:Ee.m})),r.a.createElement("span",{className:"nav"},"Password")))))}}]),t}(n.Component)),Ye=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{addTodo:M})(Je),qe=a(144),$e=function(e){function t(){var e,a;Object(ie.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(o)))).chartRef=r.a.createRef(),a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){var e=this.chartRef.current.getContext("2d");new qe.Chart(e,{type:"bar",data:{labels:this.props.labels,datasets:this.props.datasets},options:{scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]}}})}},{key:"render",value:function(){return console.log(this.props.pomos),r.a.createElement("div",null,r.a.createElement("canvas",{id:"myChart",ref:this.chartRef}))}}]),t}(n.Component),Qe=(a(222),function(e){return Math.floor(e/60)+" : "+Math.round(e%60)}),Xe=function(e,t,a){for(var n=[31,28,31,30,31,30,31,31,30,31,30,31],r=0,o=2020,c=0;o<e;)r+=o%4===0?366:365,o++;for(;c<t-1;)r+=e%4===0&&1===c?n[c]+1:n[c],c++;return r+a},Ze=a(223),et=function(e){function t(e){var a;return Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).handleClick=function(e){a.props.logoutUser()},a.handleMatch=function(e){console.log("clicked..")},a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentWillMount",value:function(){this.props.getWeeklyPomo()}},{key:"buildTitle",value:function(){return r.a.createElement("div",{className:"overview-header"},r.a.createElement("h3",null," Overview "),r.a.createElement(he.a,{to:"/match"},r.a.createElement(fe.a,{icon:Ee.s})," Match"))}},{key:"buildSummary",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve.a,null,r.a.createElement(be.a,{xs:"12",md:"4"},r.a.createElement("div",{className:"panel last-week"},r.a.createElement("div",{className:"panel-header"},r.a.createElement("h5",null," Today "),r.a.createElement("span",{className:"blue"},r.a.createElement(fe.a,{icon:Ee.d}))),r.a.createElement("h2",null," 35 "))),r.a.createElement(be.a,{xs:"12",md:"4"},r.a.createElement("div",{className:"panel last-week"},r.a.createElement("div",{className:"panel-header"},r.a.createElement("h5",null," Week "),r.a.createElement("span",{className:"blue"},r.a.createElement(fe.a,{icon:Ee.d}))),r.a.createElement("h2",null," 35 "))),r.a.createElement(be.a,{xs:"12",md:"4"},r.a.createElement("div",{className:"panel total-pomo"},r.a.createElement("div",{className:"panel-header"},r.a.createElement("h5",null," All "),r.a.createElement("span",null,r.a.createElement(fe.a,{icon:Ee.B}))),r.a.createElement("h2",null," 125 ")))))}},{key:"groupByProject",value:function(e){return Ze.groupBy(e,"project")}},{key:"buildDataSet",value:function(e){for(var t=["#ffe4e1","#a2d7f9","#ffe4b5","#D6E9C6","#fda791","#8B4513","#8FBC8F","#c4d4ff","#b5a8a8"],a=0,n=new Date,r=n.getFullYear(),o=n.getMonth(),c=n.getDate(),l=Xe(r,o+1,c),s=[l-6,l-5,l-4,l-3,l-2,l-1,l],i=this.groupByProject(e),m=[],u=function(){var e=p[d],n=(h=Object(Ge.a)(e,2))[0],r=h[1],o=[0,0,0,0,0,0,0],c={};r.forEach((function(e){for(var t=0;t<s.length;t++)e.seq===s[t]&&(o[t]+=Math.round(e.time/3600*100)/100)})),c.label=n,c.backgroundColor=t[a++],c.data=o,m.push(c)},d=0,p=Object.entries(i);d<p.length;d++){var h;u()}return m}},{key:"buildWeeklyChart",value:function(){var e=this.props.pomo.weekly_pomo,t=this.buildDataSet(e),a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=(new Date).getDay(),o=[a[(n+1)%7],a[(n+2)%7],a[(n+3)%7],a[(n+4)%7],a[(n+5)%7],a[(n+6)%7],a[n]];if(e.length>0)return r.a.createElement("div",{className:"chart-container"},r.a.createElement("h1",null," Last 7 days "),r.a.createElement($e,{labels:o,datasets:t}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"overview-container"},r.a.createElement(Ve,null),r.a.createElement(Ce.a,null,r.a.createElement(ve.a,null,r.a.createElement(be.a,{sm:"3",xs:"2"},r.a.createElement(Ye,null)),r.a.createElement(be.a,{sm:"9",xs:"10"},this.buildTitle(),this.buildSummary(),this.buildWeeklyChart()))))}}]),t}(n.Component),tt=Object(l.b)((function(e){return{user:e.user,UI:e.UI,pomo:e.pomo}}),{logoutUser:P,getWeeklyPomo:H})(et),at=(a(224),function(e){function t(e){var a;return Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t={email:a.state.email,password:a.state.password};a.props.loginUser(t,a.props.history)},a.state={email:"",password:"",errors:{}},a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this,t=this.state.errors,a=this.props.UI.loading;return r.a.createElement("div",{className:"login-container"},r.a.createElement(ve.a,null,r.a.createElement(be.a,{md:5,xs:12,className:"left-col"},r.a.createElement("div",{className:"login-left"},r.a.createElement("h3",null,"Sign In"),r.a.createElement("h5",null,"Enter your email address and password to access account."),r.a.createElement("div",{className:"login-form"},r.a.createElement(ge.a,{onSubmit:function(t){e.handleSubmit(t)}},r.a.createElement(ge.a.Group,{controlId:"formBasicEmail"},r.a.createElement(ge.a.Label,null,r.a.createElement("h5",null,r.a.createElement("b",null,"Email address"))),r.a.createElement(ge.a.Control,{type:"email",placeholder:"Enter email",name:"email",onChange:function(t){e.handleChange(t)},value:this.state.email,isInvalid:!!t.email}),r.a.createElement(ge.a.Control.Feedback,{type:"invalid"},t.email)),r.a.createElement(ge.a.Group,{controlId:"formBasicPassword"},r.a.createElement(ge.a.Label,null,r.a.createElement("h5",null,r.a.createElement("b",null,"Password"))),r.a.createElement(ge.a.Control,{type:"password",placeholder:"Password",name:"password",onChange:function(t){e.handleChange(t)},value:this.state.password,isInvalid:!!t.password}),r.a.createElement(ge.a.Control.Feedback,{type:"invalid"},t.password)),r.a.createElement(ye.a,{variant:"info",type:"submit",disabled:a},a?r.a.createElement(fe.a,{className:"icon",icon:Ee.v,spin:!0}):r.a.createElement(fe.a,{className:"icon",icon:Ee.t}),r.a.createElement("span",null," Log In ")),r.a.createElement("div",{className:"link-to-signup"},r.a.createElement("h5",null,"Don't have an account?"," ",r.a.createElement("b",null,r.a.createElement(he.a,{className:a?"disabled-link":"",to:"/signup"},"Sign Up")))))))),r.a.createElement(be.a,{md:7,xs:12,className:"right-col"},r.a.createElement("div",{className:"login-right"},r.a.createElement("img",{src:je.a,alt:"loginPic"})))))}}]),t}(n.Component)),nt=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{loginUser:function(e,t){return function(a){a({type:N}),w.a.auth().setPersistence(w.a.auth.Auth.Persistence.LOCAL).then((function(){return console.log("setPersistence is called..."),w.a.auth().signInWithEmailAndPassword(e.email,e.password)})).catch((function(e){var t=e.code,a=e.message;console.log(t+a)})),m.a.post("/login",e).then((function(e){C(e.data.token),a(T(t)),a({type:S})})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}}})(at);a(225);w.a.initializeApp({apiKey:"AIzaSyA-EVP5tjgcdoSp6l2KG7azuoq3jsRzl8o",authDomain:"pomopal-dev.firebaseapp.com",databaseURL:"https://pomopal-dev.firebaseio.com",projectId:"pomopal-dev",storageBucket:"pomopal-dev.appspot.com",messagingSenderId:"504847911416"}),w.a.firestore().settings({});var rt=w.a,ot=a(312),ct=a(298),lt=(a(228),function(e){function t(e){var a;Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).onUpdateUsers=function(e){e.data()&&a.setState({users:e.data().people})};var n=a.props.roomName;return a.ref=rt.firestore().collection("rooms").doc(n),a.unsubscribe=null,a.state={users:[]},a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.onSnapshot(this.onUpdateUsers)}},{key:"componentWillUnmount",value:function(){this.setState({usres:[]})}},{key:"render",value:function(){var e=this.state.users;return r.a.createElement("div",{className:"usersinroom-container"},e&&e.map((function(e){return r.a.createElement("div",{className:"single-user",key:e.handle},r.a.createElement(ot.a,{key:"delete",placement:"bottom",overlay:r.a.createElement(ct.a,{id:"username"},e.nickName)},r.a.createElement("img",{src:e.avatar?e.avatar:ze.a,alt:"avatar"})))})))}}]),t}(n.Component)),st=Object(l.b)((function(e){return{username:e.user.profile.handle}}),(function(e){return{addMessage:function(t){return e(A(t))}}}))(lt),it=a(309),mt=a(299),ut=(a(235),function(e){function t(e){var a;return Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).state={content:"",errors:{}},a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"render",value:function(){return r.a.createElement(it.a,Object.assign({},this.props,{size:"lg",className:"loading-modal"}),r.a.createElement(it.a.Body,null,r.a.createElement(mt.a,{as:"span",animation:"border",size:"lg",role:"status","aria-hidden":"true"})))}}]),t}(n.Component)),dt=a(300),pt=(a(244),function(e){function t(){var e,a;Object(ie.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(r)))).deleteMessages=function(e){a.props.deleteMessages(e)},a.deleteRoom=function(e,t){a.props.deleteRoom(e,t)},a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.roomName,n=t.isOwner,o=t.history;return r.a.createElement("div",{className:"commit-container"},r.a.createElement(dt.a,null,n?r.a.createElement(ot.a,{key:"delete",placement:"top",overlay:r.a.createElement(ct.a,{id:"delete"},"Delete Room")},r.a.createElement(ye.a,{id:"clear",variant:"secondary",onClick:function(){return e.deleteRoom(o,a)}},r.a.createElement(fe.a,{className:"icon",icon:Ee.y}))):null,n?r.a.createElement(ot.a,{key:"clear",placement:"top",overlay:r.a.createElement(ct.a,{id:"clear"},"Clear Messages")},r.a.createElement(ye.a,{id:"clear",variant:"secondary",onClick:function(){return e.deleteMessages(a)}},r.a.createElement(fe.a,{className:"icon",icon:Ee.c}))):null,r.a.createElement(ot.a,{key:"leave",placement:"top",overlay:r.a.createElement(ct.a,{id:"leave"},"Leave Room")},r.a.createElement(ye.a,{id:"leave",variant:"secondary",onClick:function(){return e.props.onLeave()}},r.a.createElement(fe.a,{className:"icon",icon:Ee.u}))),r.a.createElement(ot.a,{key:"commit",placement:"top",overlay:r.a.createElement(ct.a,{id:"commit"},"New Commit")},r.a.createElement(ye.a,{id:"commit",variant:"secondary",onClick:function(){return e.props.onOpenModal()}},r.a.createElement(fe.a,{className:"icon",icon:Ee.q})))))}}]),t}(n.Component)),ht=Object(l.b)((function(e){return{username:e.user.profile.handle,UI:e.UI}}),(function(e){return{deleteMessages:function(t){return e((a=t,function(e){e({type:N}),m.a.post("/messages",{roomName:a}).then((function(t){e({type:S})})).catch((function(e){}))}));var a},deleteRoom:function(t,a){return e(_(t,a))}}}))(pt),ft=(a(245),a(246),a(149)),Et=a.n(ft),vt=function(e){var t=e.item,a=e.curHandle,n=t.userHandle===a;return r.a.createElement("div",{className:"message-container"+(n?" isOwner":"")},r.a.createElement("img",{className:"userImg"+(n?" isOwner":""),src:t.avatar?t.avatar:Et.a,alt:"avatar"}),r.a.createElement("div",{className:"message-sender"+(n?" isOwner":"")},r.a.createElement("b",null," ",r.a.createElement("i",null,t.nickName," "))),r.a.createElement("div",{className:"message-content"},r.a.createElement("p",null," ",t.content," ")))},bt=function(e){function t(e){var a;return Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).onUpdateMessages=function(e){var t=[];e.forEach((function(e){t.push({userHandle:e.data().userHandle,content:e.data().content,createdAt:e.data().createdAt,avatar:e.data().avatar,nickName:e.data().nickName})})),a.setState({messages:t},(function(){a.showNotification(t[t.length-1])}))},a.scrollToBottom=function(){a.messagesEnd.scrollIntoView({behavior:"smooth"})},a.grantNotificationPermission=function(){"Notification"in window?"granted"!==Notification.permission?"denied"===Notification.permission&&"default"!==Notification.permission||Notification.requestPermission().then((function(e){"granted"===e&&new Notification("Awesome! You will start receiving notifications shortly")})):new Notification("You are already subscribed to message notifications"):alert("This browser does not support system notifications")},a.showNotification=function(e){if(e&&e.userHandle&&e.userHandle!==a.curHandle){var t=e.nickName||e.userHandle,n=e.content;new Notification(t,{body:n})}},a.ref=rt.firestore().collection("rooms").doc(a.props.roomname).collection("messages"),a.unsubscribe=null,a.state={messages:[],content:""},a.curHandle=e.username,a.showNotification=a.showNotification.bind(Object(Fe.a)(a)),a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){this.curHandle=this.props.username,this.unsubscribe=this.ref.orderBy("createdAt").onSnapshot(this.onUpdateMessages),this.scrollToBottom(),this.grantNotificationPermission()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"handleChange",value:function(e){this.setState(Object(O.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),this.state.content.length>0){var t={userHandle:this.props.username,content:this.state.content,roomName:this.props.roomname,nickName:this.props.nickName,avatar:this.props.avatar};this.props.addMessage(t),this.setState({content:""})}}},{key:"render",value:function(){var e=this,t=this.props.username,a=this.props.UI.loadingMessage;return console.log(this.state.messages),r.a.createElement("div",{className:"chatroom-container"},r.a.createElement("div",{className:"message-list"},this.state.messages&&this.state.messages.map((function(e){return r.a.createElement(vt,{key:"".concat(e.createdAt,"-").concat(e.content),item:e,curHandle:t})})),r.a.createElement("div",{style:{float:"left",clear:"both"},ref:function(t){e.messagesEnd=t}})),r.a.createElement("div",{className:"chatroom-input"},r.a.createElement(ge.a,{onSubmit:function(t){e.handleSubmit(t)}},r.a.createElement(ge.a.Group,{controlId:"formTextContent"},r.a.createElement(ge.a.Control,{type:"text",placeholder:"Type a message",name:"content",onChange:function(t){e.handleChange(t)},value:this.state.content})),r.a.createElement(ye.a,{variant:"primary",type:"submit"},a?r.a.createElement(fe.a,{className:"icon",icon:Ee.v,spin:!0}):r.a.createElement(fe.a,{className:"icon",icon:Ee.p})))))}}]),t}(n.Component),gt=Object(l.b)((function(e){return{username:e.user.profile.handle,avatar:e.user.profile.avatar,UI:e.UI}}),(function(e){return{addMessage:function(t){return e(A(t))}}}))(bt),yt=a(102),Ot=(a(247),function(e){function t(e){var a;return Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).openAddProject=function(){a.setState({addProject:!0})},a.closeAddProject=function(){a.setState({addProject:!1})},a.openAddTag=function(){a.setState({addTag:!0})},a.closeAddTag=function(){a.setState({addTag:!1})},a.addNewProject=function(){a.state.newProject.length>0&&a.props.addProject(a.state.newProject)},a.addNewTag=function(){a.state.newTag.length>0&&a.props.addTag(a.state.newTag)},a.handleChange=function(e){a.props.clearSuccess(),a.props.clearErrors(),a.setState(Object(O.a)({},e.target.name,e.target.value))},a.handleMultiChange=function(e){a.props.clearSuccess(),a.props.clearErrors(),a.setState({tag:Array.from(e.target.selectedOptions,(function(e){return e.value}))})},a.handleSubmit=function(e){var t=a.props,n=t.createPomo,r=t.removeTodo,o=t.onHide,c=t.type,l=t.time,s=a.props.user.profile,i=s.avatar,m=s.nickName;e.preventDefault();var u=a.state.content.length>0?a.state.content:a.props.user.todo,d=new Date,p=d.getFullYear(),h=d.getMonth(),f=d.getDate(),E=Xe(p,h+1,f);n({content:u,project:a.state.project,tag:a.state.tag,month:h+1,date:f,day:d.getDay(),hour:d.getHours(),minute:d.getMinutes(),seq:E,nickName:m,avatar:i,type:c,time:l}),r(),o()},a.state={content:"",project:"Other",tag:[],addProject:!1,addTag:!1,newProject:"",newTag:""},a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"render",value:function(){var e=this,t=this.props.user.profile,a=t.projects,n=t.tags,o=this.props.user.todo,c=this.props.UI,l=c.errors,s=c.success;return r.a.createElement(it.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"pomo-modal"}),r.a.createElement(it.a.Header,{closeButton:!0},r.a.createElement(it.a.Title,{id:"contained-modal-title-vcenter"},"Add to history pomo")),r.a.createElement(it.a.Body,null,r.a.createElement(ge.a,{onSubmit:function(t){e.handleSubmit(t)}},r.a.createElement(ge.a.Group,{controlId:"formBasicEmail"},r.a.createElement(ge.a.Label,null," What did you accomplish? "),r.a.createElement(ge.a.Control,{type:"text",placeholder:"Enter your task",defaultValue:o,name:"content",onChange:function(t){e.handleChange(t)}})),r.a.createElement(ge.a.Group,{controlId:"exampleForm.ControlSelect1"},r.a.createElement(ge.a.Label,null,"Select project"),r.a.createElement(ge.a.Control.Feedback,{type:"invalid"},l&&l.project),r.a.createElement(ge.a.Control.Feedback,{type:"valid"},s&&s.project),r.a.createElement(ge.a.Control,{as:"select",name:"project",onChange:function(t){e.handleChange(t)}},a&&a.map((function(e,t){return r.a.createElement("option",{key:t}," ",e," ")}))),this.state.addProject?r.a.createElement("div",{className:"add-project-wrapper"},r.a.createElement("span",{className:"hidden-btn",onClick:function(){e.addNewProject(),e.closeAddProject()}},"confirm"),r.a.createElement("span",{className:"hidden-btn cancel",onClick:function(){return e.closeAddProject()}},"Cancel"),r.a.createElement("input",{type:"text",placeholder:"Enter project name",name:"newProject",onChange:function(t){e.handleChange(t)}})):r.a.createElement("div",{className:"add-project-wrapper create"},r.a.createElement("span",{className:"hidden-btn",onClick:function(){return e.openAddProject()}},"Create new project"))),r.a.createElement(ge.a.Group,{controlId:"exampleForm.ControlSelect2"},r.a.createElement(ge.a.Control.Feedback,{type:"invalid"},l&&l.tag),r.a.createElement(ge.a.Control.Feedback,{type:"valid"},s&&s.tag),r.a.createElement(ge.a.Label,null," Select tag "),r.a.createElement(ge.a.Control,{as:"select",multiple:!0,name:"tag",onChange:function(t){e.handleMultiChange(t)}},n&&n.map((function(e,t){return r.a.createElement("option",{key:t}," ",e," ")}))),this.state.addTag?r.a.createElement("div",{className:"add-tag-wrapper"},r.a.createElement("span",{className:"hidden-btn",onClick:function(){e.addNewTag()}},"+ Create tag"),r.a.createElement("input",{type:"text",placeholder:"Enter tag name",name:"newTag",onChange:function(t){e.handleChange(t)}}),r.a.createElement("span",{className:"hidden-btn cancel",onClick:function(){return e.closeAddTag()}},"Cancel")):r.a.createElement("div",{className:"add-tag-wrapper create"},r.a.createElement("span",{className:"hidden-btn",onClick:function(){return e.openAddTag()}},"Create new tag"))))),r.a.createElement(it.a.Footer,null,r.a.createElement(ye.a,{id:"close",onClick:this.props.onHide,variant:"secondary"}," Cancel "),r.a.createElement(ye.a,{onClick:this.handleSubmit}," Submit ")))}}]),t}(n.Component)),jt=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{createPomo:L,removeTodo:U,addProject:I,clearErrors:F,clearSuccess:G,addTag:R})(Ot),wt=(a(248),a(249),a(150)),Nt=a.n(wt),St=a(151),Ct=a.n(St),kt=function(e){function t(e){var a;Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).getDefaultTime=function(e){return 0===e?60:1===e?1500:2===e?1800:2700},a.count=function(e){var t=a.state.type,n=a.getDefaultTime(t);a.state.on&&a.state.startTime&&(a.state.time>0?a.setState({time:n-Math.floor(((new Date).getTime()-e)/1e3)}):(a.stopAudio.play(),a.setState({on:!1,startTime:null,modalShow:!0,type:1,time:1500},a.handleReset())))},a.start=function(e){a.interval=setInterval((function(e){a.count(e)}),1e3,e)},a.reset=function(){a.setState({on:!1,startTime:null,type:1,time:1500}),clearInterval(a.interval)},a.handleStart=function(e){e.preventDefault(),a.startAudio.play(),a.props.startCount(a.props.roomName)},a.handleReset=function(){var e={roomName:a.props.roomName};m.a.post("/resetcount",e).then((function(e){a.setState({on:!1,startTime:null,modalShow:!0,type:1,time:1500}),clearInterval(a.interval)})).catch((function(e){console.error(e)}))},a.subscribeStart=function(e){e.data()&&a.setState({on:e.data().on,startTime:e.data().startTime,type:e.data().type,time:e.data().time}),e.data()&&e.data().startTime&&a.start(e.data().startTime)},a.setModalShow=function(e){a.setState({modalShow:e})},a.handleChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.onUpdateTime=function(e){var t=e.type,n=e.time,r=a.props,o=r.roomName;(0,r.updateTime)({roomName:o,type:t,time:n}),a.setState({type:t,time:n})};var n=a.props.roomName;return a.ref=rt.firestore().collection("rooms").doc(n),a.unsubsrcibe=null,a.startAudio=new Audio(Nt.a),a.stopAudio=new Audio(Ct.a),a.state={on:!1,startTime:null,modalShow:!1,type:1,time:1500},a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.onSnapshot(this.subscribeStart)}},{key:"componentWillUnmount",value:function(){this.unsubscribe=null,this.setState({on:!1,startTime:null,modalShow:!0,type:1,time:1500})}},{key:"buildOptions",value:function(){var e=this,t=this.state.type;return r.a.createElement("div",{className:"options"},r.a.createElement("div",{className:"option",id:"0",onClick:function(){e.onUpdateTime({type:0,time:60})}},r.a.createElement("div",{className:"time"+(0===t?" active":"")},"1"),r.a.createElement("div",{className:"icon"+(0===t?" show":"")},"\ud83c\udf4b")),r.a.createElement("div",{className:"option",id:"1",onClick:function(){return e.onUpdateTime({type:1,time:1500})}},r.a.createElement("div",{className:"time"+(1===t?" active":"")},"25"),r.a.createElement("div",{className:"icon"+(1===t?" show":"")},"\ud83c\udf45")),r.a.createElement("div",{className:"option",id:"2",onClick:function(){return e.onUpdateTime({type:2,time:1800})}},r.a.createElement("div",{className:"time"+(2===t?" active":"")},"30"),r.a.createElement("div",{className:"icon"+(2===t?" show":"")},"\ud83c\udf4f")),r.a.createElement("div",{className:"option",id:"3",onClick:function(){return e.onUpdateTime({type:3,time:2700})}},r.a.createElement("div",{className:"time"+(3===t?" active":"")},"45"),r.a.createElement("div",{className:"icon"+(3===t?" show":"")},"\ud83c\udf49")))}},{key:"render",value:function(){var e=this,t=this.state,a=t.type,n=t.time,o=100*(n/this.getDefaultTime(a));return r.a.createElement("div",{className:"pomodoro-container"},r.a.createElement(Ce.a,null,this.buildOptions(),r.a.createElement("div",{className:"circular-container"},r.a.createElement(yt.a,{value:o,text:Qe(n),strokeWidth:5,styles:Object(yt.b)({textColor:"#FB7299",pathColor:"#FB7299",trailColor:"transparent"})}),this.state.on?null:r.a.createElement("div",{className:"control play",onClick:function(t){e.handleStart(t)}},r.a.createElement(fe.a,{icon:Ee.r})))),r.a.createElement(jt,{show:this.state.modalShow,onHide:function(){return e.setModalShow(!1)},type:a,time:n}))}}]),t}(n.Component),Tt=(a(250),function(e){function t(e){var a;return Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.state.content.length>0&&a.state.content!==a.props.curTodo&&(a.props.onSend(a.state.content,a.props.roomName),a.props.onHide())},a.handleClose=function(){return a.props.onHide()},a.state={content:"",errors:{}},a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.content,n=t.errors,o=a.length>0;return r.a.createElement(it.a,Object.assign({backdrop:"static"},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(it.a.Header,null,r.a.createElement(it.a.Title,{id:"contained-modal-title-vcenter"},"What to focus now?")),r.a.createElement(it.a.Body,null,r.a.createElement(ge.a,null,r.a.createElement(ge.a.Group,{controlId:"formBasicEmail"},r.a.createElement(ge.a.Control,{type:"text",placeholder:"Enter what to focus on",className:"content",name:"content",onChange:function(t){e.handleChange(t)},isInvalid:!!n.content}),r.a.createElement(ge.a.Control.Feedback,{type:"invalid"},n.content)))),r.a.createElement(it.a.Footer,null,r.a.createElement(ye.a,{id:"close",variant:"secondary",onClick:this.handleClose},"Close"),r.a.createElement(ye.a,{variant:"primary",onClick:this.handleSubmit,disabled:!o},"Send")))}}]),t}(n.Component)),Pt=(a(251),function(e){function t(e){var a;return Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).setModalShow=function(e){a.setState({modalShow:e})},a.addTodo=function(e,t){var n=a.props.user.profile,r=n.nickName,o=n.handle,c=n.avatar;a.props.addTodo(e,o,r,c,t)},a.onLeave=function(){var e=a.props.match.params.roomname,t=a.props.user.profile,n=t.avatar,r=t.nickName;a.props.leaveRoom(a.props.history,{roomName:e,avatar:n,nickName:r})},a._startCount=function(e){a.props.startCount(e)},a._updateTime=function(e){var t=e.roomName,n=e.type,r=e.time;a.props.updateTime({roomName:t,type:n,time:r})},a.state={modalShow:!0,isOwner:!1},a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"render",value:function(){var e=this,t=this.props.match.params.roomname,a=this.props.user.profile,n=a.inRoom,o=a.ownsRoom,c=a.handle,l=a.nickName,s=null!==o&&n===o,i=this.props.history;return r.a.createElement("div",{className:"room-container"},r.a.createElement(Ve,null),r.a.createElement(Ce.a,null,r.a.createElement(ve.a,null,r.a.createElement(be.a,{md:4,sm:12,xs:12},r.a.createElement(kt,{roomName:t,isOwner:s,startCount:function(t){return e._startCount(t)},updateTime:function(t){var a=t.roomName,n=t.type,r=t.time;return e._updateTime({roomName:a,type:n,time:r})}})),r.a.createElement(be.a,{md:8,sm:12,xs:12,className:"roomRight"},r.a.createElement("div",{className:"roomInfo"},r.a.createElement("div",null,r.a.createElement("h2",null," ",20===t.length?"Pomo Room":t," "),r.a.createElement(st,{roomName:t})),r.a.createElement("div",null,r.a.createElement(ht,{isOwner:s,roomName:t,onLeave:function(){return e.onLeave()},onOpenModal:function(){return e.setModalShow(!0)},history:i}))),r.a.createElement(gt,{roomname:t,isOwner:s,curHandle:c,nickName:l})))),r.a.createElement(Tt,{show:this.state.modalShow,onSend:function(t,a){return e.addTodo(t,a)},onHide:function(){return e.setModalShow(!1)},roomName:t,handle:this.props.user.profile.handle,curTodo:this.props.user.todo}),r.a.createElement(ut,{show:this.props.UI.loading}))}}]),t}(n.Component)),It=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{leaveRoom:x,addTodo:M,startCount:function(e){return function(t){t({type:N}),m.a.post("/startcount",{roomName:e}).then((function(e){t({type:S})})).catch((function(e){console.log(e)}))}},updateTime:function(e){var t=e.roomName,a=e.type,n=e.time;return function(e){e({type:N}),m.a.post("/updateTime",{roomName:t,type:a,time:n}).then((function(t){e({type:S})})).catch((function(e){console.log(e)}))}}})(Pt),Rt=(a(252),a(253),a(305)),Mt=a(307),Ut=function(e){function t(e){var a;return Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).onUpdateMessages=function(e){var t=[];e.forEach((function(e){console.log(e.data()),t.push({userHandle:e.data().userHandle,content:e.data().content,createdAt:e.data().createdAt})})),a.setState({messages:t})},a.ref=rt.firestore().collection("rooms").doc(a.props.roomname).collection("messages"),a.unsubscribe=null,a.state={messages:[],content:""},a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(O.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={userHandle:this.props.username,content:this.state.content,roomName:this.props.roomname};this.props.addMessage(t),this.setState({content:""})}},{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.orderBy("createdAt").onSnapshot(this.onUpdateMessages)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"chatroom-container"},this.state.messages.map((function(e){return r.a.createElement("div",{key:e.messageId}," ",e.content," ")})),r.a.createElement("div",{className:"chatroom-input"},r.a.createElement("form",{onSubmit:function(t){e.handleSubmit(t)}},r.a.createElement(Rt.a,{type:"text",name:"content",label:"content",onChange:function(t){e.handleChange(t)},value:this.state.content,fullWidth:!0}),r.a.createElement(Mt.a,{type:"submit",variant:"contained",color:"primary"},"Submit"))))}}]),t}(n.Component),At=Object(l.b)((function(e){return{username:e.user.profile.handle}}),(function(e){return{addMessage:function(t){return e(A(t))}}}))(Ut),Dt=(a(254),a(255),function(e){function t(e){var a;return Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).openAddProject=function(){a.setState({addProject:!0})},a.closeAddProject=function(){a.setState({addProject:!1})},a.openAddTag=function(){a.setState({addTag:!0})},a.closeAddTag=function(){a.setState({addTag:!1})},a.addNewProject=function(){a.state.newProject.length>0&&a.props.addProject(a.state.newProject)},a.addNewTag=function(){a.state.newTag.length>0&&a.props.addTag(a.state.newTag)},a.handleChange=function(e){a.props.clearSuccess(),a.props.clearErrors(),a.setState(Object(O.a)({},e.target.name,e.target.value))},a.handleMultiChange=function(e){a.props.clearSuccess(),a.props.clearErrors(),a.setState({tag:Array.from(e.target.selectedOptions,(function(e){return e.value}))})},a.handleSubmit=function(e){e.preventDefault();var t={content:a.state.content.length>0?a.state.content:a.props.user.todo,project:a.state.project,tag:a.state.tag};console.log(t),a.props.createPomo(t),a.props.removeTodo(),a.props.onHide()},a.state={content:"",project:"Other",tag:[],addProject:!1,addTag:!1,newProject:"",newTag:""},a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"render",value:function(){var e=this,t=this.props.user.profile,a=t.projects,n=t.tags,o=this.props.user.todo,c=this.props.UI,l=c.errors,s=c.success;return r.a.createElement(it.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"pomo-modal"}),r.a.createElement(it.a.Header,{closeButton:!0},r.a.createElement(it.a.Title,{id:"contained-modal-title-vcenter"},"Add to history pomo")),r.a.createElement(it.a.Body,null,r.a.createElement(ge.a,{onSubmit:function(t){e.handleSubmit(t)}},r.a.createElement(ge.a.Group,{controlId:"formBasicEmail"},r.a.createElement(ge.a.Label,null," What did you accomplish? "),r.a.createElement(ge.a.Control,{type:"text",placeholder:"Enter your task",defaultValue:o,name:"content",onChange:function(t){e.handleChange(t)}})),r.a.createElement(ge.a.Group,{controlId:"exampleForm.ControlSelect1"},r.a.createElement(ge.a.Label,null,"Select project"),r.a.createElement(ge.a.Control.Feedback,{type:"invalid"},l&&l.project),r.a.createElement(ge.a.Control.Feedback,{type:"valid"},s&&s.project),r.a.createElement(ge.a.Control,{as:"select",name:"project",onChange:function(t){e.handleChange(t)}},a&&a.map((function(e,t){return r.a.createElement("option",{key:t}," ",e," ")}))),this.state.addProject?r.a.createElement("div",{className:"add-project-wrapper"},r.a.createElement("span",{className:"hidden-btn",onClick:function(){e.addNewProject()}},"+ Create project"),r.a.createElement("input",{type:"text",placeholder:"Enter project name",name:"newProject",onChange:function(t){e.handleChange(t)}}),r.a.createElement("span",{className:"hidden-btn cancel",onClick:function(){return e.closeAddProject()}},"Cancel")):r.a.createElement("div",{className:"add-project-wrapper create"},r.a.createElement("span",{className:"hidden-btn",onClick:function(){return e.openAddProject()}},"Create new project"))),r.a.createElement(ge.a.Group,{controlId:"exampleForm.ControlSelect2"},r.a.createElement(ge.a.Control.Feedback,{type:"invalid"},l&&l.tag),r.a.createElement(ge.a.Control.Feedback,{type:"valid"},s&&s.tag),r.a.createElement(ge.a.Label,null," Select tag "),r.a.createElement(ge.a.Control,{as:"select",multiple:!0,name:"tag",onChange:function(t){e.handleMultiChange(t)}},n&&n.map((function(e,t){return r.a.createElement("option",{key:t}," ",e," ")}))),this.state.addTag?r.a.createElement("div",{className:"add-tag-wrapper"},r.a.createElement("span",{className:"hidden-btn",onClick:function(){e.addNewTag()}},"+ Create tag"),r.a.createElement("input",{type:"text",placeholder:"Enter tag name",name:"newTag",onChange:function(t){e.handleChange(t)}}),r.a.createElement("span",{className:"hidden-btn cancel",onClick:function(){return e.closeAddTag()}},"Cancel")):r.a.createElement("div",{className:"add-tag-wrapper create"},r.a.createElement("span",{className:"hidden-btn",onClick:function(){return e.openAddTag()}},"Create new tag"))),r.a.createElement(ye.a,{variant:"primary",type:"submit"},"Submit"))),r.a.createElement(it.a.Footer,null,r.a.createElement(ye.a,{onClick:this.props.onHide}," Cancel "),r.a.createElement(ye.a,{onClick:this.handleSubmit}," Submit ")))}}]),t}(n.Component)),xt=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{createPomo:L,removeTodo:U,addProject:I,clearErrors:F,clearSuccess:G,addTag:R})(Dt),_t=a(154),Lt=a.n(_t),Ht=function(e){function t(e){var a;Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).count=function(){a.state.on&&(a.state.sec>0?a.setState((function(e){return{sec:e.sec-1}})):(a.audio.play(),a.setState({on:!1,modalShow:!0,sec:5})))},a.start=function(){a.setState({on:!0}),a.interval=setInterval((function(){a.count()}),1e3)},a.reset=function(){a.setState({sec:5,on:!1}),clearInterval(a.interval)},a.handleStart=function(e){e.preventDefault();var t={roomName:a.props.roomName};m.a.post("/countaddone",t).then((function(e){console.log(e)})).catch((function(e){console.error(e)}))},a.handleReset=function(e){e.preventDefault();var t={roomName:a.props.roomName};m.a.post("/countaddone",t).then((function(e){console.log(e)})).catch((function(e){console.error(e)}))},a.subscribeStart=function(e){e.data().count%2===1?a.start():a.reset()},a.setModalShow=function(e){a.setState({modalShow:e})},a.handleChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))};var n=a.props.roomName;return a.ref=rt.firestore().collection("rooms").doc(n),a.unsubsrcibe=null,a.audio=new Audio(Lt.a),a.state={sec:5,on:!1,modalShow:!1},a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.onSnapshot(this.subscribeStart)}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,this.state.on?r.a.createElement(ye.a,{variant:"success",onClick:function(t){e.handleReset(t)}},"Reset"):r.a.createElement(ye.a,{variant:"primary",onClick:function(t){e.handleStart(t)}},"Start"),r.a.createElement(ge.a,{onSubmit:function(){console.log(e.state.time)}},r.a.createElement(ge.a.Group,{controlId:"exampleForm.ControlSelect1"},r.a.createElement(ge.a.Label,null,"Set Time"),r.a.createElement(ge.a.Control,{as:"select",name:"time",value:this.state.time,onChange:function(t){e.handleChange(t)}},r.a.createElement("option",null," 25 "),r.a.createElement("option",null," 45 "),r.a.createElement("option",null," 60 ")))));return r.a.createElement("div",{className:"pomodoro-container"},r.a.createElement(Ce.a,null,r.a.createElement(dt.a,null,r.a.createElement(ye.a,{id:"leave",onClick:function(){return e.props.onLeave()}},r.a.createElement("span",null,r.a.createElement(fe.a,{icon:Ee.u})),"Leave Room"),r.a.createElement(ye.a,{id:"commit",onClick:function(){return e.props.onOpenModal()}},r.a.createElement("span",null,r.a.createElement(fe.a,{icon:Ee.q})),"Commit Task")),r.a.createElement("div",{id:"count"}," ",Qe(this.state.sec)," "),this.props.isOwner&&t),r.a.createElement(xt,{show:!0,onHide:function(){return e.setModalShow(!1)}}))}}]),t}(n.Component),Gt=function(e){function t(e){var a;return Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.onSend(a.state.content,a.props.roomName,a.props.handle),a.props.onHide()},a.state={content:"",errors:{}},a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"render",value:function(){var e=this,t=this.state.errors;return r.a.createElement(it.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(it.a.Header,null,r.a.createElement(it.a.Title,{id:"contained-modal-title-vcenter"},"What to focus now?")),r.a.createElement(it.a.Body,null,r.a.createElement(ge.a,null,r.a.createElement(ge.a.Group,{controlId:"formBasicEmail"},r.a.createElement(ge.a.Control,{type:"text",placeholder:"Enter what to focus on",name:"content",onChange:function(t){e.handleChange(t)},isInvalid:!!t.content}),r.a.createElement(ge.a.Control.Feedback,{type:"invalid"},t.content)))),r.a.createElement(it.a.Footer,null,r.a.createElement(ye.a,{onClick:this.handleSubmit}," Send ")))}}]),t}(n.Component),Ft=function(e){function t(e){var a;return Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).setModalShow=function(e){a.setState({modalShow:e})},a.addTodo=function(e,t,n){a.props.addTodo(e,t,n)},a.onLeave=function(){a.props.leaveRoom(a.props.history)},a.state={modalShow:!0,isOwner:!1},a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"render",value:function(){var e=this,t=this.props.match.params.roomname,a=this.props.user.profile,n=a.inRoom,o=a.ownsRoom,c=null!==o&&n===o;return r.a.createElement("div",{className:"room-container"},r.a.createElement(Ve,null),r.a.createElement(Ce.a,null,r.a.createElement(ve.a,null,r.a.createElement(be.a,{md:4},r.a.createElement(Ht,{roomName:t,isOwner:c,onLeave:function(){return e.onLeave()},onOpenModal:function(){return e.setModalShow(!0)}})),r.a.createElement(be.a,{md:8},r.a.createElement(At,{roomname:t})))),r.a.createElement(Gt,{show:!1,onSend:function(t,a,n){return e.addTodo(t,a,n)},onHide:function(){return e.setModalShow(!1)},roomName:t,handle:this.props.user.profile.handle}))}}]),t}(n.Component),Bt=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{leaveRoom:x,addTodo:M})(Ft),Wt=a(303),zt=a(304),Kt=function(e){function t(e){var a;return Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.onCreate(a.state.content),a.props.onHide()},a.state={content:"",errors:{}},a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"render",value:function(){var e=this,t=this.props.UI.errors,a=this.props,n=a.title,o=a.placeholder;return r.a.createElement(it.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(it.a.Header,{closeButton:!0},r.a.createElement(it.a.Title,{id:"contained-modal-title-vcenter"},n)),r.a.createElement(it.a.Body,null,r.a.createElement(ge.a,null,r.a.createElement(ge.a.Group,null,r.a.createElement(ge.a.Control,{type:"text",placeholder:o,name:"content",onChange:function(t){e.handleChange(t)},isInvalid:t&&!!t.project}),r.a.createElement(ge.a.Control.Feedback,{type:"invalid"},t&&t.project)))),r.a.createElement(it.a.Footer,null,r.a.createElement(ye.a,{onClick:this.props.onHide},"Close"),r.a.createElement(ye.a,{onClick:this.handleSubmit}," Create ")))}}]),t}(n.Component),Vt=Object(l.b)((function(e){return{UI:e.UI}}),null)(Kt),Jt=(a(256),function(e){function t(e){var a;return Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).setModalShow=function(e){a.setState({modalShow:e})},a.addProject=function(e){a.props.addProject(e)},a.removeProject=function(e){a.props.removeProject(e.trim())},a.clearErrors=function(){a.props.clearErrors()},a.buildAlert=function(){var e=a.props.UI.errors;return e&&r.a.createElement(Wt.a,{variant:"danger",onClose:function(){return a.clearErrors()},dismissible:!0},r.a.createElement("p",null,e.project))},a.buildProjectTable=function(){var e=a.props.user.profile.projects;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"project-header"},r.a.createElement("h3",null," Projects ")),r.a.createElement("div",null,r.a.createElement(ye.a,{variant:"primary",className:"create-button",onClick:function(){return a.setModalShow(!0)}},"+ Create New Project")),r.a.createElement("div",{className:"project-table"},r.a.createElement(zt.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{xs:"3"}," Project Name "),r.a.createElement("th",{xs:"4"}," Delete "))),r.a.createElement("tbody",null,e&&e.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement("p",null," ",e," ")),r.a.createElement("td",null,0===t?null:r.a.createElement(ye.a,{className:"delete-button",onClick:function(){a.removeProject(e)}},r.a.createElement("span",null,r.a.createElement(fe.a,{icon:Ee.y})))))}))))),r.a.createElement(Vt,{show:a.state.modalShow,onHide:function(){return a.setModalShow(!1)},onCreate:function(e){return a.addProject(e)},title:"Create new project",placeholder:"Enter project name"}))},a.state={modalShow:!1},a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"project-container"},r.a.createElement(Ve,null),r.a.createElement(Ce.a,null,this.buildAlert(),r.a.createElement(ve.a,null,r.a.createElement(be.a,{sm:"3",xs:"2"},r.a.createElement(Ye,null)),r.a.createElement(be.a,{sm:"9",xs:"10"},this.buildProjectTable()))))}}]),t}(n.Component)),Yt=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{addProject:I,removeProject:function(e){return function(t){var a={project:e};m.a.post("/project/remove",a).then((function(e){t({type:"REMOVE_PROJECT",payload:a})})).catch((function(e){return console.log(e)}))}},clearErrors:F})(Jt),qt=(a(257),function(e){function t(e){var a;return Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).setModalShow=function(e){a.setState({modalShow:e})},a.addTag=function(e){a.props.addTag(e)},a.removeTag=function(e){a.props.removeTag(e.trim())},a.clearErrors=function(){a.props.clearErrors()},a.buildAlert=function(){var e=a.props.UI.errors;return e&&r.a.createElement(Wt.a,{variant:"danger",onClose:function(){return a.clearErrors()},dismissible:!0},r.a.createElement("p",null,e.tag))},a.buildTagTable=function(){var e=a.props.user.profile.tags;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"project-header"},r.a.createElement("h3",null," Tags ")),r.a.createElement("div",null,r.a.createElement(ye.a,{variant:"primary",className:"create-button",onClick:function(){return a.setModalShow(!0)}},"+ Add New Tag")),r.a.createElement("div",{className:"project-table"},r.a.createElement(zt.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{xs:"3"}," Tag Name "),r.a.createElement("th",{xs:"4"}," Delete "))),r.a.createElement("tbody",null,e&&e.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement("p",null," ",e," ")),r.a.createElement("td",null,r.a.createElement(ye.a,{className:"delete-button",onClick:function(){a.removeTag(e)}},r.a.createElement("span",null,r.a.createElement(fe.a,{icon:Ee.y})))))}))))),r.a.createElement(Vt,{show:a.state.modalShow,onHide:function(){return a.setModalShow(!1)},onCreate:function(e){return a.addTag(e)},title:"Create new tag",placeholder:"Enter tag name"}))},a.state={modalShow:!1},a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"tag-container"},r.a.createElement(Ve,null),r.a.createElement(Ce.a,null,this.buildAlert(),r.a.createElement(ve.a,null,r.a.createElement(be.a,{sm:"3",xs:"2"},r.a.createElement(Ye,null)),r.a.createElement(be.a,{sm:"9",xs:"10"},this.buildTagTable()))))}}]),t}(n.Component)),$t=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{addTag:R,removeTag:function(e){return function(t){var a={tag:e};m.a.post("/tag/remove",a).then((function(e){t({type:"REMOVE_TAG",payload:a})})).catch((function(e){return console.log(e)}))}},clearErrors:F})(qt),Qt=(a(258),function(e){function t(e){var a;return Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).onUpdatePomos=function(e){var t=[];e.forEach((function(e){t.push(e.data())})),a.setState({pomos:t})},a.ref=rt.firestore().collection("pomos"),a.unsubscribe=null,a.state={pomos:[]},a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.orderBy("createdAt","desc").onSnapshot(this.onUpdatePomos)}},{key:"buildPomoList",value:function(){var e=this,t=this.state.pomos;return r.a.createElement("div",{className:"pomo-list"},t.map((function(t){return e.buildPomo(t)})))}},{key:"buildPomo",value:function(e){var t=e.avatar,a=e.nickName,n=e.content,o=e.handle,c=e.createdAt;return r.a.createElement("div",{className:"pomo",key:o+c},r.a.createElement("div",{className:"left"},t?r.a.createElement("img",{src:t,alt:"avatar"}):r.a.createElement("img",{src:ze.a,alt:"avatar"})),r.a.createElement("div",{className:"right"},r.a.createElement("div",{className:"name"},a),r.a.createElement("div",{className:"content"},r.a.createElement("span",null," \u2705"),n)))}},{key:"render",value:function(){return r.a.createElement("div",{className:"home-container"},r.a.createElement(Ve,null),r.a.createElement(Ce.a,null,r.a.createElement(ve.a,null,r.a.createElement(be.a,{sm:"3",xs:"2"},r.a.createElement(Ye,null)),r.a.createElement(be.a,{sm:"9",xs:"10"},r.a.createElement("div",{className:"home-header"},r.a.createElement("h3",null," Home "),this.buildPomoList())))))}}]),t}(n.Component)),Xt=Object(l.b)((function(e){return{user:e.user,UI:e.UI,pomo:e.pomo}}),{logoutUser:P,getWeeklyPomo:H})(Qt),Zt=(a(259),a(155)),ea=a.n(Zt),ta=function(e){function t(e){var a;return Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).state={content:""},a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"render",value:function(){var e=this.props.roomName;return r.a.createElement("div",{className:"inroom-container"},r.a.createElement("h3",null," Room: ",e," "),r.a.createElement("img",{src:ea.a,alt:"co-working"}),r.a.createElement(he.a,{to:"/room/".concat(e)},"Enter"))}}]),t}(n.Component),aa=(a(260),a(156)),na=a.n(aa),ra=function(e){function t(e){var a;return Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){if(e.preventDefault(),0===a.state.roomName.length){a.setState({errors:{roomName:"It must not be empty."}})}else{var t={roomName:a.state.roomName,nickName:a.props.user.profile.nickName,avatar:a.props.user.profile.avatar};a.props.joinRoom(t,a.props.history)}},a.state={roomName:""},a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"joinroom-container"},r.a.createElement("h3",null," Join Room "),r.a.createElement("img",{src:na.a,alt:"join-room"}),r.a.createElement("div",{className:"joinroom-form"},r.a.createElement("input",{type:"text",placeholder:"Enter room name",name:"roomName",onChange:function(t){e.handleChange(t)}}),r.a.createElement("span",{onClick:function(t){e.handleSubmit(t)}},r.a.createElement(fe.a,{icon:Ee.a}))))}}]),t}(n.Component),oa=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{joinRoom:D})(ra),ca=(a(261),a(157)),la=a.n(ca),sa=function(e){function t(e){var a;return Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){if(e.preventDefault(),0===a.state.roomName.length){a.setState({errors:{roomName:"It must not be empty."}})}else{var t={roomName:a.state.roomName,nickName:a.props.user.profile.nickName,avatar:a.props.user.profile.avatar};a.props.createRoom(t,a.props.history)}},a.state={roomName:"",errors:{}},a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"createroom-container"},r.a.createElement("h3",null," Create Room "),r.a.createElement("img",{src:la.a,alt:"create-room"}),r.a.createElement("div",{className:"createroom-form"},r.a.createElement("input",{type:"text",placeholder:"Enter room name",name:"roomName",onChange:function(t){e.handleChange(t)}}),r.a.createElement("span",{onClick:function(t){e.handleSubmit(t)}},r.a.createElement(fe.a,{icon:Ee.s}))))}}]),t}(n.Component),ia=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{createRoom:function(e,t){return function(a){console.log(e),a({type:N}),m.a.post("/room",e).then((function(n){a({type:"ADD_INROOM_OWNSROOM",payload:e.roomName}),a({type:S}),t.push("/room/".concat(e.roomName))})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}}})(sa),ma=(a(262),function(e){function t(e){var a;return Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).closeErrors=function(){a.setState({show:!1,errors:{}}),a.props.clearErrors()},a._onJoinRoom=function(e,t){null!==e&&a.props.joinRoom(e,t)},a._removeOwnsRoom=function(e,t){a.props.deleteRoom(e,t)},a.state={show:!1,errors:{}},a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors,show:!0})}},{key:"render",value:function(){var e=this,t=this.props.history,a=this.props.user.profile,n=a.inRoom,o=a.ownsRoom,c=this.state.errors;return r.a.createElement("div",{className:"door-container"},r.a.createElement(Ve,null),r.a.createElement(Ce.a,null,this.state.show&&r.a.createElement(Wt.a,{variant:"danger",onClose:function(){return e.closeErrors()},dismissible:!0},r.a.createElement("p",null,c.fail)),r.a.createElement(ve.a,null,r.a.createElement(be.a,{sm:"3",xs:"2"},r.a.createElement(Ye,null)),r.a.createElement(be.a,{sm:"9",xs:"10"},r.a.createElement("div",{className:"door-header"},r.a.createElement("h3",null," Room ")),r.a.createElement(ve.a,null,null!==n?r.a.createElement(be.a,null,r.a.createElement(ta,{roomName:n})):r.a.createElement(be.a,null,r.a.createElement(oa,{history:t})),r.a.createElement(be.a,null,r.a.createElement(ia,{history:t}))),o&&r.a.createElement("div",{className:"owns-room-table"},r.a.createElement(zt.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{xs:"3"}," Your Room "))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null," ",o," "),r.a.createElement("td",null,r.a.createElement(ye.a,{className:"delete-button",onClick:function(){return e._removeOwnsRoom(t,o)}},r.a.createElement("span",null,r.a.createElement(fe.a,{icon:Ee.y}))))))))))),r.a.createElement(ut,{show:this.props.UI.loading}))}}]),t}(n.Component)),ua=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),(function(e){return{joinRoom:function(t,a){return e(D(t,a))},clearErrors:function(){return e(F())},deleteRoom:function(t,a){return e(_(t,a))}}}))(ma),da=(a(263),function(e){function t(e){var a;return Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).closeSuccess=function(){a.setState({show:!1,success:null}),a.props.clearSuccess()},a.handleChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){if(e.preventDefault(),0===a.state.nickName.length){a.setState({errors:{nickName:"It must not be empty."}})}else a.props.updateNickName(a.state.nickName),a.setState({errors:{}})},a.handleImageChange=function(e){var t=e.target.files[0],n=new FormData;n.append("image",t,t.name),a.props.uploadImage(n)},a.handleEditPicture=function(){document.getElementById("imageInput").click()},console.log(e),a.state={nickName:e.user.profile.nickName||"",show:!1,errors:{}},a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.success&&this.setState({success:e.UI.success,show:!0})}},{key:"render",value:function(){var e=this,t=this.props.user.profile,a=t.email,n=t.handle,o=t.avatar,c=t.nickName,l=this.props.UI,s=l.loading,i=l.success,m=this.state.errors;return r.a.createElement("div",{className:"account-container"},r.a.createElement(Ve,null),r.a.createElement(Ce.a,null,this.state.show&&r.a.createElement(Wt.a,{variant:"success",onClose:function(){return e.closeSuccess()},dismissible:!0},r.a.createElement("p",null,i)),r.a.createElement(ve.a,null,r.a.createElement(be.a,{sm:"3",xs:"2"},r.a.createElement(Ye,null)),r.a.createElement(be.a,{sm:"9",xs:"10"},r.a.createElement("h3",null," My Account "),r.a.createElement("div",{className:"account-body"},r.a.createElement("div",{className:"account-avatar"},r.a.createElement("img",{src:o,alt:"avatar"}),r.a.createElement("input",{type:"file",id:"imageInput",hidden:"hidden",onChange:this.handleImageChange}),r.a.createElement("span",{onClick:function(){return e.handleEditPicture()}},"Edit")),r.a.createElement(ge.a,{onSubmit:function(t){e.handleSubmit(t)}},r.a.createElement(ge.a.Group,{as:ve.a,controlId:"formHorizontalEmail"},r.a.createElement(ge.a.Label,{column:!0,sm:2},"Email"),r.a.createElement(be.a,{sm:10},r.a.createElement(ge.a.Control,{type:"email",placeholder:a,disabled:!0}))),r.a.createElement(ge.a.Group,{as:ve.a,controlId:"formHorizontalPassword"},r.a.createElement(ge.a.Label,{column:!0,sm:2},"Username"),r.a.createElement(be.a,{sm:10},r.a.createElement(ge.a.Control,{type:"text",placeholder:n,disabled:!0}))),r.a.createElement(ge.a.Group,{as:ve.a,controlId:"formHorizontalPassword"},r.a.createElement(ge.a.Label,{column:!0,sm:2},"Nickname"),r.a.createElement(be.a,{sm:10},r.a.createElement(ge.a.Control,{type:"text",name:"nickName",onChange:function(t){e.handleChange(t)},placeholder:c,isInvalid:!!m.nickName,value:this.state.nickName||""}),r.a.createElement(ge.a.Control.Feedback,{type:"invalid"},m.nickName))),r.a.createElement(ge.a.Group,{as:ve.a},r.a.createElement(be.a,{sm:{span:10,offset:2}},r.a.createElement(ye.a,{variant:"success",type:"submit"},s?r.a.createElement(fe.a,{className:"icon",icon:Ee.v,spin:!0}):r.a.createElement(fe.a,{className:"icon",icon:Ee.h}),r.a.createElement("span",null," Save "))))))))))}}]),t}(n.Component)),pa=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{updateNickName:function(e){return function(t){t({type:N}),m.a.post("/user/nickname",{nickName:e}).then((function(a){t({type:"SET_NICKNAME",payload:e}),t({type:"SET_SUCCESS",payload:a.data.success})})).catch((function(e){return console.log(e)}))}},clearSuccess:G,uploadImage:function(e){return function(t){m.a.post("/user/avatar",e).then((function(){t(k())})).catch((function(e){return console.log(e)}))}}})(da),ha=(a(264),function(e){function t(e){var a;return Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).closeSuccess=function(){a.setState({show:!1,success:null}),a.props.clearSuccess()},a.handleChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.resetState=function(){a.setState({password:"",newPassword:""})},a.handleSubmit=function(e){if(e.preventDefault(),0===a.state.password.length){a.setState({errors:{password:"It must not be empty."}})}else if(0===a.state.newPassword.length){a.setState({errors:{newPassword:"It must not be empty."}})}else if(a.state.newPassword.length<6){a.setState({errors:{newPassword:"Must be with at least 6 characters."}})}else{var t={password:a.state.password,newPassword:a.state.newPassword};a.props.updatePassword(t,a.resetState)}},a.state={password:"",newPassword:"",errors:{},show:!1},a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors}),e.UI.success&&this.setState({success:e.UI.success,show:!0})}},{key:"render",value:function(){var e=this,t=this.state.errors,a=this.props.UI,n=a.loading,o=a.success;return r.a.createElement("div",{className:"password-container"},r.a.createElement(Ve,null),r.a.createElement(Ce.a,null,this.state.show&&r.a.createElement(Wt.a,{variant:"success",onClose:function(){return e.closeSuccess()},dismissible:!0},r.a.createElement("p",null,o)),r.a.createElement(ve.a,null,r.a.createElement(be.a,{sm:"3",xs:"2"},r.a.createElement(Ye,null)),r.a.createElement(be.a,{sm:"9",xs:"10"},r.a.createElement("h3",null," Password "),r.a.createElement("div",{className:"password-body"},r.a.createElement(ge.a,{onSubmit:function(t){e.handleSubmit(t)}},r.a.createElement(ge.a.Group,{as:ve.a,controlId:"formHorizontalEmail"},r.a.createElement(ge.a.Label,{column:!0,sm:3},"Old Password"),r.a.createElement(be.a,{sm:9},r.a.createElement(ge.a.Control,{type:"password",placeholder:"Your Old Password",name:"password",onChange:this.handleChange,isInvalid:!!t.password,value:this.state.password}),r.a.createElement(ge.a.Control.Feedback,{type:"invalid"},t.password))),r.a.createElement(ge.a.Group,{as:ve.a,controlId:"formHorizontalPassword"},r.a.createElement(ge.a.Label,{column:!0,sm:3},"New Password"),r.a.createElement(be.a,{sm:9},r.a.createElement(ge.a.Control,{type:"password",placeholder:"Your New Password",name:"newPassword",onChange:this.handleChange,isInvalid:!!t.newPassword,value:this.state.newPassword}),r.a.createElement(ge.a.Control.Feedback,{type:"invalid"},t.newPassword))),r.a.createElement(ge.a.Group,{as:ve.a},r.a.createElement(be.a,{sm:{span:10,offset:2}},r.a.createElement(ye.a,{variant:"success",type:"submit"},n?r.a.createElement(fe.a,{className:"icon",icon:Ee.v,spin:!0}):r.a.createElement(fe.a,{className:"icon",icon:Ee.h}),r.a.createElement("span",null," Save "))))))))))}}]),t}(n.Component)),fa=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{updatePassword:function(e,t){return function(a){a({type:N}),m.a.post("/user/password",e).then((function(e){a({type:"SET_SUCCESS",payload:e.data.success}),t()})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data}),t()}))}},clearSuccess:G})(ha),Ea=(a(265),a(266),function(e){function t(e){var a;return Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.onSure(a.props.ownsRoom)},a.handleClose=function(){return a.props.onHide()},a.state={errors:{}},a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"render",value:function(){return r.a.createElement(it.a,Object.assign({backdrop:"static"},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(it.a.Header,null,r.a.createElement(it.a.Title,{id:"contained-modal-title-vcenter"},"Hi, there")),r.a.createElement(it.a.Body,null,'You currently own room "',this.props.ownsRoom,'", would you like to delete it and start matching?'),r.a.createElement(it.a.Footer,null,r.a.createElement(he.a,{to:"/room"},r.a.createElement(ye.a,{id:"close",variant:"secondary"},"Close")),r.a.createElement(ye.a,{id:"modalButton",onClick:this.handleSubmit}," Sure ")))}}]),t}(n.Component)),va=a(158),ba=a.n(va),ga=a(159),ya=a.n(ga),Oa=a(160),ja=a.n(Oa),wa=function(e){function t(e){var a;return Object(ie.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).onUpdatePairs=function(e){var t=[];e.forEach((function(e){t.push({handle:e.data().handle,room:e.data().room})})),a.setState({pairs:t})},a.handleClick=function(){a.props.startMatching()},a.handleJoinRoom=function(){a.props.joinMatchedRoom(a.state.roomName,a.props.history)},a.setModalShow=function(e){a.setState({modalShow:e})},a.deleteOwnsRoom=function(e){a.props.deleteRoomNoRedirect(e)},a.ref=rt.firestore().collection("ready"),a.unsubscribe=null,a.state={errors:{},pairs:[],inPairs:!1,roomName:"",modalShow:!0},a.curHandle=e.username,a.onUpdatePairs=a.onUpdatePairs.bind(Object(Fe.a)(a)),a}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.onSnapshot(this.onUpdatePairs)}},{key:"componentDidUpdate",value:function(e,t){if(!t.inPairs&&this.props.username)for(var a=0,n=this.state.pairs.length;a<n;a++)this.state.pairs[a].handle===this.props.username&&this.setState({inPairs:!0,roomName:this.state.pairs[a].room})}},{key:"render",value:function(){var e=this,t=this.state.inPairs,a=this.props,n=a.matching,o=a.ownsRoom,c=o&&o.length>0;console.log(this.state.inPairs);var l=r.a.createElement("div",{className:"not-ready-container"},n?r.a.createElement("div",{className:"waiting-container"},r.a.createElement("img",{src:ya.a,alt:"loading"}),r.a.createElement("p",null,"Pomopal is working hard to connect you with another sould. If you have waited for long time, you can also try to create a new room and invite your friend."),r.a.createElement(ye.a,{variant:"info"},"Matching...")):r.a.createElement("div",{className:"matching-container"},r.a.createElement("img",{src:ba.a,alt:"connecting"}),r.a.createElement("p",null,"Pomopal will connect you with another user who wants to start a pomodoro at this moment..."),r.a.createElement("div",null,r.a.createElement(ye.a,{variant:"info",onClick:function(){return e.handleClick()}},"Match"))));return r.a.createElement("div",{className:"match-container"},r.a.createElement(Ve,null),t?r.a.createElement("div",{className:"joining-container"},r.a.createElement("img",{src:ja.a,alt:"joining"}),r.a.createElement("p",null,"We found a good pal for you, click button to join room."),r.a.createElement("div",null,r.a.createElement(ye.a,{variant:"info",onClick:function(){return e.handleJoinRoom()}},"Join Room"))):l,r.a.createElement(Ea,{show:c,ownsRoom:o,onSure:function(t){return e.deleteOwnsRoom(t)}}),r.a.createElement(ut,{show:this.props.UI.loading}))}}]),t}(n.Component),Na=Object(l.b)((function(e){return{user:e.user,username:e.user.profile.handle,matching:e.user.profile.matching,ownsRoom:e.user.profile.ownsRoom,UI:e.UI}}),{startMatching:function(){return function(e){e({type:N}),m.a.get("/match").then((function(t){e({type:"START_MATCHING"}),e({type:S})})).catch((function(e){console.error(e)}))}},joinMatchedRoom:function(e,t){return function(a){a({type:N}),m.a.post("/joinmatch",{roomName:e}).then((function(n){console.log(n.data),null!==n.data.success&&(a({type:S}),t.push("/room/".concat(e)))})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}},deleteRoomNoRedirect:function(e){return function(t){t({type:N}),m.a.post("/room/delete",{roomName:e}).then((function(e){null!==e.data.success&&(t({type:"REMOVE_INROOM_OWNSROOM"}),t({type:S}))})).catch((function(e){console.log(e)}))}}})(wa),Sa=(a(267),a(161)),Ca=a.n(Sa),ka=function(e){function t(){return Object(ie.a)(this,t),Object(ue.a)(this,Object(de.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ve.a,{className:"notfound-mainbody"},r.a.createElement(be.a,{className:"left-content",lg:"6"},r.a.createElement("p",null,"404 page"),r.a.createElement("p",null,"OOPS, Page not found!"),r.a.createElement("button",{className:"btn-primary"},r.a.createElement(he.a,{to:"/dashboard"},"Go back to Dashboard "))),r.a.createElement(be.a,{lg:"6"},r.a.createElement("img",{className:"notfound-img",src:Ca.a,alt:"notFound"}))))}}]),t}(r.a.Component),Ta=function(e){var t=function(t){function a(){return Object(ie.a)(this,a),Object(ue.a)(this,Object(de.a)(a).apply(this,arguments))}return Object(pe.a)(a,t),Object(me.a)(a,[{key:"componentDidMount",value:function(){this._checkAndRedirect()}},{key:"componentDidUpdate",value:function(){this._checkAndRedirect()}},{key:"_checkAndRedirect",value:function(){this.props.authenticated||this.props.redirect()}},{key:"render",value:function(){return r.a.createElement("div",null,this.props.authenticated?r.a.createElement(e,this.props):null)}}]),a}(r.a.Component);return Object(l.b)((function(e){return{authenticated:e.user.authenticated}}),(function(e){return{redirect:function(){window.location.href="/login"}}}))(t)},Pa=a(33),Ia=Object(Pa.a)(),Ra=a(162);m.a.defaults.baseURL="https://us-central1-pomopal-dev.cloudfunctions.net/api";var Ma=localStorage.FBIdToken;Ma&&(1e3*d()(Ma).exp+144e5<Date.now()?(le.dispatch(P()),localStorage.removeItem("FBIdToken"),window.location.href="/login"):(le.dispatch({type:"SET_AUTHENTICATED"}),m.a.defaults.headers.common.Authorization=Ma,le.dispatch(k())));c.a.render(r.a.createElement(l.a,{store:le},r.a.createElement(Ra.a,{loading:null,persistor:se},r.a.createElement(s.c,{history:Ia},r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:He}),r.a.createElement(s.b,{exact:!0,path:"/signup",component:Ne}),r.a.createElement(s.b,{exact:!0,path:"/login",component:nt}),r.a.createElement(s.b,{exact:!0,path:"/home",component:Xt}),r.a.createElement(s.b,{exact:!0,path:"/dashboard",component:Ta(tt)}),r.a.createElement(s.b,{exact:!0,path:"/account",component:Ta(pa)}),r.a.createElement(s.b,{exact:!0,path:"/password",component:Ta(fa)}),r.a.createElement(s.b,{exact:!0,path:"/room",component:Ta(ua)}),r.a.createElement(s.b,{exact:!0,path:"/room/:roomname",component:Ta(It)}),r.a.createElement(s.b,{exact:!0,path:"/test/:roomname",component:Bt}),r.a.createElement(s.b,{exact:!0,path:"/project",component:Ta(Yt)}),r.a.createElement(s.b,{exact:!0,path:"/match",component:Ta(Na)}),r.a.createElement(s.b,{exact:!0,path:"/tag",component:Ta($t)}),r.a.createElement(s.b,{path:"/404",component:ka}),r.a.createElement(s.a,{to:"/404"}))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},52:function(e,t,a){e.exports=a.p+"static/media/avatar.3a88b763.svg"},74:function(e,t,a){e.exports=a.p+"static/media/signup.0d980858.jpeg"}},[[169,1,2]]]);
//# sourceMappingURL=main.1144496a.chunk.js.map