(window["webpackJsonpsocial-pomo"]=window["webpackJsonpsocial-pomo"]||[]).push([[0],{112:function(e,t,a){e.exports=a.p+"static/media/co-working.0743e540.svg"},113:function(e,t,a){e.exports=a.p+"static/media/join-room.0bf66e13.svg"},114:function(e,t,a){e.exports=a.p+"static/media/create-room.e87cff51.svg"},120:function(e,t,a){e.exports=a(205)},148:function(e,t,a){},151:function(e,t,a){},154:function(e,t,a){},165:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){},199:function(e,t,a){},200:function(e,t){},201:function(e,t,a){},202:function(e,t,a){},203:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(19),c=a.n(r),l=a(16),i=a(24),s=a(46),u=a(21),m=a.n(u),p=(a(145),a(103)),d=a.n(p),h=(a(148),a(9)),f=a(10),E=a(12),b=a(11),v=a(13),O=a(18),g=a(231),j=a(105),y=a(240),S=a(243),C=a(22),w=a(23),N=function(e){var t="Bearer ".concat(e);localStorage.setItem("FBIdToken",t),m.a.defaults.headers.common.Authorization=t},I=function(){return function(e){e({type:"LOADING_USER"}),m.a.get("/user").then((function(t){e({type:"SET_USER",payload:t.data})})).catch((function(e){return console.log(e)}))}},k=function(){return function(e){localStorage.removeItem("FBIdToken"),delete m.a.defaults.headers.common.Authorization,e({type:"SET_UNAUTHENTICATED"}),window.location.href="/login"}},R=function(e,t,a){return function(n){var o={content:"".concat(a," commit to work on: ").concat(e,"."),roomName:t,userHandle:a};m.a.post("/message",o).then((function(t){n({type:"SET_TODO",payload:e})})).catch((function(e){return console.log(e)}))}},P=function(e){return function(t){console.log(e),m.a.post("/message",e).then((function(e){console.log(e)})).catch((function(e){}))}},U=function(e,t){return function(a){m.a.post("/room",e).then((function(n){a({type:"ADD_INROOM_OWNSROOM",payload:e.roomName}),t.push("/room/".concat(e.roomName))})).catch((function(e){console.log(e),console.log(e.response),a({type:"SET_ERRORS",payload:e.response.data})}))}},D=function(e,t){return function(a){console.log("data in actions is",e),m.a.post("/joinroom",e).then((function(n){console.log(n),null!==n.data.success&&(a({type:"ADD_INROOM",payload:e.roomName}),t.push("/room/".concat(e.roomName)))})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}},T=function(e){return function(t){m.a.get("/inroom/remove").then((function(a){null!==a.data.success&&(t({type:"REMOVE_INROOM"}),e.push("/room"))})).catch((function(e){console.log(e)}))}},_=function(e){return function(t){console.log("data in action is:",e),m.a.post("/pomo",e).then((function(e){console.log(e)})).catch((function(e){console.error(e)}))}},A={LOG_IN:"LOG_IN",GET_MESSAGES:"GET_MESSAGES"},M=(a(151),a(58)),L=a.n(M),x=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(b.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t={email:a.state.email,password:a.state.password};a.props.loginUser(t,a.props.history)},a.state={email:"",password:"",errors:{}},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this,t=this.state.errors;return o.a.createElement("div",{className:"login-container"},o.a.createElement(g.a,null,o.a.createElement(j.a,{lg:5,md:5,xs:12},o.a.createElement("div",{className:"login-left"},o.a.createElement("h3",null,"Sign In App"),o.a.createElement("h5",null,"Enter your email address and password to access account."),o.a.createElement("div",{className:"signup-form"},o.a.createElement(y.a,{onSubmit:function(t){e.handleSubmit(t)}},o.a.createElement(y.a.Group,{controlId:"formBasicEmail"},o.a.createElement(y.a.Label,null,o.a.createElement("h5",null,o.a.createElement("b",null,"Email address"))),o.a.createElement(y.a.Control,{type:"email",placeholder:"Enter email",name:"email",onChange:function(t){e.handleChange(t)},value:this.state.email,isInvalid:!!t.email}),o.a.createElement(y.a.Control.Feedback,{type:"invalid"},t.email)),o.a.createElement(y.a.Group,{controlId:"formBasicPassword"},o.a.createElement(y.a.Label,null,o.a.createElement("h5",null,o.a.createElement("b",null,"Password"))),o.a.createElement(y.a.Control,{type:"password",placeholder:"Password",name:"password",onChange:function(t){e.handleChange(t)},value:this.state.password,isInvalid:!!t.password}),o.a.createElement(y.a.Control.Feedback,{type:"invalid"},t.password)),o.a.createElement(S.a,{variant:"primary",type:"submit"},o.a.createElement(C.a,{className:"icon",icon:w.g}),"Log In"),o.a.createElement("div",{className:"link-to-signup"},o.a.createElement("h5",null,"Don't have an account? ",o.a.createElement("b",null,o.a.createElement(i.b,{to:"/signup"}," Sign Up ")))))))),o.a.createElement(j.a,{lg:7,md:7,xs:12},o.a.createElement("div",{className:"login-right"},o.a.createElement("img",{src:L.a,alt:"loginPic"}),o.a.createElement("h2",null,"I love it!")))))}}]),t}(n.Component),G=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{loginUser:function(e,t){return function(a){a({type:"LOADING_UI"}),m.a.post("/login",e).then((function(e){N(e.data.token),a(I()),a({type:"CLEAR_ERRORS"}),t.push("/overview")})).catch((function(e){console.log(e),a({type:"SET_ERRORS",payload:e.response.data})}))}}})(x),B=a(234),H=(a(154),a(68));a(164);H.initializeApp({apiKey:"AIzaSyBuRc03LvtY55WHAkzyUfaNInvRPsp5Enc",authDomain:"social-pomo-94112.firebaseapp.com",databaseURL:"https://social-pomo-94112.firebaseio.com",projectId:"social-pomo-94112",storageBucket:"social-pomo-94112.appspot.com",messagingSenderId:"105418250972"}),H.firestore().settings({timestampsInSnapshots:!0});var F=H,W=(a(165),a(238)),z=a(242),J=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(b.a)(t).call(this,e))).onUpdateMessages=function(e){var t=[];e.forEach((function(e){console.log(e.data()),t.push({userHandle:e.data().userHandle,content:e.data().content,createdAt:e.data().createdAt})})),a.setState({messages:t})},a.ref=F.firestore().collection("rooms").doc(a.props.roomname).collection("messages"),a.unsubscribe=null,a.state={messages:[],content:""},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(O.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={userHandle:this.props.username,content:this.state.content,roomName:this.props.roomname};this.props.addMessage(t),this.setState({content:""})}},{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.orderBy("createdAt").onSnapshot(this.onUpdateMessages)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"chatroom-container"},this.state.messages.map((function(e){return o.a.createElement("div",{key:e.messageId}," ",e.content," ")})),o.a.createElement("div",{className:"chatroom-input"},o.a.createElement("form",{onSubmit:function(t){e.handleSubmit(t)}},o.a.createElement(W.a,{type:"text",name:"content",label:"content",onChange:function(t){e.handleChange(t)},value:this.state.content,fullWidth:!0}),o.a.createElement(z.a,{type:"submit",variant:"contained",color:"primary"},"Submit"))))}}]),t}(n.Component),V=Object(l.b)((function(e){return{username:e.user.profile.handle}}),(function(e){return{addMessage:function(t){return e(P(t))}}}))(J),X=a(235),K=(a(166),function(e){return Math.floor(e/60)+" : "+Math.round(e%60)}),Y=a(241),$=(a(167),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(b.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.handleMultiChange=function(e){a.setState({tag:Array.from(e.target.selectedOptions,(function(e){return e.value}))})},a.handleSubmit=function(e){e.preventDefault();var t={content:a.state.content,project:a.state.project,tag:a.state.tag};console.log(t),a.props.createPomo(t),a.props.onHide()},a.state={content:"",project:"",tag:[],errors:{}},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=(this.state.errors,this.props.user.profile),a=t.projects,n=t.tags;return o.a.createElement(Y.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),o.a.createElement(Y.a.Header,{closeButton:!0},o.a.createElement(Y.a.Title,{id:"contained-modal-title-vcenter"},"Add to history pomo")),o.a.createElement(Y.a.Body,null,o.a.createElement(y.a,{onSubmit:function(t){e.handleSubmit(t)}},o.a.createElement(y.a.Group,{controlId:"formBasicEmail"},o.a.createElement(y.a.Label,null," What did you accomplished? "),o.a.createElement(y.a.Control,{type:"text",placeholder:"Enter your task",value:this.props.user.todo,name:"content",onChange:function(t){e.handleChange(t)}})),o.a.createElement(y.a.Group,{controlId:"exampleForm.ControlSelect1"},o.a.createElement(y.a.Label,null," select project "),o.a.createElement(y.a.Control,{as:"select",name:"project",onChange:function(t){e.handleChange(t)}},a&&a.map((function(e,t){return o.a.createElement("option",{key:t}," ",e," ")})))),o.a.createElement(y.a.Group,{controlId:"exampleForm.ControlSelect2"},o.a.createElement(y.a.Label,null," Add Tag "),o.a.createElement(y.a.Control,{as:"select",multiple:!0,name:"tag",onChange:function(t){e.handleMultiChange(t)}},n&&n.map((function(e,t){return o.a.createElement("option",{key:t}," ",e," ")})))),o.a.createElement(S.a,{variant:"primary",type:"submit"},"Submit"))),o.a.createElement(Y.a.Footer,null,o.a.createElement(S.a,{onClick:this.props.onHide}," Cancel "),o.a.createElement(S.a,{onClick:this.handleSubmit}," Submit ")))}}]),t}(n.Component)),q=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{createPomo:_})($),Q=a(64),Z=a.n(Q),ee=function(e){function t(e){var a;Object(h.a)(this,t),(a=Object(E.a)(this,Object(b.a)(t).call(this,e))).count=function(){a.state.on&&(a.state.sec>0?a.setState((function(e){return{sec:e.sec-1}})):(a.audio.play(),a.setState({on:!1,modalShow:!0,sec:1500})))},a.start=function(){a.setState({on:!0}),a.interval=setInterval((function(){a.count()}),1e3)},a.reset=function(){a.setState({sec:1500,on:!1}),clearInterval(a.interval)},a.handleStart=function(e){e.preventDefault();var t={roomName:a.props.roomName};m.a.post("/countaddone",t).then((function(e){console.log(e)})).catch((function(e){console.error(e)}))},a.handleReset=function(e){e.preventDefault();var t={roomName:a.props.roomName};m.a.post("/countaddone",t).then((function(e){console.log(e)})).catch((function(e){console.error(e)}))},a.subscribeStart=function(e){e.data().count%2===1?a.start():a.reset()},a.setModalShow=function(e){a.setState({modalShow:e})},a.handleChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))};var n=a.props.roomName;return a.ref=F.firestore().collection("rooms").doc(n),a.unsubsrcibe=null,a.audio=new Audio(Z.a),a.state={sec:1500,on:!1,modalShow:!1},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.onSnapshot(this.subscribeStart)}},{key:"render",value:function(){var e=this;console.log(this.props.isOwner),console.log(this.state.time);var t=o.a.createElement("div",null,this.state.on?o.a.createElement(S.a,{variant:"success",onClick:function(t){e.handleReset(t)}},"Reset"):o.a.createElement(S.a,{variant:"primary",onClick:function(t){e.handleStart(t)}},"Start"),o.a.createElement(y.a,{onSubmit:function(){console.log(e.state.time)}},o.a.createElement(y.a.Group,{controlId:"exampleForm.ControlSelect1"},o.a.createElement(y.a.Label,null,"Set Time"),o.a.createElement(y.a.Control,{as:"select",name:"time",value:this.state.time,onChange:function(t){e.handleChange(t)}},o.a.createElement("option",null," 25 "),o.a.createElement("option",null," 45 "),o.a.createElement("option",null," 60 ")))));return o.a.createElement("div",{className:"pomodoro-container"},o.a.createElement(B.a,null,o.a.createElement(X.a,null,o.a.createElement(S.a,{id:"leave",onClick:function(){return e.props.onLeave()}},o.a.createElement("span",null,o.a.createElement(C.a,{icon:w.h})),"Leave Room"),o.a.createElement(S.a,{id:"commit",onClick:function(){return e.props.onOpenModal()}},o.a.createElement("span",null,o.a.createElement(C.a,{icon:w.e})),"Commit Task")),o.a.createElement("div",{id:"count"}," ",K(this.state.sec)," "),this.props.isOwner&&t),o.a.createElement(q,{show:this.state.modalShow,onHide:function(){return e.setModalShow(!1)}}))}}]),t}(n.Component),te=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(b.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.onSend(a.state.content,a.props.roomName,a.props.handle),a.props.onHide()},a.state={content:"",errors:{}},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.state.errors;return o.a.createElement(Y.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),o.a.createElement(Y.a.Header,null,o.a.createElement(Y.a.Title,{id:"contained-modal-title-vcenter"},"What to focus now?")),o.a.createElement(Y.a.Body,null,o.a.createElement(y.a,null,o.a.createElement(y.a.Group,{controlId:"formBasicEmail"},o.a.createElement(y.a.Control,{type:"text",placeholder:"Enter what to focus on",name:"content",onChange:function(t){e.handleChange(t)},isInvalid:!!t.content}),o.a.createElement(y.a.Control.Feedback,{type:"invalid"},t.content)))),o.a.createElement(Y.a.Footer,null,o.a.createElement(S.a,{onClick:this.handleSubmit}," Send ")))}}]),t}(n.Component),ae=a(239),ne=(a(187),a(65)),oe=a.n(ne),re=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(b.a)(t).call(this,e))).state={content:""},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"navbar-container"},o.a.createElement(B.a,null,o.a.createElement(ae.a,null,o.a.createElement(ae.a.Brand,{href:"/overview"}," Social Pomo "),o.a.createElement(ae.a.Toggle,null),o.a.createElement(ae.a.Collapse,{className:"justify-content-end"},o.a.createElement(ae.a.Text,null,o.a.createElement("img",{src:oe.a,alt:"avatar"}))))))}}]),t}(n.Component),ce=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{addTodo:R})(re),le=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(b.a)(t).call(this,e))).setModalShow=function(e){a.setState({modalShow:e})},a.addTodo=function(e,t,n){a.props.addTodo(e,t,n)},a.onLeave=function(){a.props.leaveRoom(a.props.history)},a.state={modalShow:!0,isOwner:!1},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props.match.params.roomname,a=this.props.user.profile,n=a.inRoom,r=a.ownsRoom,c=null!==r&&n===r;return o.a.createElement("div",{className:"room-container"},o.a.createElement(ce,null),o.a.createElement(B.a,null,o.a.createElement(g.a,null,o.a.createElement(j.a,{md:4},o.a.createElement(ee,{roomName:t,isOwner:c,onLeave:function(){return e.onLeave()},onOpenModal:function(){return e.setModalShow(!0)}})),o.a.createElement(j.a,{md:8},o.a.createElement(V,{roomname:t})))),o.a.createElement(te,{show:this.state.modalShow,onSend:function(t,a,n){return e.addTodo(t,a,n)},onHide:function(){return e.setModalShow(!1)},roomName:t,handle:this.props.user.profile.handle}))}}]),t}(n.Component),ie=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{leaveRoom:T,addTodo:R})(le);m.a.defaults.baseURL="https://us-central1-social-pomo-94112.cloudfunctions.net/api";var se=function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.username;return o.a.createElement("div",{className:"app-container"},e?o.a.createElement(ie,null):o.a.createElement(G,null))}}]),t}(n.Component);Object(l.b)((function(e){return{username:e.auth.username}}))(se),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ue=a(45),me=a(111),pe=a(80);function de(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function he(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?de(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var fe={authenticated:!1,loading:!1,todo:"",profile:{}},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTHENTICATED":return he({},e,{authenticated:!0});case"SET_UNAUTHENTICATED":return fe;case A.LOG_IN:return he({},e,{username:t.username});case"SET_USER":return{authenticated:!0,loading:!1,profile:t.payload.profile};case"ADD_PROJECT":return he({},e,{profile:he({},e.profile,{projects:[].concat(Object(pe.a)(e.profile.projects),[t.payload.project])})});case"REMOVE_PROJECT":return he({},e,{profile:he({},e.profile,{projects:e.profile.projects.filter((function(e){return e!==t.payload.project}))})});case"ADD_TAG":return he({},e,{profile:he({},e.profile,{tags:[].concat(Object(pe.a)(e.profile.tags),[t.payload.tag])})});case"REMOVE_TAG":return he({},e,{profile:he({},e.profile,{projects:e.profile.tags.filter((function(e){return e!==t.payload.tag}))})});case"ADD_INROOM":return he({},e,{profile:he({},e.profile,{inRoom:t.payload})});case"REMOVE_INROOM":return he({},e,{profile:he({},e.profile,{inRoom:null})});case"ADD_INROOM_OWNSROOM":return he({},e,{profile:he({},e.profile,{inRoom:t.payload,ownsRoom:t.payload})});case"SET_TODO":return he({},e,{todo:t.payload});default:return e}};function be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ve(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?be(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):be(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Oe={messages:[]},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.GET_MESSAGES:return ve({},e,{messages:t.payload});default:return e}};function je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ye(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?je(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):je(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Se={loading:!1,errors:null};function Ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function we(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ce(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ce(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ne={pomos:[]},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.GET_POMOS:return we({},e,{pomos:t.payload});default:return e}},ke=Object(ue.c)({user:Ee,room:ge,pomo:Ie,UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERRORS":return ye({},e,{loading:!1,errors:t.payload});case"CLEAR_ERRORS":return ye({},e,{loading:!1,errors:null});case"LOADING_UI":return ye({},e,{loading:!0});case"STOP_LOADING_UI":return ye({},e,{loading:!1});default:return e}}}),Re=Object(ue.e)(ke,Object(ue.d)(Object(ue.a)(me.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),Pe=(a(188),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(b.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t={email:a.state.email,password:a.state.password,confirmPassword:a.state.confirmPassword,handle:a.state.handle};a.props.signupUser(t,a.props.history)},a.state={email:"",password:"",confirmPassword:"",handle:"",errors:{}},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this,t=this.state.errors;return o.a.createElement("div",{className:"signup-container"},o.a.createElement(g.a,null,o.a.createElement(j.a,{lg:5,md:5,xs:12},o.a.createElement("div",{className:"login-left"},o.a.createElement("h3",null,"Free Sign Up"),o.a.createElement("h5",null,"Don't have an account? Create your account, it takes less than a minute."),o.a.createElement("div",{className:"signup-form"},o.a.createElement(y.a,{onSubmit:function(t){e.handleSubmit(t)}},o.a.createElement(y.a.Group,{controlId:"formBasicEmail"},o.a.createElement(y.a.Label,null,o.a.createElement("h5",null,o.a.createElement("b",null,"Email address"))),o.a.createElement(y.a.Control,{type:"email",placeholder:"Enter email",name:"email",onChange:function(t){e.handleChange(t)},isInvalid:!!t.email}),o.a.createElement(y.a.Control.Feedback,{type:"invalid"},t.email)),o.a.createElement(y.a.Group,{controlId:"formBasicPassword"},o.a.createElement(y.a.Label,null,o.a.createElement("h5",null,o.a.createElement("b",null,"Password"))),o.a.createElement(y.a.Control,{type:"password",placeholder:"Password",name:"password",onChange:function(t){e.handleChange(t)},isInvalid:!!t.password}),o.a.createElement(y.a.Control.Feedback,{type:"invalid"},t.password)),o.a.createElement(y.a.Group,{controlId:"formBasicPassword"},o.a.createElement(y.a.Label,null,o.a.createElement("h5",null,o.a.createElement("b",null,"Confirm Password"))),o.a.createElement(y.a.Control,{type:"password",placeholder:"Confirm Password",name:"confirmPassword",onChange:function(t){e.handleChange(t)},isInvalid:!!t.confirmPassword}),o.a.createElement(y.a.Control.Feedback,{type:"invalid"},t.confirmPassword)),o.a.createElement(y.a.Group,{controlId:"formBasicEmail"},o.a.createElement(y.a.Label,null,o.a.createElement("h5",null,o.a.createElement("b",null,"Username"))),o.a.createElement(y.a.Control,{type:"text",placeholder:"Username",name:"handle",onChange:function(t){e.handleChange(t)},isInvalid:!!t.handle}),o.a.createElement(y.a.Control.Feedback,{type:"invalid"},t.handle)),o.a.createElement(S.a,{variant:"primary",type:"submit"},o.a.createElement(C.a,{className:"icon",icon:w.k}),"Sign Up"),o.a.createElement("div",{className:"link-to-login"},o.a.createElement("h5",null,"Already have account? ",o.a.createElement("b",null,o.a.createElement(i.b,{to:"/login"}," Log In ")))))))),o.a.createElement(j.a,{lg:7,md:7,xs:12},o.a.createElement("div",{className:"login-right"},o.a.createElement("img",{src:L.a,alt:"loginPic"}),o.a.createElement("h2",null,"I love it!")))))}}]),t}(n.Component)),Ue=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{signupUser:function(e,t){return function(a){a({type:"LOADING_UI"}),m.a.post("/signup",e).then((function(e){console.log(e),N(e.data.token),a(I()),a({type:"CLEAR_ERRORS"}),t.push("/overview")})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}}})(Pe),De=a(236),Te=(a(189),function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"signup-container"},o.a.createElement(De.a,{pill:!0,variant:"success"}," Home "),o.a.createElement(De.a,{pill:!0,variant:"success"}," ",o.a.createElement(i.b,{to:"/room"}," Room ")," "),o.a.createElement(De.a,{pill:!0,variant:"success"}," ",o.a.createElement(i.b,{to:"/signup"}," signup ")," "),o.a.createElement(De.a,{pill:!0,variant:"success"}," ",o.a.createElement(i.b,{to:"/login"}," login ")," "),o.a.createElement(De.a,{pill:!0,variant:"success"}," ",o.a.createElement(i.b,{to:"/profile"}," Profile ")," "))}}]),t}(n.Component)),_e=(a(190),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(b.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t={roomName:a.state.roomName};a.props.createRoom(t,a.props.history)},a.state={roomName:"",errors:{}},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this,t=this.state.errors;return o.a.createElement("div",{className:"what-todo-container"},o.a.createElement(y.a,{onSubmit:function(t){e.handleSubmit(t)}},o.a.createElement(y.a.Group,{controlId:"formBasicEmail"},o.a.createElement(y.a.Label,null," Room Name "),o.a.createElement(y.a.Control,{type:"text",name:"roomName",placeholder:"Enter your room name",onChange:function(t){e.handleChange(t)},isInvalid:!!t.fail}),o.a.createElement(y.a.Control.Feedback,{type:"invalid"},t.fail)),o.a.createElement(S.a,{variant:"primary",type:"submit"},"Create Room")))}}]),t}(n.Component)),Ae=(Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{createRoom:U})(_e),a(191),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(b.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t={roomName:a.state.roomName};a.props.joinRoom(t,a.props.history)},a.state={roomName:"",errors:{}},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this,t=this.state.errors;return o.a.createElement("div",{className:"what-todo-container"},o.a.createElement(y.a,{onSubmit:function(t){e.handleSubmit(t)}},o.a.createElement(y.a.Group,{controlId:"formBasicEmail"},o.a.createElement(y.a.Label,null," Room Name "),o.a.createElement(y.a.Control,{type:"text",name:"roomName",placeholder:"Enter your room name",onChange:function(t){e.handleChange(t)},isInvalid:!!t.fail}),o.a.createElement(y.a.Control.Feedback,{type:"invalid"},t.fail)),o.a.createElement(S.a,{variant:"primary",type:"submit"},"Join Room")))}}]),t}(n.Component)),Me=(Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{joinRoom:D})(Ae),a(192),a(193),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(b.a)(t).call(this,e))).state={content:""},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"navleft-container"},o.a.createElement("div",{className:"navleft-user"},o.a.createElement("img",{src:oe.a,alt:"avatar"}),o.a.createElement("p",null," Jason Gao ")),o.a.createElement("ul",{className:"navs"},o.a.createElement("li",null,o.a.createElement(i.c,{to:"/overview",activeClassName:"active"},o.a.createElement("span",null,o.a.createElement(C.a,{icon:w.i})),"Overview")),o.a.createElement("li",null,o.a.createElement(i.c,{to:"/room",activeClassName:"active"},o.a.createElement("span",null,o.a.createElement(C.a,{icon:w.c})),"Room")),o.a.createElement("li",null,o.a.createElement(i.c,{to:"/project"},o.a.createElement("span",null,o.a.createElement(C.a,{icon:w.d})),"Projects")),o.a.createElement("li",null,o.a.createElement(i.c,{to:"/tags"},o.a.createElement("span",null,o.a.createElement(C.a,{icon:w.j})),"Tags"))))}}]),t}(n.Component)),Le=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{addTodo:R})(Me),xe=(a(194),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o)))).handleClick=function(e){a.props.logoutUser()},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){this.props.history;return o.a.createElement("div",{className:"overview-container"},o.a.createElement(ce,null),o.a.createElement(B.a,null,o.a.createElement(g.a,null,o.a.createElement(j.a,{xs:"3"},o.a.createElement(Le,null)),o.a.createElement(j.a,{xs:"9"},o.a.createElement("div",{className:"overview-header"},o.a.createElement("h3",null," Overview "),o.a.createElement("span",null,o.a.createElement(i.b,{to:"/room"},o.a.createElement(C.a,{icon:w.f})," Start"))),o.a.createElement(g.a,null,o.a.createElement(j.a,{xs:"4"},o.a.createElement("div",{className:"panel total-pomo"},o.a.createElement("div",{className:"panel-header"},o.a.createElement("h5",null," Total Pomos "),o.a.createElement("span",null,o.a.createElement(C.a,{icon:w.l}))),o.a.createElement("h2",null," 125 ")),o.a.createElement("div",{className:"panel last-week"},o.a.createElement("div",{className:"panel-header"},o.a.createElement("h5",null," Last 7 days "),o.a.createElement("span",{className:"blue"},o.a.createElement(C.a,{icon:w.b}))),o.a.createElement("h2",null," 35 "))),o.a.createElement(j.a,{xs:"8"},"Chart"))))))}}]),t}(n.Component)),Ge=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{logoutUser:k})(xe),Be=(a(195),a(196),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(b.a)(t).call(this,e))).onUpdateMessages=function(e){var t=[];e.forEach((function(e){console.log(e.data()),t.push({userHandle:e.data().userHandle,content:e.data().content,createdAt:e.data().createdAt})})),a.setState({messages:t})},a.ref=F.firestore().collection("rooms").doc(a.props.roomname).collection("messages"),a.unsubscribe=null,a.state={messages:[],content:""},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(O.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={userHandle:this.props.username,content:this.state.content,roomName:this.props.roomname};this.props.addMessage(t),this.setState({content:""})}},{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.orderBy("createdAt").onSnapshot(this.onUpdateMessages)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"chatroom-container"},this.state.messages.map((function(e){return o.a.createElement("div",{key:e.messageId}," ",e.content," ")})),o.a.createElement("div",{className:"chatroom-input"},o.a.createElement("form",{onSubmit:function(t){e.handleSubmit(t)}},o.a.createElement(W.a,{type:"text",name:"content",label:"content",onChange:function(t){e.handleChange(t)},value:this.state.content,fullWidth:!0}),o.a.createElement(z.a,{type:"submit",variant:"contained",color:"primary"},"Submit"))))}}]),t}(n.Component)),He=Object(l.b)((function(e){return{username:e.user.profile.handle}}),(function(e){return{addMessage:function(t){return e(P(t))}}}))(Be),Fe=(a(197),a(198),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(b.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.handleMultiChange=function(e){a.setState({tag:Array.from(e.target.selectedOptions,(function(e){return e.value}))})},a.handleSubmit=function(e){e.preventDefault();var t={content:a.state.content,project:a.state.project,tag:a.state.tag};console.log(t),a.props.createPomo(t),a.props.onHide()},a.state={content:"",project:"",tag:[],errors:{}},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=(this.state.errors,this.props.user.profile),a=t.projects,n=t.tags;return o.a.createElement(Y.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),o.a.createElement(Y.a.Header,{closeButton:!0},o.a.createElement(Y.a.Title,{id:"contained-modal-title-vcenter"},"Add to history pomo")),o.a.createElement(Y.a.Body,null,o.a.createElement(y.a,{onSubmit:function(t){e.handleSubmit(t)}},o.a.createElement(y.a.Group,{controlId:"formBasicEmail"},o.a.createElement(y.a.Label,null," What did you accomplished? "),o.a.createElement(y.a.Control,{type:"text",placeholder:"Enter your task",value:this.props.user.todo,name:"content",onChange:function(t){e.handleChange(t)}})),o.a.createElement(y.a.Group,{controlId:"exampleForm.ControlSelect1"},o.a.createElement(y.a.Label,null," select project "),o.a.createElement(y.a.Control,{as:"select",name:"project",onChange:function(t){e.handleChange(t)}},a&&a.map((function(e,t){return o.a.createElement("option",{key:t}," ",e," ")})))),o.a.createElement(y.a.Group,{controlId:"exampleForm.ControlSelect2"},o.a.createElement(y.a.Label,null," Add Tag "),o.a.createElement(y.a.Control,{as:"select",multiple:!0,name:"tag",onChange:function(t){e.handleMultiChange(t)}},n&&n.map((function(e,t){return o.a.createElement("option",{key:t}," ",e," ")})))),o.a.createElement(S.a,{variant:"primary",type:"submit"},"Submit"))),o.a.createElement(Y.a.Footer,null,o.a.createElement(S.a,{onClick:this.props.onHide}," Cancel "),o.a.createElement(S.a,{onClick:this.handleSubmit}," Submit ")))}}]),t}(n.Component)),We=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{createPomo:_})(Fe),ze=function(e){function t(e){var a;Object(h.a)(this,t),(a=Object(E.a)(this,Object(b.a)(t).call(this,e))).count=function(){a.state.on&&(a.state.sec>0?a.setState((function(e){return{sec:e.sec-1}})):(a.audio.play(),a.setState({on:!1,modalShow:!0,sec:5})))},a.start=function(){a.setState({on:!0}),a.interval=setInterval((function(){a.count()}),1e3)},a.reset=function(){a.setState({sec:5,on:!1}),clearInterval(a.interval)},a.handleStart=function(e){e.preventDefault();var t={roomName:a.props.roomName};m.a.post("/countaddone",t).then((function(e){console.log(e)})).catch((function(e){console.error(e)}))},a.handleReset=function(e){e.preventDefault();var t={roomName:a.props.roomName};m.a.post("/countaddone",t).then((function(e){console.log(e)})).catch((function(e){console.error(e)}))},a.subscribeStart=function(e){e.data().count%2===1?a.start():a.reset()},a.setModalShow=function(e){a.setState({modalShow:e})},a.handleChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))};var n=a.props.roomName;return a.ref=F.firestore().collection("rooms").doc(n),a.unsubsrcibe=null,a.audio=new Audio(Z.a),a.state={sec:5,on:!1,modalShow:!1},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.onSnapshot(this.subscribeStart)}},{key:"render",value:function(){var e=this;console.log(this.props.isOwner),console.log(this.state.time);var t=o.a.createElement("div",null,this.state.on?o.a.createElement(S.a,{variant:"success",onClick:function(t){e.handleReset(t)}},"Reset"):o.a.createElement(S.a,{variant:"primary",onClick:function(t){e.handleStart(t)}},"Start"),o.a.createElement(y.a,{onSubmit:function(){console.log(e.state.time)}},o.a.createElement(y.a.Group,{controlId:"exampleForm.ControlSelect1"},o.a.createElement(y.a.Label,null,"Set Time"),o.a.createElement(y.a.Control,{as:"select",name:"time",value:this.state.time,onChange:function(t){e.handleChange(t)}},o.a.createElement("option",null," 25 "),o.a.createElement("option",null," 45 "),o.a.createElement("option",null," 60 ")))));return o.a.createElement("div",{className:"pomodoro-container"},o.a.createElement(B.a,null,o.a.createElement(X.a,null,o.a.createElement(S.a,{id:"leave",onClick:function(){return e.props.onLeave()}},o.a.createElement("span",null,o.a.createElement(C.a,{icon:w.h})),"Leave Room"),o.a.createElement(S.a,{id:"commit",onClick:function(){return e.props.onOpenModal()}},o.a.createElement("span",null,o.a.createElement(C.a,{icon:w.e})),"Commit Task")),o.a.createElement("div",{id:"count"}," ",K(this.state.sec)," "),this.props.isOwner&&t),o.a.createElement(We,{show:this.state.modalShow,onHide:function(){return e.setModalShow(!1)}}))}}]),t}(n.Component),Je=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(b.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.onSend(a.state.content,a.props.roomName,a.props.handle),a.props.onHide()},a.state={content:"",errors:{}},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.state.errors;return o.a.createElement(Y.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),o.a.createElement(Y.a.Header,null,o.a.createElement(Y.a.Title,{id:"contained-modal-title-vcenter"},"What to focus now?")),o.a.createElement(Y.a.Body,null,o.a.createElement(y.a,null,o.a.createElement(y.a.Group,{controlId:"formBasicEmail"},o.a.createElement(y.a.Control,{type:"text",placeholder:"Enter what to focus on",name:"content",onChange:function(t){e.handleChange(t)},isInvalid:!!t.content}),o.a.createElement(y.a.Control.Feedback,{type:"invalid"},t.content)))),o.a.createElement(Y.a.Footer,null,o.a.createElement(S.a,{onClick:this.handleSubmit}," Send ")))}}]),t}(n.Component),Ve=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(b.a)(t).call(this,e))).setModalShow=function(e){a.setState({modalShow:e})},a.addTodo=function(e,t,n){a.props.addTodo(e,t,n)},a.onLeave=function(){a.props.leaveRoom(a.props.history)},a.state={modalShow:!0,isOwner:!1},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props.match.params.roomname,a=this.props.user.profile,n=a.inRoom,r=a.ownsRoom,c=null!==r&&n===r;return o.a.createElement("div",{className:"room-container"},o.a.createElement(ce,null),o.a.createElement(B.a,null,o.a.createElement(g.a,null,o.a.createElement(j.a,{md:4},o.a.createElement(ze,{roomName:t,isOwner:c,onLeave:function(){return e.onLeave()},onOpenModal:function(){return e.setModalShow(!0)}})),o.a.createElement(j.a,{md:8},o.a.createElement(He,{roomname:t})))),o.a.createElement(Je,{show:this.state.modalShow,onSend:function(t,a,n){return e.addTodo(t,a,n)},onHide:function(){return e.setModalShow(!1)},roomName:t,handle:this.props.user.profile.handle}))}}]),t}(n.Component),Xe=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{leaveRoom:T,addTodo:R})(Ve),Ke=a(237),Ye=(a(199),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(b.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.onCreate(a.state.project),a.props.onHide()},a.state={project:"",errors:{}},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.state.errors;return o.a.createElement(Y.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),o.a.createElement(Y.a.Header,{closeButton:!0},o.a.createElement(Y.a.Title,{id:"contained-modal-title-vcenter"},"Create new project")),o.a.createElement(Y.a.Body,null,o.a.createElement(y.a,null,o.a.createElement(y.a.Group,{controlId:"formBasicEmail"},o.a.createElement(y.a.Control,{type:"text",placeholder:"Enter project name",name:"project",onChange:function(t){e.handleChange(t)},isInvalid:!!t.project}),o.a.createElement(y.a.Control.Feedback,{type:"invalid"},t.project)))),o.a.createElement(Y.a.Footer,null,o.a.createElement(S.a,{onClick:this.props.onHide},"Close"),o.a.createElement(S.a,{onClick:this.handleSubmit}," Create ")))}}]),t}(n.Component)),$e=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(b.a)(t).call(this,e))).setModalShow=function(e){a.setState({modalShow:e})},a.addProject=function(e){a.props.addProject(e)},a.removeProject=function(e){console.log("data is ",e),a.props.removeProject(e.trim())},a.state={modalShow:!1},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;console.log(this.props.user.profile.projects);var t=this.props.user.profile.projects;return o.a.createElement("div",{className:"project-container"},o.a.createElement(B.a,null,"Project",o.a.createElement("div",null,o.a.createElement(S.a,{variant:"outline-primary",onClick:function(){return e.setModalShow(!0)}},"+ Create New Project")),o.a.createElement("div",{className:"project-table"},o.a.createElement(Ke.a,{striped:!0,bordered:!0,hover:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null," Project Name "),o.a.createElement("th",null," Delete "))),o.a.createElement("tbody",null,t&&t.map((function(t,a){return o.a.createElement("tr",{key:a},o.a.createElement("td",null," ",t," "),o.a.createElement("td",null,o.a.createElement(S.a,{onClick:function(){e.removeProject(t)},variant:"outline-danger"},"X")))})))))),o.a.createElement(Ye,{show:this.state.modalShow,onHide:function(){return e.setModalShow(!1)},onCreate:function(t){return e.addProject(t)}}))}}]),t}(n.Component),qe=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{addProject:function(e){return function(t){var a={project:e};m.a.post("/project",a).then((function(e){t({type:"ADD_PROJECT",payload:a})})).catch((function(e){return console.log(e)}))}},removeProject:function(e){return function(t){var a={project:e};m.a.post("/project/remove",a).then((function(e){t({type:"REMOVE_PROJECT",payload:a})})).catch((function(e){return console.log(e)}))}}})($e),Qe=(a(200),a(201),a(112)),Ze=a.n(Qe),et=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(b.a)(t).call(this,e))).state={content:""},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.roomName;return o.a.createElement("div",{className:"inroom-container"},o.a.createElement("h3",null," Room: ",e," "),o.a.createElement("img",{src:Ze.a}),o.a.createElement(S.a,null,o.a.createElement(i.b,{to:"/room/".concat(e)},"Enter")))}}]),t}(n.Component),tt=(a(202),a(113)),at=a.n(tt),nt=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(b.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t={roomName:a.state.roomName};a.props.joinRoom(t,a.props.history)},a.state={roomName:""},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"joinroom-container"},o.a.createElement("h3",null," Join Room "),o.a.createElement("img",{src:at.a}),o.a.createElement("div",{className:"joinroom-form"},o.a.createElement("input",{type:"text",placeholder:"Enter room name",name:"roomName",onChange:function(t){e.handleChange(t)}}),o.a.createElement("span",{onClick:function(t){e.handleSubmit(t)}},o.a.createElement(C.a,{icon:w.a}))))}}]),t}(n.Component),ot=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{joinRoom:D})(nt),rt=(a(203),a(114)),ct=a.n(rt),lt=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(b.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t={roomName:a.state.roomName};a.props.createRoom(t,a.props.history)},a.state={roomName:"",errors:{}},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"createroom-container"},o.a.createElement("h3",null," Create Room "),o.a.createElement("img",{src:ct.a}),o.a.createElement("div",{className:"createroom-form"},o.a.createElement("input",{type:"text",placeholder:"Enter room name",name:"roomName",onChange:function(t){e.handleChange(t)}}),o.a.createElement("span",{onClick:function(t){e.handleSubmit(t)}},o.a.createElement(C.a,{icon:w.f}))))}}]),t}(n.Component),it=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{createRoom:U})(lt),st=(a(204),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o))))._onJoinRoom=function(e,t){null!==e&&a.props.joinRoom(e,t)},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.history,t=this.props.user.profile.inRoom;return o.a.createElement("div",{className:"door-container"},o.a.createElement(ce,null),o.a.createElement(B.a,null,o.a.createElement(g.a,null,o.a.createElement(j.a,{xs:"3"},o.a.createElement(Le,null)),o.a.createElement(j.a,{xs:"9"},o.a.createElement("div",{className:"door-header"},o.a.createElement("h3",null," Room ")),o.a.createElement(g.a,null,null!==t?o.a.createElement(j.a,null,o.a.createElement(et,{roomName:t})):o.a.createElement(j.a,null,o.a.createElement(ot,{history:e})),o.a.createElement(j.a,null,o.a.createElement(it,{history:e})))))))}}]),t}(n.Component)),ut=Object(l.b)((function(e){return{user:e.user,UI:e.UI}}),{joinRoom:D})(st),mt=function(e){var t=function(t){function a(){return Object(h.a)(this,a),Object(E.a)(this,Object(b.a)(a).apply(this,arguments))}return Object(v.a)(a,t),Object(f.a)(a,[{key:"componentDidMount",value:function(){this._checkAndRedirect()}},{key:"componentDidUpdate",value:function(){this._checkAndRedirect()}},{key:"_checkAndRedirect",value:function(){var e=this.props,t=e.authenticated;e.redirect;console.log("1 is called..."),t||(console.log("2 is called..."),this.props.redirect())}},{key:"render",value:function(){return o.a.createElement("div",null,this.props.authenticated?o.a.createElement(e,this.props):null)}}]),a}(o.a.Component);return Object(l.b)((function(e){return{authenticated:e.user.authenticated}}),(function(e){return{redirect:function(){window.location.href="/login"}}}))(t)},pt=a(31),dt=Object(pt.a)();m.a.defaults.baseURL="https://us-central1-social-pomo-94112.cloudfunctions.net/api";var ht=localStorage.FBIdToken;ht&&(1e3*d()(ht).exp<Date.now()?(Re.dispatch(k()),window.location.href="/login"):(Re.dispatch({type:"SET_AUTHENTICATED"}),m.a.defaults.headers.common.Authorization=ht,Re.dispatch(I())));c.a.render(o.a.createElement(l.a,{store:Re},o.a.createElement(i.a,{history:dt},o.a.createElement(s.c,null,o.a.createElement(s.a,{exact:!0,path:"/",component:Te}),o.a.createElement(s.a,{exact:!0,path:"/signup",component:Ue}),o.a.createElement(s.a,{exact:!0,path:"/login",component:G}),o.a.createElement(s.a,{exact:!0,path:"/overview",component:mt(Ge)}),o.a.createElement(s.a,{exact:!0,path:"/room",component:mt(ut)}),o.a.createElement(s.a,{exact:!0,path:"/room/:roomname",component:ie}),o.a.createElement(s.a,{exact:!0,path:"/test/:roomname",component:Xe}),o.a.createElement(s.a,{exact:!0,path:"/project",component:mt(qe)})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},58:function(e,t,a){e.exports=a.p+"static/media/signup.be2168a5.jpeg"},64:function(e,t,a){e.exports=a.p+"static/media/alert.7285bcc5.mp3"},65:function(e,t,a){e.exports=a.p+"static/media/default_avatar.394c31a9.jpg"}},[[120,1,2]]]);
//# sourceMappingURL=main.c3fd1bde.chunk.js.map